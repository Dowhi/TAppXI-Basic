var oC=Object.defineProperty;var lC=(e,t,r)=>t in e?oC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nn=(e,t,r)=>lC(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Q$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gx={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function cC(){if(Fw)return rh;Fw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:c,ref:a!==void 0?a:null,props:s}}return rh.Fragment=t,rh.jsx=r,rh.jsxs=r,rh}var Ow;function uC(){return Ow||(Ow=1,gx.exports=cC()),gx.exports}var l=uC(),xx={exports:{}},Rr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function fC(){if(Rw)return Rr;Rw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function g(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(P,N,k){this.props=P,this.context=N,this.refs=_,this.updater=k||T}E.prototype.isReactComponent={},E.prototype.setState=function(P,N){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,N,"setState")},E.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=E.prototype;function C(P,N,k){this.props=P,this.context=N,this.refs=_,this.updater=k||T}var L=C.prototype=new F;L.constructor=C,w(L,E.prototype),L.isPureReactComponent=!0;var X=Array.isArray;function I(){}var U={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function H(P,N,k){var D=k.ref;return{$$typeof:e,type:P,key:N,ref:D!==void 0?D:null,props:k}}function oe(P,N){return H(P.type,N,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function R(P){var N={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(k){return N[k]})}var V=/\/+/g;function re(P,N){return typeof P=="object"&&P!==null&&P.key!=null?R(""+P.key):N.toString(36)}function le(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(N){P.status==="pending"&&(P.status="fulfilled",P.value=N)},function(N){P.status==="pending"&&(P.status="rejected",P.reason=N)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Z(P,N,k,D,M){var q=typeof P;(q==="undefined"||q==="boolean")&&(P=null);var Q=!1;if(P===null)Q=!0;else switch(q){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(P.$$typeof){case e:case t:Q=!0;break;case m:return Q=P._init,Z(Q(P._payload),N,k,D,M)}}if(Q)return M=M(P),Q=D===""?"."+re(P,0):D,X(M)?(k="",Q!=null&&(k=Q.replace(V,"$&/")+"/"),Z(M,N,k,"",function(ye){return ye})):M!=null&&(O(M)&&(M=oe(M,k+(M.key==null||P&&P.key===M.key?"":(""+M.key).replace(V,"$&/")+"/")+Q)),N.push(M)),1;Q=0;var me=D===""?".":D+":";if(X(P))for(var de=0;de<P.length;de++)D=P[de],q=me+re(D,de),Q+=Z(D,N,k,q,M);else if(de=g(P),typeof de=="function")for(P=de.call(P),de=0;!(D=P.next()).done;)D=D.value,q=me+re(D,de++),Q+=Z(D,N,k,q,M);else if(q==="object"){if(typeof P.then=="function")return Z(le(P),N,k,D,M);throw N=String(P),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Q}function ie(P,N,k){if(P==null)return P;var D=[],M=0;return Z(P,D,"","",function(q){return N.call(k,q,M++)}),D}function J(P){if(P._status===-1){var N=P._result;N=N(),N.then(function(k){(P._status===0||P._status===-1)&&(P._status=1,P._result=k)},function(k){(P._status===0||P._status===-1)&&(P._status=2,P._result=k)}),P._status===-1&&(P._status=0,P._result=N)}if(P._status===1)return P._result.default;throw P._result}var Y=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},se={map:ie,forEach:function(P,N,k){ie(P,function(){N.apply(this,arguments)},k)},count:function(P){var N=0;return ie(P,function(){N++}),N},toArray:function(P){return ie(P,function(N){return N})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Rr.Activity=x,Rr.Children=se,Rr.Component=E,Rr.Fragment=r,Rr.Profiler=a,Rr.PureComponent=C,Rr.StrictMode=n,Rr.Suspense=d,Rr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Rr.__COMPILER_RUNTIME={__proto__:null,c:function(P){return U.H.useMemoCache(P)}},Rr.cache=function(P){return function(){return P.apply(null,arguments)}},Rr.cacheSignal=function(){return null},Rr.cloneElement=function(P,N,k){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var D=w({},P.props),M=P.key;if(N!=null)for(q in N.key!==void 0&&(M=""+N.key),N)!K.call(N,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&N.ref===void 0||(D[q]=N[q]);var q=arguments.length-2;if(q===1)D.children=k;else if(1<q){for(var Q=Array(q),me=0;me<q;me++)Q[me]=arguments[me+2];D.children=Q}return H(P.type,M,D)},Rr.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:s,_context:P},P},Rr.createElement=function(P,N,k){var D,M={},q=null;if(N!=null)for(D in N.key!==void 0&&(q=""+N.key),N)K.call(N,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(M[D]=N[D]);var Q=arguments.length-2;if(Q===1)M.children=k;else if(1<Q){for(var me=Array(Q),de=0;de<Q;de++)me[de]=arguments[de+2];M.children=me}if(P&&P.defaultProps)for(D in Q=P.defaultProps,Q)M[D]===void 0&&(M[D]=Q[D]);return H(P,q,M)},Rr.createRef=function(){return{current:null}},Rr.forwardRef=function(P){return{$$typeof:u,render:P}},Rr.isValidElement=O,Rr.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:J}},Rr.memo=function(P,N){return{$$typeof:h,type:P,compare:N===void 0?null:N}},Rr.startTransition=function(P){var N=U.T,k={};U.T=k;try{var D=P(),M=U.S;M!==null&&M(k,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(I,Y)}catch(q){Y(q)}finally{N!==null&&k.types!==null&&(N.types=k.types),U.T=N}},Rr.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Rr.use=function(P){return U.H.use(P)},Rr.useActionState=function(P,N,k){return U.H.useActionState(P,N,k)},Rr.useCallback=function(P,N){return U.H.useCallback(P,N)},Rr.useContext=function(P){return U.H.useContext(P)},Rr.useDebugValue=function(){},Rr.useDeferredValue=function(P,N){return U.H.useDeferredValue(P,N)},Rr.useEffect=function(P,N){return U.H.useEffect(P,N)},Rr.useEffectEvent=function(P){return U.H.useEffectEvent(P)},Rr.useId=function(){return U.H.useId()},Rr.useImperativeHandle=function(P,N,k){return U.H.useImperativeHandle(P,N,k)},Rr.useInsertionEffect=function(P,N){return U.H.useInsertionEffect(P,N)},Rr.useLayoutEffect=function(P,N){return U.H.useLayoutEffect(P,N)},Rr.useMemo=function(P,N){return U.H.useMemo(P,N)},Rr.useOptimistic=function(P,N){return U.H.useOptimistic(P,N)},Rr.useReducer=function(P,N,k){return U.H.useReducer(P,N,k)},Rr.useRef=function(P){return U.H.useRef(P)},Rr.useState=function(P){return U.H.useState(P)},Rr.useSyncExternalStore=function(P,N,k){return U.H.useSyncExternalStore(P,N,k)},Rr.useTransition=function(){return U.H.useTransition()},Rr.version="19.2.0",Rr}var Mw;function Vv(){return Mw||(Mw=1,xx.exports=fC()),xx.exports}var W=Vv();const Vi=Hv(W);var vx={exports:{}},nh={},bx={exports:{}},yx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function dC(){return Iw||(Iw=1,(function(e){function t(Z,ie){var J=Z.length;Z.push(ie);e:for(;0<J;){var Y=J-1>>>1,se=Z[Y];if(0<a(se,ie))Z[Y]=ie,Z[J]=se,J=Y;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ie=Z[0],J=Z.pop();if(J!==ie){Z[0]=J;e:for(var Y=0,se=Z.length,P=se>>>1;Y<P;){var N=2*(Y+1)-1,k=Z[N],D=N+1,M=Z[D];if(0>a(k,J))D<se&&0>a(M,k)?(Z[Y]=M,Z[D]=J,Y=D):(Z[Y]=k,Z[N]=J,Y=N);else if(D<se&&0>a(M,J))Z[Y]=M,Z[D]=J,Y=D;else break e}}return ie}function a(Z,ie){var J=Z.sortIndex-ie.sortIndex;return J!==0?J:Z.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,x=null,b=3,g=!1,T=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function L(Z){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=Z)n(h),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=r(h)}}function X(Z){if(w=!1,L(Z),!T)if(r(d)!==null)T=!0,I||(I=!0,R());else{var ie=r(h);ie!==null&&le(X,ie.startTime-Z)}}var I=!1,U=-1,K=5,H=-1;function oe(){return _?!0:!(e.unstable_now()-H<K)}function O(){if(_=!1,I){var Z=e.unstable_now();H=Z;var ie=!0;try{e:{T=!1,w&&(w=!1,F(U),U=-1),g=!0;var J=b;try{t:{for(L(Z),x=r(d);x!==null&&!(x.expirationTime>Z&&oe());){var Y=x.callback;if(typeof Y=="function"){x.callback=null,b=x.priorityLevel;var se=Y(x.expirationTime<=Z);if(Z=e.unstable_now(),typeof se=="function"){x.callback=se,L(Z),ie=!0;break t}x===r(d)&&n(d),L(Z)}else n(d);x=r(d)}if(x!==null)ie=!0;else{var P=r(h);P!==null&&le(X,P.startTime-Z),ie=!1}}break e}finally{x=null,b=J,g=!1}ie=void 0}}finally{ie?R():I=!1}}}var R;if(typeof C=="function")R=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,re=V.port2;V.port1.onmessage=O,R=function(){re.postMessage(null)}}else R=function(){E(O,0)};function le(Z,ie){U=E(function(){Z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var J=b;b=ie;try{return Z()}finally{b=J}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var J=b;b=Z;try{return ie()}finally{b=J}},e.unstable_scheduleCallback=function(Z,ie,J){var Y=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Y+J:Y):J=Y,Z){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=J+se,Z={id:m++,callback:ie,priorityLevel:Z,startTime:J,expirationTime:se,sortIndex:-1},J>Y?(Z.sortIndex=J,t(h,Z),r(d)===null&&Z===r(h)&&(w?(F(U),U=-1):w=!0,le(X,J-Y))):(Z.sortIndex=se,t(d,Z),T||g||(T=!0,I||(I=!0,R()))),Z},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(Z){var ie=b;return function(){var J=b;b=ie;try{return Z.apply(this,arguments)}finally{b=J}}}})(yx)),yx}var Pw;function hC(){return Pw||(Pw=1,bx.exports=dC()),bx.exports}var wx={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function mC(){if(Bw)return Mi;Bw=1;var e=Vv();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,h,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Mi.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,m)},Mi.flushSync=function(d){var h=c.T,m=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=h,n.p=m,n.d.f()}},Mi.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},Mi.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Mi.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,x=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:g}):m==="script"&&n.d.X(d,{crossOrigin:x,integrity:b,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mi.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},Mi.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,x=u(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mi.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},Mi.requestFormReset=function(d){n.d.r(d)},Mi.unstable_batchedUpdates=function(d,h){return d(h)},Mi.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},Mi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mi.version="19.2.0",Mi}var Uw;function pC(){if(Uw)return wx.exports;Uw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wx.exports=mC(),wx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function gC(){if(Hw)return nh;Hw=1;var e=hC(),t=Vv(),r=pC();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var f=i,p=o;;){var y=f.return;if(y===null)break;var A=y.alternate;if(A===null){if(p=y.return,p!==null){f=p;continue}break}if(y.child===A.child){for(A=y.child;A;){if(A===f)return d(y),i;if(A===p)return d(y),o;A=A.sibling}throw Error(n(188))}if(f.return!==p.return)f=y,p=A;else{for(var G=!1,fe=y.child;fe;){if(fe===f){G=!0,f=y,p=A;break}if(fe===p){G=!0,p=y,f=A;break}fe=fe.sibling}if(!G){for(fe=A.child;fe;){if(fe===f){G=!0,f=A,p=y;break}if(fe===p){G=!0,p=A,f=y;break}fe=fe.sibling}if(!G)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case X:return"Suspense";case I:return"SuspenseList";case H:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case C:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return o=i.displayName||null,o!==null?o:re(i.type)||"Memo";case K:o=i._payload,i=i._init;try{return re(i(o))}catch{}}return null}var le=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Y=[],se=-1;function P(i){return{current:i}}function N(i){0>se||(i.current=Y[se],Y[se]=null,se--)}function k(i,o){se++,Y[se]=i.current,i.current=o}var D=P(null),M=P(null),q=P(null),Q=P(null);function me(i,o){switch(k(q,o),k(M,i),k(D,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?nw(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=nw(o),i=aw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}N(D),k(D,i)}function de(){N(D),N(M),N(q)}function ye(i){i.memoizedState!==null&&k(Q,i);var o=D.current,f=aw(o,i.type);o!==f&&(k(M,i),k(D,f))}function Ce(i){M.current===i&&(N(D),N(M)),Q.current===i&&(N(Q),Jd._currentValue=J)}var Ve,Be;function ae(i){if(Ve===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);Ve=o&&o[1]||"",Be=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+Be}var he=!1;function Ze(i,o){if(!i||he)return"";he=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(tt){var Je=tt}Reflect.construct(i,[],gt)}else{try{gt.call()}catch(tt){Je=tt}i.call(gt.prototype)}}else{try{throw Error()}catch(tt){Je=tt}(gt=i())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(tt){if(tt&&Je&&typeof tt.stack=="string")return[tt.stack,Je.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),G=A[0],fe=A[1];if(G&&fe){var Ae=G.split(`
`),Ke=fe.split(`
`);for(y=p=0;p<Ae.length&&!Ae[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Ke.length&&!Ke[y].includes("DetermineComponentFrameRoot");)y++;if(p===Ae.length||y===Ke.length)for(p=Ae.length-1,y=Ke.length-1;1<=p&&0<=y&&Ae[p]!==Ke[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Ae[p]!==Ke[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Ae[p]!==Ke[y]){var lt=`
`+Ae[p].replace(" at new "," at ");return i.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",i.displayName)),lt}while(1<=p&&0<=y);break}}}finally{he=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?ae(f):""}function Oe(i,o){switch(i.tag){case 26:case 27:case 5:return ae(i.type);case 16:return ae("Lazy");case 13:return i.child!==o&&o!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return Ze(i.type,!1);case 11:return Ze(i.type.render,!1);case 1:return Ze(i.type,!0);case 31:return ae("Activity");default:return""}}function Qe(i){try{var o="",f=null;do o+=Oe(i,f),f=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ue=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,Dt=e.unstable_shouldYield,jt=e.unstable_requestPaint,Ft=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Ct=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,ut=e.unstable_LowPriority,Bt=e.unstable_IdlePriority,Lt=e.log,xr=e.unstable_setDisableYieldValue,Fe=null,ot=null;function bt(i){if(typeof Lt=="function"&&xr(i),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Fe,i)}catch{}}var Pt=Math.clz32?Math.clz32:tr,Ut=Math.log,yr=Math.LN2;function tr(i){return i>>>=0,i===0?32:31-(Ut(i)/yr|0)|0}var Dr=256,nr=262144,jr=4194304;function Vt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mr(i,o,f){var p=i.pendingLanes;if(p===0)return 0;var y=0,A=i.suspendedLanes,G=i.pingedLanes;i=i.warmLanes;var fe=p&134217727;return fe!==0?(p=fe&~A,p!==0?y=Vt(p):(G&=fe,G!==0?y=Vt(G):f||(f=fe&~i,f!==0&&(y=Vt(f))))):(fe=p&~A,fe!==0?y=Vt(fe):G!==0?y=Vt(G):f||(f=p&~i,f!==0&&(y=Vt(f)))),y===0?0:o!==0&&o!==y&&(o&A)===0&&(A=y&-y,f=o&-o,A>=f||A===32&&(f&4194048)!==0)?o:y}function Cn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Xe(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function At(){var i=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),i}function Yt(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function De(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function or(i,o,f,p,y,A){var G=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var fe=i.entanglements,Ae=i.expirationTimes,Ke=i.hiddenUpdates;for(f=G&~f;0<f;){var lt=31-Pt(f),gt=1<<lt;fe[lt]=0,Ae[lt]=-1;var Je=Ke[lt];if(Je!==null)for(Ke[lt]=null,lt=0;lt<Je.length;lt++){var tt=Je[lt];tt!==null&&(tt.lane&=-536870913)}f&=~gt}p!==0&&Jt(i,p,0),A!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=A&~(G&~o))}function Jt(i,o,f){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Pt(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|f&261930}function pr(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var p=31-Pt(f),y=1<<p;y&o|i[p]&o&&(i[p]|=o),f&=~y}}function rr(i,o){var f=o&-o;return f=(f&42)!==0?1:Tr(f),(f&(i.suspendedLanes|o))!==0?0:f}function Tr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ne(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:Ew(i.type))}function we(i,o){var f=ie.p;try{return ie.p=i,o()}finally{ie.p=f}}var pe=Math.random().toString(36).slice(2),xe="__reactFiber$"+pe,be="__reactProps$"+pe,Se="__reactContainer$"+pe,Ie="__reactEvents$"+pe,et="__reactListeners$"+pe,Ge="__reactHandles$"+pe,qe="__reactResources$"+pe,We="__reactMarker$"+pe;function St(i){delete i[xe],delete i[be],delete i[Ie],delete i[et],delete i[Ge]}function Et(i){var o=i[xe];if(o)return o;for(var f=i.parentNode;f;){if(o=f[Se]||f[xe]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=fw(i);i!==null;){if(f=i[xe])return f;i=fw(i)}return o}i=f,f=i.parentNode}return null}function It(i){if(i=i[xe]||i[Se]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function _t(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function zt(i){var o=i[qe];return o||(o=i[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(i){i[We]=!0}var rn=new Set,Fr={};function fn(i,o){sa(i,o),sa(i+"Capture",o)}function sa(i,o){for(Fr[i]=o,i=0;i<o.length;i++)rn.add(o[i])}var Di=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Li={},ni={};function Os(i){return Ue.call(ni,i)?!0:Ue.call(Li,i)?!1:Di.test(i)?ni[i]=!0:(Li[i]=!0,!1)}function Kn(i,o,f){if(Os(o))if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+f)}}function Eo(i,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+f)}}function dn(i,o,f,p){if(p===null)i.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(o,f,""+p)}}function za(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function us(i,o,f){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,A=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(G){f=""+G,A.call(this,G)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(G){f=""+G},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rs(i){if(!i._valueTracker){var o=cs(i)?"checked":"value";i._valueTracker=us(i,o,""+i[o])}}function zi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),p="";return i&&(p=cs(i)?i.checked?"true":"false":i.value),i=p,i!==f?(o.setValue(i),!0):!1}function fs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hn=/[\n"\\]/g;function vr(i){return i.replace(Hn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xi(i,o,f,p,y,A,G,fe){i.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.type=G:i.removeAttribute("type"),o!=null?G==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+za(o)):i.value!==""+za(o)&&(i.value=""+za(o)):G!=="submit"&&G!=="reset"||i.removeAttribute("value"),o!=null?jo(i,G,za(o)):f!=null?jo(i,G,za(f)):p!=null&&i.removeAttribute("value"),y==null&&A!=null&&(i.defaultChecked=!!A),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?i.name=""+za(fe):i.removeAttribute("name")}function Mc(i,o,f,p,y,A,G,fe){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.type=A),o!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||o!=null)){Rs(i);return}f=f!=null?""+za(f):"",o=o!=null?""+za(o):f,fe||o===i.value||(i.value=o),i.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=fe?i.checked:!!p,i.defaultChecked=!!p,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(i.name=G),Rs(i)}function jo(i,o,f){o==="number"&&fs(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function Ha(i,o,f,p){if(i=i.options,o){o={};for(var y=0;y<f.length;y++)o["$"+f[y]]=!0;for(f=0;f<i.length;f++)y=o.hasOwnProperty("$"+i[f].value),i[f].selected!==y&&(i[f].selected=y),y&&p&&(i[f].defaultSelected=!0)}else{for(f=""+za(f),o=null,y=0;y<i.length;y++){if(i[y].value===f){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function ql(i,o,f){if(o!=null&&(o=""+za(o),o!==i.value&&(i.value=o),f==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=f!=null?""+za(f):""}function Wl(i,o,f,p){if(o==null){if(p!=null){if(f!=null)throw Error(n(92));if(le(p)){if(1<p.length)throw Error(n(93));p=p[0]}f=p}f==null&&(f=""),o=f}f=za(o),i.defaultValue=f,p=i.textContent,p===f&&p!==""&&p!==null&&(i.value=p),Rs(i)}function xi(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var $l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(i,o,f){var p=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,f):typeof f!="number"||f===0||$l.has(o)?o==="float"?i.cssFloat=f:i[o]=(""+f).trim():i[o]=f+"px"}function Pc(i,o,f){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&f[y]!==p&&Ic(i,y,p)}else for(var A in o)o.hasOwnProperty(A)&&Ic(i,A,o[A])}function Yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ki(i){return Co.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zi(){}var Ms=null;function ko(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hr=null,ze=null;function Nt(i){var o=It(i);if(o&&(i=o.stateNode)){var f=i[be]||null;e:switch(i=o.stateNode,o.type){case"input":if(Xi(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+vr(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var p=f[o];if(p!==i&&p.form===i.form){var y=p[be]||null;if(!y)throw Error(n(90));Xi(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<f.length;o++)p=f[o],p.form===i.form&&zi(p)}break e;case"textarea":ql(i,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&Ha(i,!!f.multiple,o,!1)}}}var Nr=!1;function $r(i,o,f){if(Nr)return i(o,f);Nr=!0;try{var p=i(o);return p}finally{if(Nr=!1,(hr!==null||ze!==null)&&(K1(),hr&&(o=hr,i=ze,ze=hr=null,Nt(o),i)))for(o=0;o<i.length;o++)Nt(i[o])}}function zr(i,o){var f=i.stateNode;if(f===null)return null;var p=f[be]||null;if(p===null)return null;f=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(n(231,o,typeof f));return f}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Hr)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){ai=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{ai=!1}var Zn=null,ma=null,Pr=null;function Mn(){if(Pr)return Pr;var i,o=ma,f=o.length,p,y="value"in Zn?Zn.value:Zn.textContent,A=y.length;for(i=0;i<f&&o[i]===y[i];i++);var G=f-i;for(p=1;p<=G&&o[f-p]===y[A-p];p++);return Pr=y.slice(i,1<p?1-p:void 0)}function Do(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Bc(){return!0}function Uc(){return!1}function Fa(i){function o(f,p,y,A,G){this._reactName=f,this._targetInst=y,this.type=p,this.nativeEvent=A,this.target=G,this.currentTarget=null;for(var fe in i)i.hasOwnProperty(fe)&&(f=i[fe],this[fe]=f?f(A):A[fe]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Bc:Uc,this.isPropagationStopped=Uc,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),o}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Fa(Ji),Lo=x({},Ji,{view:0,detail:0}),Hc=Fa(Lo),Kl,zo,hl,Zl=x({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hl&&(hl&&i.type==="mousemove"?(Kl=i.screenX-hl.screenX,zo=i.screenY-hl.screenY):zo=Kl=0,hl=i),Kl)},movementY:function(i){return"movementY"in i?i.movementY:zo}}),no=Fa(Zl),Fo=x({},Zl,{dataTransfer:0}),Pf=Fa(Fo),Bf=x({},Lo,{relatedTarget:0}),Oo=Fa(Bf),Uf=x({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),j=Fa(Uf),ee=x({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Te=Fa(ee),Ee=x({},Ji,{data:0}),Re=Fa(Ee),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ar(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Kt[i])?!!o[i]:!1}function Sr(){return ar}var Lr=x({},Lo,{key:function(i){if(i.key){var o=ft[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Do(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(i){return i.type==="keypress"?Do(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Do(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ln=Fa(Lr),Vn=x({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=Fa(Vn),kn=x({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),Ea=Fa(kn),pa=x({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=Fa(pa),ds=x({},Zl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fi=Fa(ds),Hf=x({},Ji,{newState:0,oldState:0}),Vc=Fa(Hf),Jl=[9,13,27,32],ao=Hr&&"CompositionEvent"in window,Is=null;Hr&&"documentMode"in document&&(Is=document.documentMode);var Ql=Hr&&"TextEvent"in window&&!Is,ml=Hr&&(!ao||Is&&8<Is&&11>=Is),Ga=" ",pl=!1;function gl(i,o){switch(i){case"keyup":return Jl.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var io=!1;function Jn(i,o){switch(i){case"compositionend":return Gc(o);case"keypress":return o.which!==32?null:(pl=!0,Ga);case"textInput":return i=o.data,i===Ga&&pl?null:i;default:return null}}function Ro(i,o){if(io)return i==="compositionend"||!ao&&gl(i,o)?(i=Mn(),Pr=ma=Zn=null,io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ml&&o.locale!=="ko"?null:o.data;default:return null}}var qc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qc[i.type]:o==="textarea"}function Qi(i,o,f,p){hr?ze?ze.push(p):ze=[p]:hr=p,o=nm(o,"onChange"),0<o.length&&(f=new ro("onChange","change",null,f,p),i.push({event:f,listeners:o}))}var Ps=null,Mo=null;function qu(i){Zy(i,0)}function Bs(i){var o=_t(i);if(zi(o))return i}function xl(i,o){if(i==="change")return o}var Oi=!1;if(Hr){var bi;if(Hr){var so="oninput"in document;if(!so){var oo=document.createElement("div");oo.setAttribute("oninput","return;"),so=typeof oo.oninput=="function"}bi=so}else bi=!1;Oi=bi&&(!document.documentMode||9<document.documentMode)}function Io(){Ps&&(Ps.detachEvent("onpropertychange",Wc),Mo=Ps=null)}function Wc(i){if(i.propertyName==="value"&&Bs(Mo)){var o=[];Qi(o,Mo,i,ko(i)),$r(qu,o)}}function $c(i,o,f){i==="focusin"?(Io(),Ps=o,Mo=f,Ps.attachEvent("onpropertychange",Wc)):i==="focusout"&&Io()}function la(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bs(Mo)}function Vf(i,o){if(i==="click")return Bs(o)}function lo(i,o){if(i==="input"||i==="change")return Bs(o)}function co(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qa=typeof Object.is=="function"?Object.is:co;function Po(i,o){if(qa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),p=Object.keys(o);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var y=f[p];if(!Ue.call(o,y)||!qa(i[y],o[y]))return!1}return!0}function Yc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xc(i,o){var f=Yc(i);i=0;for(var p;f;){if(f.nodeType===3){if(p=i+f.textContent.length,i<=o&&p>=o)return{node:f,offset:o-i};i=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Yc(f)}}function Bo(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Bo(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Uo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=fs(i.document);o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=fs(i.document)}return o}function uo(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var ec=Hr&&"documentMode"in document&&11>=document.documentMode,es=null,Ho=null,ii=null,hs=!1;function cn(i,o,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;hs||es==null||es!==fs(p)||(p=es,"selectionStart"in p&&uo(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ii&&Po(ii,p)||(ii=p,p=nm(Ho,"onSelect"),0<p.length&&(o=new ro("onSelect","select",null,o,f),i.push({event:o,listeners:p}),o.target=es)))}function en(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var Dn={animationend:en("Animation","AnimationEnd"),animationiteration:en("Animation","AnimationIteration"),animationstart:en("Animation","AnimationStart"),transitionrun:en("Transition","TransitionRun"),transitionstart:en("Transition","TransitionStart"),transitioncancel:en("Transition","TransitionCancel"),transitionend:en("Transition","TransitionEnd")},ca={},fo={};Hr&&(fo=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Us(i){if(ca[i])return ca[i];if(!Dn[i])return i;var o=Dn[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in fo)return ca[i]=o[f];return i}var tc=Us("animationend"),Wu=Us("animationiteration"),wd=Us("animationstart"),A1=Us("transitionrun"),E1=Us("transitionstart"),j1=Us("transitioncancel"),Sd=Us("transitionend"),Nd=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function ms(i,o){Nd.set(i,o),fn(o,[i])}var $u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ts=[],nc=0,Gf=0;function Yu(){for(var i=nc,o=Gf=nc=0;o<i;){var f=ts[o];ts[o++]=null;var p=ts[o];ts[o++]=null;var y=ts[o];ts[o++]=null;var A=ts[o];if(ts[o++]=null,p!==null&&y!==null){var G=p.pending;G===null?y.next=y:(y.next=G.next,G.next=y),p.pending=y}A!==0&&Ku(f,y,A)}}function Xu(i,o,f,p){ts[nc++]=i,ts[nc++]=o,ts[nc++]=f,ts[nc++]=p,Gf|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function qf(i,o,f,p){return Xu(i,o,f,p),si(i)}function Vo(i,o){return Xu(i,null,null,o),si(i)}function Ku(i,o,f){i.lanes|=f;var p=i.alternate;p!==null&&(p.lanes|=f);for(var y=!1,A=i.return;A!==null;)A.childLanes|=f,p=A.alternate,p!==null&&(p.childLanes|=f),A.tag===22&&(i=A.stateNode,i===null||i._visibility&1||(y=!0)),i=A,A=A.return;return i.tag===3?(A=i.stateNode,y&&o!==null&&(y=31-Pt(f),i=A.hiddenUpdates,p=i[y],p===null?i[y]=[o]:p.push(o),o.lane=f|536870912),A):null}function si(i){if(50<qd)throw qd=0,Bg=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Wa={};function Wf(i,o,f,p){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,o,f,p){return new Wf(i,o,f,p)}function $f(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ps(i,o){var f=i.alternate;return f===null?(f=oi(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Zu(i,o){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,o=f.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Kc(i,o,f,p,y,A){var G=0;if(p=i,typeof i=="function")$f(i)&&(G=1);else if(typeof i=="string")G=Xj(i,f,D.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case H:return i=oi(31,f,o,y),i.elementType=H,i.lanes=A,i;case w:return vl(f.children,y,A,o);case _:G=8,y|=24;break;case E:return i=oi(12,f,o,y|2),i.elementType=E,i.lanes=A,i;case X:return i=oi(13,f,o,y),i.elementType=X,i.lanes=A,i;case I:return i=oi(19,f,o,y),i.elementType=I,i.lanes=A,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:G=10;break e;case F:G=9;break e;case L:G=11;break e;case U:G=14;break e;case K:G=16,p=null;break e}G=29,f=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=oi(G,f,o,y),o.elementType=i,o.type=p,o.lanes=A,o}function vl(i,o,f,p){return i=oi(7,i,p,o),i.lanes=f,i}function Ju(i,o,f){return i=oi(6,i,null,o),i.lanes=f,i}function Yf(i){var o=oi(18,null,null,0);return o.stateNode=i,o}function Zc(i,o,f){return o=oi(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Xf=new WeakMap;function gs(i,o){if(typeof i=="object"&&i!==null){var f=Xf.get(i);return f!==void 0?f:(o={value:i,source:o,stack:Qe(o)},Xf.set(i,o),o)}return{value:i,source:o,stack:Qe(o)}}var Jc=[],ac=0,Kf=null,Qu=0,xs=[],vs=0,bl=null,bs=1,ys="";function rs(i,o){Jc[ac++]=Qu,Jc[ac++]=Kf,Kf=i,Qu=o}function C1(i,o,f){xs[vs++]=bs,xs[vs++]=ys,xs[vs++]=bl,bl=i;var p=bs;i=ys;var y=32-Pt(p)-1;p&=~(1<<y),f+=1;var A=32-Pt(o)+y;if(30<A){var G=y-y%5;A=(p&(1<<G)-1).toString(32),p>>=G,y-=G,bs=1<<32-Pt(o)+y|f<<y|p,ys=A+i}else bs=1<<A|f<<y|p,ys=i}function _d(i){i.return!==null&&(rs(i,1),C1(i,1,0))}function Zf(i){for(;i===Kf;)Kf=Jc[--ac],Jc[ac]=null,Qu=Jc[--ac],Jc[ac]=null;for(;i===bl;)bl=xs[--vs],xs[vs]=null,ys=xs[--vs],xs[vs]=null,bs=xs[--vs],xs[vs]=null}function k1(i,o){xs[vs++]=bs,xs[vs++]=ys,xs[vs++]=bl,bs=o.id,ys=o.overflow,bl=i}var $a=null,In=null,Xr=!1,yi=null,Qn=!1,Hs=Error(n(519));function yl(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qc(gs(o,i)),Hs}function Td(i){var o=i.stateNode,f=i.type,p=i.memoizedProps;switch(o[xe]=i,o[be]=p,f){case"dialog":Zr("cancel",o),Zr("close",o);break;case"iframe":case"object":case"embed":Zr("load",o);break;case"video":case"audio":for(f=0;f<$d.length;f++)Zr($d[f],o);break;case"source":Zr("error",o);break;case"img":case"image":case"link":Zr("error",o),Zr("load",o);break;case"details":Zr("toggle",o);break;case"input":Zr("invalid",o),Mc(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Zr("invalid",o);break;case"textarea":Zr("invalid",o),Wl(o,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||p.suppressHydrationWarning===!0||tw(o.textContent,f)?(p.popover!=null&&(Zr("beforetoggle",o),Zr("toggle",o)),p.onScroll!=null&&Zr("scroll",o),p.onScrollEnd!=null&&Zr("scrollend",o),p.onClick!=null&&(o.onclick=Zi),o=!0):o=!1,o||yl(i,!0)}function Go(i){for($a=i.return;$a;)switch($a.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$a=$a.return}}function Ya(i){if(i!==$a)return!1;if(!Xr)return Go(i),Xr=!0,!1;var o=i.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||tx(i.type,i.memoizedProps)),f=!f),f&&In&&yl(i),Go(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));In=uw(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));In=uw(i)}else o===27?(o=In,hu(i.type)?(i=sx,sx=null,In=i):In=o):In=$a?go(i.stateNode.nextSibling):null;return!0}function ic(){In=$a=null,Xr=!1}function Ad(){var i=yi;return i!==null&&(As===null?As=i:As.push.apply(As,i),yi=null),i}function Qc(i){yi===null?yi=[i]:yi.push(i)}var Jf=P(null),wl=null,ho=null;function Sl(i,o,f){k(Jf,o._currentValue),o._currentValue=f}function ws(i){i._currentValue=Jf.current,N(Jf)}function eu(i,o,f){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===f)break;i=i.return}}function sc(i,o,f,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){var G=y.child;A=A.firstContext;e:for(;A!==null;){var fe=A;A=y;for(var Ae=0;Ae<o.length;Ae++)if(fe.context===o[Ae]){A.lanes|=f,fe=A.alternate,fe!==null&&(fe.lanes|=f),eu(A.return,f,i),p||(G=null);break e}A=fe.next}}else if(y.tag===18){if(G=y.return,G===null)throw Error(n(341));G.lanes|=f,A=G.alternate,A!==null&&(A.lanes|=f),eu(G,f,i),G=null}else G=y.child;if(G!==null)G.return=y;else for(G=y;G!==null;){if(G===i){G=null;break}if(y=G.sibling,y!==null){y.return=G.return,G=y;break}G=G.return}y=G}}function Nl(i,o,f,p){i=null;for(var y=o,A=!1;y!==null;){if(!A){if((y.flags&524288)!==0)A=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var G=y.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var fe=y.type;qa(y.pendingProps.value,G.value)||(i!==null?i.push(fe):i=[fe])}}else if(y===Q.current){if(G=y.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Jd):i=[Jd])}y=y.return}i!==null&&sc(o,i,f,p),o.flags|=262144}function Qf(i){for(i=i.firstContext;i!==null;){if(!qa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _l(i){wl=i,ho=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xa(i){return D1(wl,i)}function e0(i,o){return wl===null&&_l(i),D1(i,o)}function D1(i,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},ho===null){if(i===null)throw Error(n(308));ho=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ho=ho.next=o;return f}var ig=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(f,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(f){return f()})}},sg=e.unstable_scheduleCallback,og=e.unstable_NormalPriority,ua={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new ig,data:new Map,refCount:0}}function ef(i){i.refCount--,i.refCount===0&&sg(og,function(){i.controller.abort()})}var tf=null,t0=0,v=0,S=null;function z(i,o){if(tf===null){var f=tf=[];t0=0,v=Wg(),S={status:"pending",value:void 0,then:function(p){f.push(p)}}}return t0++,o.then(B,B),o}function B(){if(--t0===0&&tf!==null){S!==null&&(S.status="fulfilled");var i=tf;tf=null,v=0,S=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function te(i,o){var f=[],p={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<f.length;y++)(0,f[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),p}var ce=Z.S;Z.S=function(i,o){Ty=Ft(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&z(i,o),ce!==null&&ce(i,o)};var ue=P(null);function ge(){var i=ue.current;return i!==null?i:Bn.pooledCache}function ve(i,o){o===null?k(ue,ue.current):k(ue,o.pool)}function _e(){var i=ge();return i===null?null:{parent:ua._currentValue,pool:i}}var je=Error(n(460)),$e=Error(n(474)),Ne=Error(n(542)),Le={then:function(){}};function Pe(i){return i=i.status,i==="fulfilled"||i==="rejected"}function at(i,o,f){switch(f=i[f],f===void 0?i.push(o):f!==o&&(o.then(Zi,Zi),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Tt(i),i;default:if(typeof o.status=="string")o.then(Zi,Zi);else{if(i=Bn,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Tt(i),i}throw nt=o,je}}function He(i){try{var o=i._init;return o(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(nt=f,je):f}}var nt=null;function dt(){if(nt===null)throw Error(n(459));var i=nt;return nt=null,i}function Tt(i){if(i===je||i===Ne)throw Error(n(483))}var xt=null,Qt=0;function qt(i){var o=Qt;return Qt+=1,xt===null&&(xt=[]),at(xt,i,o)}function Cr(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Xt(i,o){throw o.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Yr(i){function o(Me,ke){if(i){var Ye=Me.deletions;Ye===null?(Me.deletions=[ke],Me.flags|=16):Ye.push(ke)}}function f(Me,ke){if(!i)return null;for(;ke!==null;)o(Me,ke),ke=ke.sibling;return null}function p(Me){for(var ke=new Map;Me!==null;)Me.key!==null?ke.set(Me.key,Me):ke.set(Me.index,Me),Me=Me.sibling;return ke}function y(Me,ke){return Me=ps(Me,ke),Me.index=0,Me.sibling=null,Me}function A(Me,ke,Ye){return Me.index=Ye,i?(Ye=Me.alternate,Ye!==null?(Ye=Ye.index,Ye<ke?(Me.flags|=67108866,ke):Ye):(Me.flags|=67108866,ke)):(Me.flags|=1048576,ke)}function G(Me){return i&&Me.alternate===null&&(Me.flags|=67108866),Me}function fe(Me,ke,Ye,ht){return ke===null||ke.tag!==6?(ke=Ju(Ye,Me.mode,ht),ke.return=Me,ke):(ke=y(ke,Ye),ke.return=Me,ke)}function Ae(Me,ke,Ye,ht){var dr=Ye.type;return dr===w?lt(Me,ke,Ye.props.children,ht,Ye.key):ke!==null&&(ke.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===K&&He(dr)===ke.type)?(ke=y(ke,Ye.props),Cr(ke,Ye),ke.return=Me,ke):(ke=Kc(Ye.type,Ye.key,Ye.props,null,Me.mode,ht),Cr(ke,Ye),ke.return=Me,ke)}function Ke(Me,ke,Ye,ht){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Ye.containerInfo||ke.stateNode.implementation!==Ye.implementation?(ke=Zc(Ye,Me.mode,ht),ke.return=Me,ke):(ke=y(ke,Ye.children||[]),ke.return=Me,ke)}function lt(Me,ke,Ye,ht,dr){return ke===null||ke.tag!==7?(ke=vl(Ye,Me.mode,ht,dr),ke.return=Me,ke):(ke=y(ke,Ye),ke.return=Me,ke)}function gt(Me,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=Ju(""+ke,Me.mode,Ye),ke.return=Me,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return Ye=Kc(ke.type,ke.key,ke.props,null,Me.mode,Ye),Cr(Ye,ke),Ye.return=Me,Ye;case T:return ke=Zc(ke,Me.mode,Ye),ke.return=Me,ke;case K:return ke=He(ke),gt(Me,ke,Ye)}if(le(ke)||R(ke))return ke=vl(ke,Me.mode,Ye,null),ke.return=Me,ke;if(typeof ke.then=="function")return gt(Me,qt(ke),Ye);if(ke.$$typeof===C)return gt(Me,e0(Me,ke),Ye);Xt(Me,ke)}return null}function Je(Me,ke,Ye,ht){var dr=ke!==null?ke.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return dr!==null?null:fe(Me,ke,""+Ye,ht);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Ye.key===dr?Ae(Me,ke,Ye,ht):null;case T:return Ye.key===dr?Ke(Me,ke,Ye,ht):null;case K:return Ye=He(Ye),Je(Me,ke,Ye,ht)}if(le(Ye)||R(Ye))return dr!==null?null:lt(Me,ke,Ye,ht,null);if(typeof Ye.then=="function")return Je(Me,ke,qt(Ye),ht);if(Ye.$$typeof===C)return Je(Me,ke,e0(Me,Ye),ht);Xt(Me,Ye)}return null}function tt(Me,ke,Ye,ht,dr){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Me=Me.get(Ye)||null,fe(ke,Me,""+ht,dr);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case g:return Me=Me.get(ht.key===null?Ye:ht.key)||null,Ae(ke,Me,ht,dr);case T:return Me=Me.get(ht.key===null?Ye:ht.key)||null,Ke(ke,Me,ht,dr);case K:return ht=He(ht),tt(Me,ke,Ye,ht,dr)}if(le(ht)||R(ht))return Me=Me.get(Ye)||null,lt(ke,Me,ht,dr,null);if(typeof ht.then=="function")return tt(Me,ke,Ye,qt(ht),dr);if(ht.$$typeof===C)return tt(Me,ke,Ye,e0(ke,ht),dr);Xt(ke,ht)}return null}function Zt(Me,ke,Ye,ht){for(var dr=null,hn=null,ir=ke,Ur=ke=0,Qr=null;ir!==null&&Ur<Ye.length;Ur++){ir.index>Ur?(Qr=ir,ir=null):Qr=ir.sibling;var mn=Je(Me,ir,Ye[Ur],ht);if(mn===null){ir===null&&(ir=Qr);break}i&&ir&&mn.alternate===null&&o(Me,ir),ke=A(mn,ke,Ur),hn===null?dr=mn:hn.sibling=mn,hn=mn,ir=Qr}if(Ur===Ye.length)return f(Me,ir),Xr&&rs(Me,Ur),dr;if(ir===null){for(;Ur<Ye.length;Ur++)ir=gt(Me,Ye[Ur],ht),ir!==null&&(ke=A(ir,ke,Ur),hn===null?dr=ir:hn.sibling=ir,hn=ir);return Xr&&rs(Me,Ur),dr}for(ir=p(ir);Ur<Ye.length;Ur++)Qr=tt(ir,Me,Ur,Ye[Ur],ht),Qr!==null&&(i&&Qr.alternate!==null&&ir.delete(Qr.key===null?Ur:Qr.key),ke=A(Qr,ke,Ur),hn===null?dr=Qr:hn.sibling=Qr,hn=Qr);return i&&ir.forEach(function(vu){return o(Me,vu)}),Xr&&rs(Me,Ur),dr}function wr(Me,ke,Ye,ht){if(Ye==null)throw Error(n(151));for(var dr=null,hn=null,ir=ke,Ur=ke=0,Qr=null,mn=Ye.next();ir!==null&&!mn.done;Ur++,mn=Ye.next()){ir.index>Ur?(Qr=ir,ir=null):Qr=ir.sibling;var vu=Je(Me,ir,mn.value,ht);if(vu===null){ir===null&&(ir=Qr);break}i&&ir&&vu.alternate===null&&o(Me,ir),ke=A(vu,ke,Ur),hn===null?dr=vu:hn.sibling=vu,hn=vu,ir=Qr}if(mn.done)return f(Me,ir),Xr&&rs(Me,Ur),dr;if(ir===null){for(;!mn.done;Ur++,mn=Ye.next())mn=gt(Me,mn.value,ht),mn!==null&&(ke=A(mn,ke,Ur),hn===null?dr=mn:hn.sibling=mn,hn=mn);return Xr&&rs(Me,Ur),dr}for(ir=p(ir);!mn.done;Ur++,mn=Ye.next())mn=tt(ir,Me,Ur,mn.value,ht),mn!==null&&(i&&mn.alternate!==null&&ir.delete(mn.key===null?Ur:mn.key),ke=A(mn,ke,Ur),hn===null?dr=mn:hn.sibling=mn,hn=mn);return i&&ir.forEach(function(sC){return o(Me,sC)}),Xr&&rs(Me,Ur),dr}function On(Me,ke,Ye,ht){if(typeof Ye=="object"&&Ye!==null&&Ye.type===w&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:e:{for(var dr=Ye.key;ke!==null;){if(ke.key===dr){if(dr=Ye.type,dr===w){if(ke.tag===7){f(Me,ke.sibling),ht=y(ke,Ye.props.children),ht.return=Me,Me=ht;break e}}else if(ke.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===K&&He(dr)===ke.type){f(Me,ke.sibling),ht=y(ke,Ye.props),Cr(ht,Ye),ht.return=Me,Me=ht;break e}f(Me,ke);break}else o(Me,ke);ke=ke.sibling}Ye.type===w?(ht=vl(Ye.props.children,Me.mode,ht,Ye.key),ht.return=Me,Me=ht):(ht=Kc(Ye.type,Ye.key,Ye.props,null,Me.mode,ht),Cr(ht,Ye),ht.return=Me,Me=ht)}return G(Me);case T:e:{for(dr=Ye.key;ke!==null;){if(ke.key===dr)if(ke.tag===4&&ke.stateNode.containerInfo===Ye.containerInfo&&ke.stateNode.implementation===Ye.implementation){f(Me,ke.sibling),ht=y(ke,Ye.children||[]),ht.return=Me,Me=ht;break e}else{f(Me,ke);break}else o(Me,ke);ke=ke.sibling}ht=Zc(Ye,Me.mode,ht),ht.return=Me,Me=ht}return G(Me);case K:return Ye=He(Ye),On(Me,ke,Ye,ht)}if(le(Ye))return Zt(Me,ke,Ye,ht);if(R(Ye)){if(dr=R(Ye),typeof dr!="function")throw Error(n(150));return Ye=dr.call(Ye),wr(Me,ke,Ye,ht)}if(typeof Ye.then=="function")return On(Me,ke,qt(Ye),ht);if(Ye.$$typeof===C)return On(Me,ke,e0(Me,Ye),ht);Xt(Me,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,ke!==null&&ke.tag===6?(f(Me,ke.sibling),ht=y(ke,Ye),ht.return=Me,Me=ht):(f(Me,ke),ht=Ju(Ye,Me.mode,ht),ht.return=Me,Me=ht),G(Me)):f(Me,ke)}return function(Me,ke,Ye,ht){try{Qt=0;var dr=On(Me,ke,Ye,ht);return xt=null,dr}catch(ir){if(ir===je||ir===Ne)throw ir;var hn=oi(29,ir,null,Me.mode);return hn.lanes=ht,hn.return=Me,hn}finally{}}}var Pn=Yr(!0),Or=Yr(!1),Wt=!1;function Mt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gn(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function br(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ir(i,o,f){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(vn&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=si(i),Ku(i,null,f),o}return Xu(i,p,o,f),si(i)}function gn(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,f|=p,o.lanes=f,pr(i,f)}}function ja(i,o){var f=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var y=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var G={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?y=A=G:A=A.next=G,f=f.next}while(f!==null);A===null?y=A=o:A=A.next=o}else y=A=o;f={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}var Ka=!1;function Ln(){if(Ka){var i=S;if(i!==null)throw i}}function ga(i,o,f,p){Ka=!1;var y=i.updateQueue;Wt=!1;var A=y.firstBaseUpdate,G=y.lastBaseUpdate,fe=y.shared.pending;if(fe!==null){y.shared.pending=null;var Ae=fe,Ke=Ae.next;Ae.next=null,G===null?A=Ke:G.next=Ke,G=Ae;var lt=i.alternate;lt!==null&&(lt=lt.updateQueue,fe=lt.lastBaseUpdate,fe!==G&&(fe===null?lt.firstBaseUpdate=Ke:fe.next=Ke,lt.lastBaseUpdate=Ae))}if(A!==null){var gt=y.baseState;G=0,lt=Ke=Ae=null,fe=A;do{var Je=fe.lane&-536870913,tt=Je!==fe.lane;if(tt?(Jr&Je)===Je:(p&Je)===Je){Je!==0&&Je===v&&(Ka=!0),lt!==null&&(lt=lt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Zt=i,wr=fe;Je=o;var On=f;switch(wr.tag){case 1:if(Zt=wr.payload,typeof Zt=="function"){gt=Zt.call(On,gt,Je);break e}gt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=wr.payload,Je=typeof Zt=="function"?Zt.call(On,gt,Je):Zt,Je==null)break e;gt=x({},gt,Je);break e;case 2:Wt=!0}}Je=fe.callback,Je!==null&&(i.flags|=64,tt&&(i.flags|=8192),tt=y.callbacks,tt===null?y.callbacks=[Je]:tt.push(Je))}else tt={lane:Je,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},lt===null?(Ke=lt=tt,Ae=gt):lt=lt.next=tt,G|=Je;if(fe=fe.next,fe===null){if(fe=y.shared.pending,fe===null)break;tt=fe,fe=tt.next,tt.next=null,y.lastBaseUpdate=tt,y.shared.pending=null}}while(!0);lt===null&&(Ae=gt),y.baseState=Ae,y.firstBaseUpdate=Ke,y.lastBaseUpdate=lt,A===null&&(y.shared.lanes=0),lu|=G,i.lanes=G,i.memoizedState=gt}}function li(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function xa(i,o){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)li(f[i],o)}var Vr=P(null),nn=P(0);function qn(i,o){i=gc,k(nn,i),k(Vr,o),gc=i|o.baseLanes}function un(){k(nn,gc),k(Vr,Vr.current)}function Ca(){gc=nn.current,N(Vr),N(nn)}var Wn=P(null),an=null;function fa(i){var o=i.alternate;k(tn,tn.current&1),k(Wn,i),an===null&&(o===null||Vr.current!==null||o.memoizedState!==null)&&(an=i)}function xn(i){k(tn,tn.current),k(Wn,i),an===null&&(an=i)}function va(i){i.tag===22?(k(tn,tn.current),k(Wn,i),an===null&&(an=i)):ba()}function ba(){k(tn,tn.current),k(Wn,Wn.current)}function yn(i){N(Wn),an===i&&(an=null),N(tn)}var tn=P(0);function ci(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||ax(f)||ix(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ea=0,ur=null,fr=null,sn=null,Ri=!1,Ss=!1,wi=!1,ya=0,Tl=0,Al=null,r0=0;function zn(){throw Error(n(321))}function Ed(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!qa(i[f],o[f]))return!1;return!0}function jd(i,o,f,p,y,A){return ea=A,ur=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=i===null||i.memoizedState===null?Rb:pg,wi=!1,A=f(p,y),wi=!1,Ss&&(A=qo(o,f,p,y)),n0(i),A}function n0(i){Z.H=Rd;var o=fr!==null&&fr.next!==null;if(ea=0,sn=fr=ur=null,Ri=!1,Tl=0,Al=null,o)throw Error(n(300));i===null||Ra||(i=i.dependencies,i!==null&&Qf(i)&&(Ra=!0))}function qo(i,o,f,p){ur=i;var y=0;do{if(Ss&&(Al=null),Tl=0,Ss=!1,25<=y)throw Error(n(301));if(y+=1,sn=fr=null,i.updateQueue!=null){var A=i.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Z.H=Mb,A=o(f,p)}while(Ss);return A}function lg(){var i=Z.H,o=i.useState()[0];return o=typeof o.then=="function"?El(o):o,i=i.useState()[0],(fr!==null?fr.memoizedState:null)!==i&&(ur.flags|=1024),o}function Cd(){var i=ya!==0;return ya=0,i}function kd(i,o,f){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f}function a0(i){if(Ri){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ri=!1}ea=0,sn=fr=ur=null,Ss=!1,Tl=ya=0,Al=null}function Oa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?ur.memoizedState=sn=i:sn=sn.next=i,sn}function ta(){if(fr===null){var i=ur.alternate;i=i!==null?i.memoizedState:null}else i=fr.next;var o=sn===null?ur.memoizedState:sn.next;if(o!==null)sn=o,fr=i;else{if(i===null)throw ur.alternate===null?Error(n(467)):Error(n(310));fr=i,i={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},sn===null?ur.memoizedState=sn=i:sn=sn.next=i}return sn}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(i){var o=Tl;return Tl+=1,Al===null&&(Al=[]),i=at(Al,i,o),o=ur,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?Rb:pg),i}function ru(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return El(i);if(i.$$typeof===C)return Xa(i)}throw Error(n(438,String(i)))}function oc(i){var o=null,f=ur.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var p=ur.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=rf(),ur.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(i),p=0;p<i;p++)f[p]=oe;return o.index++,f}function mo(i,o){return typeof o=="function"?o(i):o}function i0(i){var o=ta();return nu(o,fr,i)}function nu(i,o,f){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=f;var y=i.baseQueue,A=p.pending;if(A!==null){if(y!==null){var G=y.next;y.next=A.next,A.next=G}o.baseQueue=y=A,p.pending=null}if(A=i.baseState,y===null)i.memoizedState=A;else{o=y.next;var fe=G=null,Ae=null,Ke=o,lt=!1;do{var gt=Ke.lane&-536870913;if(gt!==Ke.lane?(Jr&gt)===gt:(ea&gt)===gt){var Je=Ke.revertLane;if(Je===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),gt===v&&(lt=!0);else if((ea&Je)===Je){Ke=Ke.next,Je===v&&(lt=!0);continue}else gt={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ae===null?(fe=Ae=gt,G=A):Ae=Ae.next=gt,ur.lanes|=Je,lu|=Je;gt=Ke.action,wi&&f(A,gt),A=Ke.hasEagerState?Ke.eagerState:f(A,gt)}else Je={lane:gt,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ae===null?(fe=Ae=Je,G=A):Ae=Ae.next=Je,ur.lanes|=gt,lu|=gt;Ke=Ke.next}while(Ke!==null&&Ke!==o);if(Ae===null?G=A:Ae.next=fe,!qa(A,i.memoizedState)&&(Ra=!0,lt&&(f=S,f!==null)))throw f;i.memoizedState=A,i.baseState=G,i.baseQueue=Ae,p.lastRenderedState=A}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function s0(i){var o=ta(),f=o.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var p=f.dispatch,y=f.pending,A=o.memoizedState;if(y!==null){f.pending=null;var G=y=y.next;do A=i(A,G.action),G=G.next;while(G!==y);qa(A,o.memoizedState)||(Ra=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),f.lastRenderedState=A}return[A,p]}function o0(i,o,f){var p=ur,y=ta(),A=Xr;if(A){if(f===void 0)throw Error(n(407));f=f()}else f=o();var G=!qa((fr||y).memoizedState,f);if(G&&(y.memoizedState=f,Ra=!0),y=y.queue,cg(Ld.bind(null,p,y,i),[i]),y.getSnapshot!==o||G||sn!==null&&sn.memoizedState.tag&1){if(p.flags|=2048,cc(9,{destroy:void 0},Dd.bind(null,p,y,f,o),null),Bn===null)throw Error(n(349));A||(ea&127)!==0||Wo(p,o,f)}return f}function Wo(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=ur.updateQueue,o===null?(o=rf(),ur.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function Dd(i,o,f,p){o.value=f,o.getSnapshot=p,L1(o)&&zd(i)}function Ld(i,o,f){return f(function(){L1(o)&&zd(i)})}function L1(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!qa(i,f)}catch{return!0}}function zd(i){var o=Vo(i,2);o!==null&&Es(o,i,2)}function jl(i){var o=Oa();if(typeof i=="function"){var f=i;if(i=f(),wi){bt(!0);try{f()}finally{bt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:i},o}function z1(i,o,f,p){return i.baseState=f,nu(i,fr,typeof p=="function"?p:mo)}function F1(i,o,f,p,y){if(I1(i))throw Error(n(485));if(i=o.action,i!==null){var A={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){A.listeners.push(G)}};Z.T!==null?f(!0):A.isTransition=!1,p(A),f=o.pending,f===null?(A.next=o.pending=A,O1(o,A)):(A.next=f.next,o.pending=f.next=A)}}function O1(i,o){var f=o.action,p=o.payload,y=i.state;if(o.isTransition){var A=Z.T,G={};Z.T=G;try{var fe=f(y,p),Ae=Z.S;Ae!==null&&Ae(G,fe),Fd(i,o,fe)}catch(Ke){lc(i,o,Ke)}finally{A!==null&&G.types!==null&&(A.types=G.types),Z.T=A}}else try{A=f(y,p),Fd(i,o,A)}catch(Ke){lc(i,o,Ke)}}function Fd(i,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){R1(i,o,p)},function(p){return lc(i,o,p)}):R1(i,o,f)}function R1(i,o,f){o.status="fulfilled",o.value=f,l0(o),i.state=f,o=i.pending,o!==null&&(f=o.next,f===o?i.pending=null:(f=f.next,o.next=f,O1(i,f)))}function lc(i,o,f){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=f,l0(o),o=o.next;while(o!==p)}i.action=null}function l0(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function nf(i,o){return o}function po(i,o){if(Xr){var f=Bn.formState;if(f!==null){e:{var p=ur;if(Xr){if(In){t:{for(var y=In,A=Qn;y.nodeType!==8;){if(!A){y=null;break t}if(y=go(y.nextSibling),y===null){y=null;break t}}A=y.data,y=A==="F!"||A==="F"?y:null}if(y){In=go(y.nextSibling),p=y.data==="F!";break e}}yl(p)}p=!1}p&&(o=f[0])}}return f=Oa(),f.memoizedState=f.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:o},f.queue=p,f=zb.bind(null,ur,p),p.dispatch=f,p=jl(!1),A=mg.bind(null,ur,!1,p.queue),p=Oa(),y={state:o,dispatch:null,action:i,pending:null},p.queue=y,f=F1.bind(null,ur,y,A,f),y.dispatch=f,p.memoizedState=i,[o,f,!1]}function $o(i){var o=ta();return Yo(o,fr,i)}function Yo(i,o,f){if(o=nu(i,o,nf)[0],i=i0(mo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=El(o)}catch(G){throw G===je?Ne:G}else p=o;o=ta();var y=o.queue,A=y.dispatch;return f!==o.memoizedState&&(ur.flags|=2048,cc(9,{destroy:void 0},c0.bind(null,y,f),null)),[p,A,i]}function c0(i,o){i.action=o}function u0(i){var o=ta(),f=fr;if(f!==null)return Yo(o,f,i);ta(),o=o.memoizedState,f=ta();var p=f.queue.dispatch;return f.memoizedState=i,[o,p,!1]}function cc(i,o,f,p){return i={tag:i,create:f,deps:p,inst:o,next:null},o=ur.updateQueue,o===null&&(o=rf(),ur.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=i.next=i:(p=f.next,f.next=i,i.next=p,o.lastEffect=i),i}function M1(){return ta().memoizedState}function au(i,o,f,p){var y=Oa();ur.flags|=i,y.memoizedState=cc(1|o,{destroy:void 0},f,p===void 0?null:p)}function iu(i,o,f,p){var y=ta();p=p===void 0?null:p;var A=y.memoizedState.inst;fr!==null&&p!==null&&Ed(p,fr.memoizedState.deps)?y.memoizedState=cc(o,A,f,p):(ur.flags|=i,y.memoizedState=cc(1|o,A,f,p))}function bb(i,o){au(8390656,8,i,o)}function cg(i,o){iu(2048,8,i,o)}function ej(i){ur.flags|=4;var o=ur.updateQueue;if(o===null)o=rf(),ur.updateQueue=o,o.events=[i];else{var f=o.events;f===null?o.events=[i]:f.push(i)}}function yb(i){var o=ta().memoizedState;return ej({ref:o,nextImpl:i}),function(){if((vn&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function wb(i,o){return iu(4,2,i,o)}function Sb(i,o){return iu(4,4,i,o)}function Nb(i,o){if(typeof o=="function"){i=i();var f=o(i);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function _b(i,o,f){f=f!=null?f.concat([i]):null,iu(4,4,Nb.bind(null,o,i),f)}function ug(){}function Tb(i,o){var f=ta();o=o===void 0?null:o;var p=f.memoizedState;return o!==null&&Ed(o,p[1])?p[0]:(f.memoizedState=[i,o],i)}function Ab(i,o){var f=ta();o=o===void 0?null:o;var p=f.memoizedState;if(o!==null&&Ed(o,p[1]))return p[0];if(p=i(),wi){bt(!0);try{i()}finally{bt(!1)}}return f.memoizedState=[p,o],p}function fg(i,o,f){return f===void 0||(ea&1073741824)!==0&&(Jr&261930)===0?i.memoizedState=o:(i.memoizedState=f,i=Ey(),ur.lanes|=i,lu|=i,f)}function Eb(i,o,f,p){return qa(f,o)?f:Vr.current!==null?(i=fg(i,f,p),qa(i,o)||(Ra=!0),i):(ea&42)===0||(ea&1073741824)!==0&&(Jr&261930)===0?(Ra=!0,i.memoizedState=f):(i=Ey(),ur.lanes|=i,lu|=i,o)}function jb(i,o,f,p,y){var A=ie.p;ie.p=A!==0&&8>A?A:8;var G=Z.T,fe={};Z.T=fe,mg(i,!1,o,f);try{var Ae=y(),Ke=Z.S;if(Ke!==null&&Ke(fe,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var lt=te(Ae,p);Od(i,o,lt,qs(i))}else Od(i,o,p,qs(i))}catch(gt){Od(i,o,{then:function(){},status:"rejected",reason:gt},qs())}finally{ie.p=A,G!==null&&fe.types!==null&&(G.types=fe.types),Z.T=G}}function tj(){}function dg(i,o,f,p){if(i.tag!==5)throw Error(n(476));var y=Cb(i).queue;jb(i,y,o,J,f===null?tj:function(){return kb(i),f(p)})}function Cb(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:J},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:f},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function kb(i){var o=Cb(i);o.next===null&&(o=i.alternate.memoizedState),Od(i,o.next.queue,{},qs())}function hg(){return Xa(Jd)}function Db(){return ta().memoizedState}function Lb(){return ta().memoizedState}function rj(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var f=qs();i=br(f);var p=Ir(o,i,f);p!==null&&(Es(p,o,f),gn(p,o,f)),o={cache:tu()},i.payload=o;return}o=o.return}}function nj(i,o,f){var p=qs();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},I1(i)?Fb(o,f):(f=qf(i,o,f,p),f!==null&&(Es(f,i,p),Ob(f,o,p)))}function zb(i,o,f){var p=qs();Od(i,o,f,p)}function Od(i,o,f,p){var y={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(I1(i))Fb(o,y);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var G=o.lastRenderedState,fe=A(G,f);if(y.hasEagerState=!0,y.eagerState=fe,qa(fe,G))return Xu(i,o,y,0),Bn===null&&Yu(),!1}catch{}finally{}if(f=qf(i,o,y,p),f!==null)return Es(f,i,p),Ob(f,o,p),!0}return!1}function mg(i,o,f,p){if(p={lane:2,revertLane:Wg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},I1(i)){if(o)throw Error(n(479))}else o=qf(i,f,p,2),o!==null&&Es(o,i,2)}function I1(i){var o=i.alternate;return i===ur||o!==null&&o===ur}function Fb(i,o){Ss=Ri=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function Ob(i,o,f){if((f&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,f|=p,o.lanes=f,pr(i,f)}}var Rd={readContext:Xa,use:ru,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};Rd.useEffectEvent=zn;var Rb={readContext:Xa,use:ru,useCallback:function(i,o){return Oa().memoizedState=[i,o===void 0?null:o],i},useContext:Xa,useEffect:bb,useImperativeHandle:function(i,o,f){f=f!=null?f.concat([i]):null,au(4194308,4,Nb.bind(null,o,i),f)},useLayoutEffect:function(i,o){return au(4194308,4,i,o)},useInsertionEffect:function(i,o){au(4,2,i,o)},useMemo:function(i,o){var f=Oa();o=o===void 0?null:o;var p=i();if(wi){bt(!0);try{i()}finally{bt(!1)}}return f.memoizedState=[p,o],p},useReducer:function(i,o,f){var p=Oa();if(f!==void 0){var y=f(o);if(wi){bt(!0);try{f(o)}finally{bt(!1)}}}else y=o;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=nj.bind(null,ur,i),[p.memoizedState,i]},useRef:function(i){var o=Oa();return i={current:i},o.memoizedState=i},useState:function(i){i=jl(i);var o=i.queue,f=zb.bind(null,ur,o);return o.dispatch=f,[i.memoizedState,f]},useDebugValue:ug,useDeferredValue:function(i,o){var f=Oa();return fg(f,i,o)},useTransition:function(){var i=jl(!1);return i=jb.bind(null,ur,i.queue,!0,!1),Oa().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,f){var p=ur,y=Oa();if(Xr){if(f===void 0)throw Error(n(407));f=f()}else{if(f=o(),Bn===null)throw Error(n(349));(Jr&127)!==0||Wo(p,o,f)}y.memoizedState=f;var A={value:f,getSnapshot:o};return y.queue=A,bb(Ld.bind(null,p,A,i),[i]),p.flags|=2048,cc(9,{destroy:void 0},Dd.bind(null,p,A,f,o),null),f},useId:function(){var i=Oa(),o=Bn.identifierPrefix;if(Xr){var f=ys,p=bs;f=(p&~(1<<32-Pt(p)-1)).toString(32)+f,o="_"+o+"R_"+f,f=ya++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=r0++,o="_"+o+"r_"+f.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:hg,useFormState:po,useActionState:po,useOptimistic:function(i){var o=Oa();o.memoizedState=o.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=mg.bind(null,ur,!0,f),f.dispatch=o,[i,o]},useMemoCache:oc,useCacheRefresh:function(){return Oa().memoizedState=rj.bind(null,ur)},useEffectEvent:function(i){var o=Oa(),f={impl:i};return o.memoizedState=f,function(){if((vn&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},pg={readContext:Xa,use:ru,useCallback:Tb,useContext:Xa,useEffect:cg,useImperativeHandle:_b,useInsertionEffect:wb,useLayoutEffect:Sb,useMemo:Ab,useReducer:i0,useRef:M1,useState:function(){return i0(mo)},useDebugValue:ug,useDeferredValue:function(i,o){var f=ta();return Eb(f,fr.memoizedState,i,o)},useTransition:function(){var i=i0(mo)[0],o=ta().memoizedState;return[typeof i=="boolean"?i:El(i),o]},useSyncExternalStore:o0,useId:Db,useHostTransitionStatus:hg,useFormState:$o,useActionState:$o,useOptimistic:function(i,o){var f=ta();return z1(f,fr,i,o)},useMemoCache:oc,useCacheRefresh:Lb};pg.useEffectEvent=yb;var Mb={readContext:Xa,use:ru,useCallback:Tb,useContext:Xa,useEffect:cg,useImperativeHandle:_b,useInsertionEffect:wb,useLayoutEffect:Sb,useMemo:Ab,useReducer:s0,useRef:M1,useState:function(){return s0(mo)},useDebugValue:ug,useDeferredValue:function(i,o){var f=ta();return fr===null?fg(f,i,o):Eb(f,fr.memoizedState,i,o)},useTransition:function(){var i=s0(mo)[0],o=ta().memoizedState;return[typeof i=="boolean"?i:El(i),o]},useSyncExternalStore:o0,useId:Db,useHostTransitionStatus:hg,useFormState:u0,useActionState:u0,useOptimistic:function(i,o){var f=ta();return fr!==null?z1(f,fr,i,o):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Lb};Mb.useEffectEvent=yb;function gg(i,o,f,p){o=i.memoizedState,f=f(p,o),f=f==null?o:x({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var xg={enqueueSetState:function(i,o,f){i=i._reactInternals;var p=qs(),y=br(p);y.payload=o,f!=null&&(y.callback=f),o=Ir(i,y,p),o!==null&&(Es(o,i,p),gn(o,i,p))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var p=qs(),y=br(p);y.tag=1,y.payload=o,f!=null&&(y.callback=f),o=Ir(i,y,p),o!==null&&(Es(o,i,p),gn(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=qs(),p=br(f);p.tag=2,o!=null&&(p.callback=o),o=Ir(i,p,f),o!==null&&(Es(o,i,f),gn(o,i,f))}};function Ib(i,o,f,p,y,A,G){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,A,G):o.prototype&&o.prototype.isPureReactComponent?!Po(f,p)||!Po(y,A):!0}function Pb(i,o,f,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,p),o.state!==i&&xg.enqueueReplaceState(o,o.state,null)}function af(i,o){var f=o;if("ref"in o){f={};for(var p in o)p!=="ref"&&(f[p]=o[p])}if(i=i.defaultProps){f===o&&(f=x({},f));for(var y in i)f[y]===void 0&&(f[y]=i[y])}return f}function Bb(i){$u(i)}function Ub(i){console.error(i)}function Hb(i){$u(i)}function P1(i,o){try{var f=i.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Vb(i,o,f){try{var p=i.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function vg(i,o,f){return f=br(f),f.tag=3,f.payload={element:null},f.callback=function(){P1(i,o)},f}function Gb(i){return i=br(i),i.tag=3,i}function qb(i,o,f,p){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var A=p.value;i.payload=function(){return y(A)},i.callback=function(){Vb(o,f,p)}}var G=f.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(i.callback=function(){Vb(o,f,p),typeof y!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var fe=p.stack;this.componentDidCatch(p.value,{componentStack:fe!==null?fe:""})})}function aj(i,o,f,p,y){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=f.alternate,o!==null&&Nl(o,f,y,!0),f=Wn.current,f!==null){switch(f.tag){case 31:case 13:return an===null?Z1():f.alternate===null&&wa===0&&(wa=3),f.flags&=-257,f.flags|=65536,f.lanes=y,p===Le?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([p]):o.add(p),Vg(i,p,y)),!1;case 22:return f.flags|=65536,p===Le?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([p]):f.add(p)),Vg(i,p,y)),!1}throw Error(n(435,f.tag))}return Vg(i,p,y),Z1(),!1}if(Xr)return o=Wn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Hs&&(i=Error(n(422),{cause:p}),Qc(gs(i,f)))):(p!==Hs&&(o=Error(n(423),{cause:p}),Qc(gs(o,f))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=gs(p,f),y=vg(i.stateNode,p,y),ja(i,y),wa!==4&&(wa=2)),!1;var A=Error(n(520),{cause:p});if(A=gs(A,f),Gd===null?Gd=[A]:Gd.push(A),wa!==4&&(wa=2),o===null)return!0;p=gs(p,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,i=y&-y,f.lanes|=i,i=vg(f.stateNode,p,i),ja(f,i),!1;case 1:if(o=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(cu===null||!cu.has(A))))return f.flags|=65536,y&=-y,f.lanes|=y,y=Gb(y),qb(y,i,f,p),ja(f,y),!1}f=f.return}while(f!==null);return!1}var bg=Error(n(461)),Ra=!1;function Si(i,o,f,p){o.child=i===null?Or(o,null,f,p):Pn(o,i.child,f,p)}function Wb(i,o,f,p,y){f=f.render;var A=o.ref;if("ref"in p){var G={};for(var fe in p)fe!=="ref"&&(G[fe]=p[fe])}else G=p;return _l(o),p=jd(i,o,f,G,A,y),fe=Cd(),i!==null&&!Ra?(kd(i,o,y),uc(i,o,y)):(Xr&&fe&&_d(o),o.flags|=1,Si(i,o,p,y),o.child)}function $b(i,o,f,p,y){if(i===null){var A=f.type;return typeof A=="function"&&!$f(A)&&A.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=A,Yb(i,o,A,p,y)):(i=Kc(f.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(A=i.child,!Eg(i,y)){var G=A.memoizedProps;if(f=f.compare,f=f!==null?f:Po,f(G,p)&&i.ref===o.ref)return uc(i,o,y)}return o.flags|=1,i=ps(A,p),i.ref=o.ref,i.return=o,o.child=i}function Yb(i,o,f,p,y){if(i!==null){var A=i.memoizedProps;if(Po(A,p)&&i.ref===o.ref)if(Ra=!1,o.pendingProps=p=A,Eg(i,y))(i.flags&131072)!==0&&(Ra=!0);else return o.lanes=i.lanes,uc(i,o,y)}return yg(i,o,f,p,y)}function Xb(i,o,f,p){var y=p.children,A=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(A=A!==null?A.baseLanes|f:f,i!==null){for(p=o.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~A}else p=0,o.child=null;return Kb(i,o,A,f,p)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&ve(o,A!==null?A.cachePool:null),A!==null?qn(o,A):un(),va(o);else return p=o.lanes=536870912,Kb(i,o,A!==null?A.baseLanes|f:f,f,p)}else A!==null?(ve(o,A.cachePool),qn(o,A),ba(),o.memoizedState=null):(i!==null&&ve(o,null),un(),ba());return Si(i,o,y,f),o.child}function Md(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Kb(i,o,f,p,y){var A=ge();return A=A===null?null:{parent:ua._currentValue,pool:A},o.memoizedState={baseLanes:f,cachePool:A},i!==null&&ve(o,null),un(),va(o),i!==null&&Nl(i,o,p,!0),o.childLanes=y,null}function B1(i,o){return o=H1({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Zb(i,o,f){return Pn(o,i.child,null,f),i=B1(o,o.pendingProps),i.flags|=2,yn(o),o.memoizedState=null,i}function ij(i,o,f){var p=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Xr){if(p.mode==="hidden")return i=B1(o,p),o.lanes=536870912,Md(null,i);if(xn(o),(i=In)?(i=cw(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:bl!==null?{id:bs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},f=Yf(i),f.return=o,o.child=f,$a=o,In=null)):i=null,i===null)throw yl(o);return o.lanes=536870912,null}return B1(o,p)}var A=i.memoizedState;if(A!==null){var G=A.dehydrated;if(xn(o),y)if(o.flags&256)o.flags&=-257,o=Zb(i,o,f);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ra||Nl(i,o,f,!1),y=(f&i.childLanes)!==0,Ra||y){if(p=Bn,p!==null&&(G=rr(p,f),G!==0&&G!==A.retryLane))throw A.retryLane=G,Vo(i,G),Es(p,i,G),bg;Z1(),o=Zb(i,o,f)}else i=A.treeContext,In=go(G.nextSibling),$a=o,Xr=!0,yi=null,Qn=!1,i!==null&&k1(o,i),o=B1(o,p),o.flags|=4096;return o}return i=ps(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function U1(i,o){var f=o.ref;if(f===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(i===null||i.ref!==f)&&(o.flags|=4194816)}}function yg(i,o,f,p,y){return _l(o),f=jd(i,o,f,p,void 0,y),p=Cd(),i!==null&&!Ra?(kd(i,o,y),uc(i,o,y)):(Xr&&p&&_d(o),o.flags|=1,Si(i,o,f,y),o.child)}function Jb(i,o,f,p,y,A){return _l(o),o.updateQueue=null,f=qo(o,p,f,y),n0(i),p=Cd(),i!==null&&!Ra?(kd(i,o,A),uc(i,o,A)):(Xr&&p&&_d(o),o.flags|=1,Si(i,o,f,A),o.child)}function Qb(i,o,f,p,y){if(_l(o),o.stateNode===null){var A=Wa,G=f.contextType;typeof G=="object"&&G!==null&&(A=Xa(G)),A=new f(p,A),o.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=xg,o.stateNode=A,A._reactInternals=o,A=o.stateNode,A.props=p,A.state=o.memoizedState,A.refs={},Mt(o),G=f.contextType,A.context=typeof G=="object"&&G!==null?Xa(G):Wa,A.state=o.memoizedState,G=f.getDerivedStateFromProps,typeof G=="function"&&(gg(o,f,G,p),A.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(G=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),G!==A.state&&xg.enqueueReplaceState(A,A.state,null),ga(o,p,A,y),Ln(),A.state=o.memoizedState),typeof A.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){A=o.stateNode;var fe=o.memoizedProps,Ae=af(f,fe);A.props=Ae;var Ke=A.context,lt=f.contextType;G=Wa,typeof lt=="object"&&lt!==null&&(G=Xa(lt));var gt=f.getDerivedStateFromProps;lt=typeof gt=="function"||typeof A.getSnapshotBeforeUpdate=="function",fe=o.pendingProps!==fe,lt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(fe||Ke!==G)&&Pb(o,A,p,G),Wt=!1;var Je=o.memoizedState;A.state=Je,ga(o,p,A,y),Ln(),Ke=o.memoizedState,fe||Je!==Ke||Wt?(typeof gt=="function"&&(gg(o,f,gt,p),Ke=o.memoizedState),(Ae=Wt||Ib(o,f,Ae,p,Je,Ke,G))?(lt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Ke),A.props=p,A.state=Ke,A.context=G,p=Ae):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{A=o.stateNode,Gn(i,o),G=o.memoizedProps,lt=af(f,G),A.props=lt,gt=o.pendingProps,Je=A.context,Ke=f.contextType,Ae=Wa,typeof Ke=="object"&&Ke!==null&&(Ae=Xa(Ke)),fe=f.getDerivedStateFromProps,(Ke=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(G!==gt||Je!==Ae)&&Pb(o,A,p,Ae),Wt=!1,Je=o.memoizedState,A.state=Je,ga(o,p,A,y),Ln();var tt=o.memoizedState;G!==gt||Je!==tt||Wt||i!==null&&i.dependencies!==null&&Qf(i.dependencies)?(typeof fe=="function"&&(gg(o,f,fe,p),tt=o.memoizedState),(lt=Wt||Ib(o,f,lt,p,Je,tt,Ae)||i!==null&&i.dependencies!==null&&Qf(i.dependencies))?(Ke||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,tt,Ae),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,tt,Ae)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||G===i.memoizedProps&&Je===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===i.memoizedProps&&Je===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=tt),A.props=p,A.state=tt,A.context=Ae,p=lt):(typeof A.componentDidUpdate!="function"||G===i.memoizedProps&&Je===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||G===i.memoizedProps&&Je===i.memoizedState||(o.flags|=1024),p=!1)}return A=p,U1(i,o),p=(o.flags&128)!==0,A||p?(A=o.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:A.render(),o.flags|=1,i!==null&&p?(o.child=Pn(o,i.child,null,y),o.child=Pn(o,null,f,y)):Si(i,o,f,y),o.memoizedState=A.state,i=o.child):i=uc(i,o,y),i}function ey(i,o,f,p){return ic(),o.flags|=256,Si(i,o,f,p),o.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(i){return{baseLanes:i,cachePool:_e()}}function Ng(i,o,f){return i=i!==null?i.childLanes&~f:0,o&&(i|=Gs),i}function ty(i,o,f){var p=o.pendingProps,y=!1,A=(o.flags&128)!==0,G;if((G=A)||(G=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),G&&(y=!0,o.flags&=-129),G=(o.flags&32)!==0,o.flags&=-33,i===null){if(Xr){if(y?fa(o):ba(),(i=In)?(i=cw(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:bl!==null?{id:bs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},f=Yf(i),f.return=o,o.child=f,$a=o,In=null)):i=null,i===null)throw yl(o);return ix(i)?o.lanes=32:o.lanes=536870912,null}var fe=p.children;return p=p.fallback,y?(ba(),y=o.mode,fe=H1({mode:"hidden",children:fe},y),p=vl(p,y,f,null),fe.return=o,p.return=o,fe.sibling=p,o.child=fe,p=o.child,p.memoizedState=Sg(f),p.childLanes=Ng(i,G,f),o.memoizedState=wg,Md(null,p)):(fa(o),_g(o,fe))}var Ae=i.memoizedState;if(Ae!==null&&(fe=Ae.dehydrated,fe!==null)){if(A)o.flags&256?(fa(o),o.flags&=-257,o=Tg(i,o,f)):o.memoizedState!==null?(ba(),o.child=i.child,o.flags|=128,o=null):(ba(),fe=p.fallback,y=o.mode,p=H1({mode:"visible",children:p.children},y),fe=vl(fe,y,f,null),fe.flags|=2,p.return=o,fe.return=o,p.sibling=fe,o.child=p,Pn(o,i.child,null,f),p=o.child,p.memoizedState=Sg(f),p.childLanes=Ng(i,G,f),o.memoizedState=wg,o=Md(null,p));else if(fa(o),ix(fe)){if(G=fe.nextSibling&&fe.nextSibling.dataset,G)var Ke=G.dgst;G=Ke,p=Error(n(419)),p.stack="",p.digest=G,Qc({value:p,source:null,stack:null}),o=Tg(i,o,f)}else if(Ra||Nl(i,o,f,!1),G=(f&i.childLanes)!==0,Ra||G){if(G=Bn,G!==null&&(p=rr(G,f),p!==0&&p!==Ae.retryLane))throw Ae.retryLane=p,Vo(i,p),Es(G,i,p),bg;ax(fe)||Z1(),o=Tg(i,o,f)}else ax(fe)?(o.flags|=192,o.child=i.child,o=null):(i=Ae.treeContext,In=go(fe.nextSibling),$a=o,Xr=!0,yi=null,Qn=!1,i!==null&&k1(o,i),o=_g(o,p.children),o.flags|=4096);return o}return y?(ba(),fe=p.fallback,y=o.mode,Ae=i.child,Ke=Ae.sibling,p=ps(Ae,{mode:"hidden",children:p.children}),p.subtreeFlags=Ae.subtreeFlags&65011712,Ke!==null?fe=ps(Ke,fe):(fe=vl(fe,y,f,null),fe.flags|=2),fe.return=o,p.return=o,p.sibling=fe,o.child=p,Md(null,p),p=o.child,fe=i.child.memoizedState,fe===null?fe=Sg(f):(y=fe.cachePool,y!==null?(Ae=ua._currentValue,y=y.parent!==Ae?{parent:Ae,pool:Ae}:y):y=_e(),fe={baseLanes:fe.baseLanes|f,cachePool:y}),p.memoizedState=fe,p.childLanes=Ng(i,G,f),o.memoizedState=wg,Md(i.child,p)):(fa(o),f=i.child,i=f.sibling,f=ps(f,{mode:"visible",children:p.children}),f.return=o,f.sibling=null,i!==null&&(G=o.deletions,G===null?(o.deletions=[i],o.flags|=16):G.push(i)),o.child=f,o.memoizedState=null,f)}function _g(i,o){return o=H1({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function H1(i,o){return i=oi(22,i,null,o),i.lanes=0,i}function Tg(i,o,f){return Pn(o,i.child,null,f),i=_g(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ry(i,o,f){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),eu(i.return,o,f)}function Ag(i,o,f,p,y,A){var G=i.memoizedState;G===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:y,treeForkCount:A}:(G.isBackwards=o,G.rendering=null,G.renderingStartTime=0,G.last=p,G.tail=f,G.tailMode=y,G.treeForkCount=A)}function ny(i,o,f){var p=o.pendingProps,y=p.revealOrder,A=p.tail;p=p.children;var G=tn.current,fe=(G&2)!==0;if(fe?(G=G&1|2,o.flags|=128):G&=1,k(tn,G),Si(i,o,p,f),p=Xr?Qu:0,!fe&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ry(i,f,o);else if(i.tag===19)ry(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(f=o.child,y=null;f!==null;)i=f.alternate,i!==null&&ci(i)===null&&(y=f),f=f.sibling;f=y,f===null?(y=o.child,o.child=null):(y=f.sibling,f.sibling=null),Ag(o,!1,y,f,A,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&ci(i)===null){o.child=y;break}i=y.sibling,y.sibling=f,f=y,y=i}Ag(o,!0,f,null,A,p);break;case"together":Ag(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function uc(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),lu|=o.lanes,(f&o.childLanes)===0)if(i!==null){if(Nl(i,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,f=ps(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=ps(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function Eg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Qf(i)))}function sj(i,o,f){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),Sl(o,ua,i.memoizedState.cache),ic();break;case 27:case 5:ye(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:Sl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xn(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(fa(o),o.flags|=128,null):(f&o.child.childLanes)!==0?ty(i,o,f):(fa(o),i=uc(i,o,f),i!==null?i.sibling:null);fa(o);break;case 19:var y=(i.flags&128)!==0;if(p=(f&o.childLanes)!==0,p||(Nl(i,o,f,!1),p=(f&o.childLanes)!==0),y){if(p)return ny(i,o,f);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),k(tn,tn.current),p)break;return null;case 22:return o.lanes=0,Xb(i,o,f,o.pendingProps);case 24:Sl(o,ua,i.memoizedState.cache)}return uc(i,o,f)}function ay(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ra=!0;else{if(!Eg(i,f)&&(o.flags&128)===0)return Ra=!1,sj(i,o,f);Ra=(i.flags&131072)!==0}else Ra=!1,Xr&&(o.flags&1048576)!==0&&C1(o,Qu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=He(o.elementType),o.type=i,typeof i=="function")$f(i)?(p=af(i,p),o.tag=1,o=Qb(null,o,i,p,f)):(o.tag=0,o=yg(null,o,i,p,f));else{if(i!=null){var y=i.$$typeof;if(y===L){o.tag=11,o=Wb(null,o,i,p,f);break e}else if(y===U){o.tag=14,o=$b(null,o,i,p,f);break e}}throw o=re(i)||i,Error(n(306,o,""))}}return o;case 0:return yg(i,o,o.type,o.pendingProps,f);case 1:return p=o.type,y=af(p,o.pendingProps),Qb(i,o,p,y,f);case 3:e:{if(me(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var A=o.memoizedState;y=A.element,Gn(i,o),ga(o,p,null,f);var G=o.memoizedState;if(p=G.cache,Sl(o,ua,p),p!==A.cache&&sc(o,[ua],f,!0),Ln(),p=G.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:G.cache},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){o=ey(i,o,p,f);break e}else if(p!==y){y=gs(Error(n(424)),o),Qc(y),o=ey(i,o,p,f);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(In=go(i.firstChild),$a=o,Xr=!0,yi=null,Qn=!0,f=Or(o,null,p,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ic(),p===y){o=uc(i,o,f);break e}Si(i,o,p,f)}o=o.child}return o;case 26:return U1(i,o),i===null?(f=pw(o.type,null,o.pendingProps,null))?o.memoizedState=f:Xr||(f=o.type,i=o.pendingProps,p=am(q.current).createElement(f),p[xe]=o,p[be]=i,Ni(p,f,i),Gt(p),o.stateNode=p):o.memoizedState=pw(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ye(o),i===null&&Xr&&(p=o.stateNode=dw(o.type,o.pendingProps,q.current),$a=o,Qn=!0,y=In,hu(o.type)?(sx=y,In=go(p.firstChild)):In=y),Si(i,o,o.pendingProps.children,f),U1(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Xr&&((y=p=In)&&(p=Rj(p,o.type,o.pendingProps,Qn),p!==null?(o.stateNode=p,$a=o,In=go(p.firstChild),Qn=!1,y=!0):y=!1),y||yl(o)),ye(o),y=o.type,A=o.pendingProps,G=i!==null?i.memoizedProps:null,p=A.children,tx(y,A)?p=null:G!==null&&tx(y,G)&&(o.flags|=32),o.memoizedState!==null&&(y=jd(i,o,lg,null,null,f),Jd._currentValue=y),U1(i,o),Si(i,o,p,f),o.child;case 6:return i===null&&Xr&&((i=f=In)&&(f=Mj(f,o.pendingProps,Qn),f!==null?(o.stateNode=f,$a=o,In=null,i=!0):i=!1),i||yl(o)),null;case 13:return ty(i,o,f);case 4:return me(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Pn(o,null,p,f):Si(i,o,p,f),o.child;case 11:return Wb(i,o,o.type,o.pendingProps,f);case 7:return Si(i,o,o.pendingProps,f),o.child;case 8:return Si(i,o,o.pendingProps.children,f),o.child;case 12:return Si(i,o,o.pendingProps.children,f),o.child;case 10:return p=o.pendingProps,Sl(o,o.type,p.value),Si(i,o,p.children,f),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,_l(o),y=Xa(y),p=p(y),o.flags|=1,Si(i,o,p,f),o.child;case 14:return $b(i,o,o.type,o.pendingProps,f);case 15:return Yb(i,o,o.type,o.pendingProps,f);case 19:return ny(i,o,f);case 31:return ij(i,o,f);case 22:return Xb(i,o,f,o.pendingProps);case 24:return _l(o),p=Xa(ua),i===null?(y=ge(),y===null&&(y=Bn,A=tu(),y.pooledCache=A,A.refCount++,A!==null&&(y.pooledCacheLanes|=f),y=A),o.memoizedState={parent:p,cache:y},Mt(o),Sl(o,ua,y)):((i.lanes&f)!==0&&(Gn(i,o),ga(o,null,null,f),Ln()),y=i.memoizedState,A=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Sl(o,ua,p)):(p=A.cache,Sl(o,ua,p),p!==y.cache&&sc(o,[ua],f,!0))),Si(i,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function fc(i){i.flags|=4}function jg(i,o,f,p,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Dy())i.flags|=8192;else throw nt=Le,$e}else i.flags&=-16777217}function iy(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yw(o))if(Dy())i.flags|=8192;else throw nt=Le,$e}function V1(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?At():536870912,i.lanes|=o,m0|=o)}function Id(i,o){if(!Xr)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function $n(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,p=0;if(o)for(var y=i.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=f,o}function oj(i,o,f){var p=o.pendingProps;switch(Zf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(o),null;case 1:return $n(o),null;case 3:return f=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ws(ua),de(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Ya(o)?fc(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ad())),$n(o),null;case 26:var y=o.type,A=o.memoizedState;return i===null?(fc(o),A!==null?($n(o),iy(o,A)):($n(o),jg(o,y,null,p,f))):A?A!==i.memoizedState?(fc(o),$n(o),iy(o,A)):($n(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&fc(o),$n(o),jg(o,y,i,p,f)),null;case 27:if(Ce(o),f=q.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&fc(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return $n(o),null}i=D.current,Ya(o)?Td(o):(i=dw(y,p,f),o.stateNode=i,fc(o))}return $n(o),null;case 5:if(Ce(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&fc(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return $n(o),null}if(A=D.current,Ya(o))Td(o);else{var G=am(q.current);switch(A){case 1:A=G.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:A=G.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":A=G.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":A=G.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":A=G.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof p.is=="string"?G.createElement("select",{is:p.is}):G.createElement("select"),p.multiple?A.multiple=!0:p.size&&(A.size=p.size);break;default:A=typeof p.is=="string"?G.createElement(y,{is:p.is}):G.createElement(y)}}A[xe]=o,A[be]=p;e:for(G=o.child;G!==null;){if(G.tag===5||G.tag===6)A.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===o)break e;for(;G.sibling===null;){if(G.return===null||G.return===o)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}o.stateNode=A;e:switch(Ni(A,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&fc(o)}}return $n(o),jg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,f),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&fc(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=q.current,Ya(o)){if(i=o.stateNode,f=o.memoizedProps,p=null,y=$a,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[xe]=o,i=!!(i.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||tw(i.nodeValue,f)),i||yl(o,!0)}else i=am(i).createTextNode(p),i[xe]=o,o.stateNode=i}return $n(o),null;case 31:if(f=o.memoizedState,i===null||i.memoizedState!==null){if(p=Ya(o),f!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[xe]=o}else ic(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$n(o),i=!1}else f=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return o.flags&256?(yn(o),o):(yn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return $n(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ya(o),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[xe]=o}else ic(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$n(o),y=!1}else y=Ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(yn(o),o):(yn(o),null)}return yn(o),(o.flags&128)!==0?(o.lanes=f,o):(f=p!==null,i=i!==null&&i.memoizedState!==null,f&&(p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),A=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==y&&(p.flags|=2048)),f!==i&&f&&(o.child.flags|=8192),V1(o,o.updateQueue),$n(o),null);case 4:return de(),i===null&&Kg(o.stateNode.containerInfo),$n(o),null;case 10:return ws(o.type),$n(o),null;case 19:if(N(tn),p=o.memoizedState,p===null)return $n(o),null;if(y=(o.flags&128)!==0,A=p.rendering,A===null)if(y)Id(p,!1);else{if(wa!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=ci(i),A!==null){for(o.flags|=128,Id(p,!1),i=A.updateQueue,o.updateQueue=i,V1(o,i),o.subtreeFlags=0,i=f,f=o.child;f!==null;)Zu(f,i),f=f.sibling;return k(tn,tn.current&1|2),Xr&&rs(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&Ft()>Y1&&(o.flags|=128,y=!0,Id(p,!1),o.lanes=4194304)}else{if(!y)if(i=ci(A),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,V1(o,i),Id(p,!0),p.tail===null&&p.tailMode==="hidden"&&!A.alternate&&!Xr)return $n(o),null}else 2*Ft()-p.renderingStartTime>Y1&&f!==536870912&&(o.flags|=128,y=!0,Id(p,!1),o.lanes=4194304);p.isBackwards?(A.sibling=o.child,o.child=A):(i=p.last,i!==null?i.sibling=A:o.child=A,p.last=A)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ft(),i.sibling=null,f=tn.current,k(tn,y?f&1|2:f&1),Xr&&rs(o,p.treeForkCount),i):($n(o),null);case 22:case 23:return yn(o),Ca(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(f&536870912)!==0&&(o.flags&128)===0&&($n(o),o.subtreeFlags&6&&(o.flags|=8192)):$n(o),f=o.updateQueue,f!==null&&V1(o,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048),i!==null&&N(ue),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ws(ua),$n(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function lj(i,o){switch(Zf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ws(ua),de(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(yn(o),o.alternate===null)throw Error(n(340));ic()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(yn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ic()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return N(tn),null;case 4:return de(),null;case 10:return ws(o.type),null;case 22:case 23:return yn(o),Ca(),i!==null&&N(ue),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ws(ua),null;case 25:return null;default:return null}}function sy(i,o){switch(Zf(o),o.tag){case 3:ws(ua),de();break;case 26:case 27:case 5:Ce(o);break;case 4:de();break;case 31:o.memoizedState!==null&&yn(o);break;case 13:yn(o);break;case 19:N(tn);break;case 10:ws(o.type);break;case 22:case 23:yn(o),Ca(),i!==null&&N(ue);break;case 24:ws(ua)}}function Pd(i,o){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&i)===i){p=void 0;var A=f.create,G=f.inst;p=A(),G.destroy=p}f=f.next}while(f!==y)}}catch(fe){Sn(o,o.return,fe)}}function su(i,o,f){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var A=y.next;p=A;do{if((p.tag&i)===i){var G=p.inst,fe=G.destroy;if(fe!==void 0){G.destroy=void 0,y=o;var Ae=f,Ke=fe;try{Ke()}catch(lt){Sn(y,Ae,lt)}}}p=p.next}while(p!==A)}}catch(lt){Sn(o,o.return,lt)}}function oy(i){var o=i.updateQueue;if(o!==null){var f=i.stateNode;try{xa(o,f)}catch(p){Sn(i,i.return,p)}}}function ly(i,o,f){f.props=af(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(p){Sn(i,o,p)}}function Bd(i,o){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof f=="function"?i.refCleanup=f(p):f.current=p}}catch(y){Sn(i,o,y)}}function Cl(i,o){var f=i.ref,p=i.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(y){Sn(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){Sn(i,o,y)}else f.current=null}function cy(i){var o=i.type,f=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(y){Sn(i,i.return,y)}}function Cg(i,o,f){try{var p=i.stateNode;kj(p,i.type,f,o),p[be]=o}catch(y){Sn(i,i.return,y)}}function uy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hu(i.type)||i.tag===4}function kg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dg(i,o,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(i),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Zi));else if(p!==4&&(p===27&&hu(i.type)&&(f=i.stateNode,o=null),i=i.child,i!==null))for(Dg(i,o,f),i=i.sibling;i!==null;)Dg(i,o,f),i=i.sibling}function G1(i,o,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(p!==4&&(p===27&&hu(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(G1(i,o,f),i=i.sibling;i!==null;)G1(i,o,f),i=i.sibling}function fy(i){var o=i.stateNode,f=i.memoizedProps;try{for(var p=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Ni(o,p,f),o[xe]=i,o[be]=f}catch(A){Sn(i,i.return,A)}}var dc=!1,Ma=!1,Lg=!1,dy=typeof WeakSet=="function"?WeakSet:Set,ui=null;function cj(i,o){if(i=i.containerInfo,Qg=fm,i=Uo(i),uo(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var y=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var G=0,fe=-1,Ae=-1,Ke=0,lt=0,gt=i,Je=null;t:for(;;){for(var tt;gt!==f||y!==0&&gt.nodeType!==3||(fe=G+y),gt!==A||p!==0&&gt.nodeType!==3||(Ae=G+p),gt.nodeType===3&&(G+=gt.nodeValue.length),(tt=gt.firstChild)!==null;)Je=gt,gt=tt;for(;;){if(gt===i)break t;if(Je===f&&++Ke===y&&(fe=G),Je===A&&++lt===p&&(Ae=G),(tt=gt.nextSibling)!==null)break;gt=Je,Je=gt.parentNode}gt=tt}f=fe===-1||Ae===-1?null:{start:fe,end:Ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(ex={focusedElem:i,selectionRange:f},fm=!1,ui=o;ui!==null;)if(o=ui,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ui=i;else for(;ui!==null;){switch(o=ui,A=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)y=i[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&A!==null){i=void 0,f=o,y=A.memoizedProps,A=A.memoizedState,p=f.stateNode;try{var Zt=af(f.type,y);i=p.getSnapshotBeforeUpdate(Zt,A),p.__reactInternalSnapshotBeforeUpdate=i}catch(wr){Sn(f,f.return,wr)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,f=i.nodeType,f===9)nx(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":nx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,ui=i;break}ui=o.return}}function hy(i,o,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:mc(i,f),p&4&&Pd(5,f);break;case 1:if(mc(i,f),p&4)if(i=f.stateNode,o===null)try{i.componentDidMount()}catch(G){Sn(f,f.return,G)}else{var y=af(f.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(G){Sn(f,f.return,G)}}p&64&&oy(f),p&512&&Bd(f,f.return);break;case 3:if(mc(i,f),p&64&&(i=f.updateQueue,i!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{xa(i,o)}catch(G){Sn(f,f.return,G)}}break;case 27:o===null&&p&4&&fy(f);case 26:case 5:mc(i,f),o===null&&p&4&&cy(f),p&512&&Bd(f,f.return);break;case 12:mc(i,f);break;case 31:mc(i,f),p&4&&gy(i,f);break;case 13:mc(i,f),p&4&&xy(i,f),p&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=vj.bind(null,f),Ij(i,f))));break;case 22:if(p=f.memoizedState!==null||dc,!p){o=o!==null&&o.memoizedState!==null||Ma,y=dc;var A=Ma;dc=p,(Ma=o)&&!A?pc(i,f,(f.subtreeFlags&8772)!==0):mc(i,f),dc=y,Ma=A}break;case 30:break;default:mc(i,f)}}function my(i){var o=i.alternate;o!==null&&(i.alternate=null,my(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&St(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ra=null,Ns=!1;function hc(i,o,f){for(f=f.child;f!==null;)py(i,o,f),f=f.sibling}function py(i,o,f){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Fe,f)}catch{}switch(f.tag){case 26:Ma||Cl(f,o),hc(i,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Ma||Cl(f,o);var p=ra,y=Ns;hu(f.type)&&(ra=f.stateNode,Ns=!1),hc(i,o,f),Xd(f.stateNode),ra=p,Ns=y;break;case 5:Ma||Cl(f,o);case 6:if(p=ra,y=Ns,ra=null,hc(i,o,f),ra=p,Ns=y,ra!==null)if(Ns)try{(ra.nodeType===9?ra.body:ra.nodeName==="HTML"?ra.ownerDocument.body:ra).removeChild(f.stateNode)}catch(A){Sn(f,o,A)}else try{ra.removeChild(f.stateNode)}catch(A){Sn(f,o,A)}break;case 18:ra!==null&&(Ns?(i=ra,ow(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),S0(i)):ow(ra,f.stateNode));break;case 4:p=ra,y=Ns,ra=f.stateNode.containerInfo,Ns=!0,hc(i,o,f),ra=p,Ns=y;break;case 0:case 11:case 14:case 15:su(2,f,o),Ma||su(4,f,o),hc(i,o,f);break;case 1:Ma||(Cl(f,o),p=f.stateNode,typeof p.componentWillUnmount=="function"&&ly(f,o,p)),hc(i,o,f);break;case 21:hc(i,o,f);break;case 22:Ma=(p=Ma)||f.memoizedState!==null,hc(i,o,f),Ma=p;break;default:hc(i,o,f)}}function gy(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{S0(i)}catch(f){Sn(o,o.return,f)}}}function xy(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{S0(i)}catch(f){Sn(o,o.return,f)}}function uj(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new dy),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new dy),o;default:throw Error(n(435,i.tag))}}function q1(i,o){var f=uj(i);o.forEach(function(p){if(!f.has(p)){f.add(p);var y=bj.bind(null,i,p);p.then(y,y)}})}function _s(i,o){var f=o.deletions;if(f!==null)for(var p=0;p<f.length;p++){var y=f[p],A=i,G=o,fe=G;e:for(;fe!==null;){switch(fe.tag){case 27:if(hu(fe.type)){ra=fe.stateNode,Ns=!1;break e}break;case 5:ra=fe.stateNode,Ns=!1;break e;case 3:case 4:ra=fe.stateNode.containerInfo,Ns=!0;break e}fe=fe.return}if(ra===null)throw Error(n(160));py(A,G,y),ra=null,Ns=!1,A=y.alternate,A!==null&&(A.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)vy(o,i),o=o.sibling}var Xo=null;function vy(i,o){var f=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_s(o,i),Ts(i),p&4&&(su(3,i,i.return),Pd(3,i),su(5,i,i.return));break;case 1:_s(o,i),Ts(i),p&512&&(Ma||f===null||Cl(f,f.return)),p&64&&dc&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var y=Xo;if(_s(o,i),Ts(i),p&512&&(Ma||f===null||Cl(f,f.return)),p&4){var A=f!==null?f.memoizedState:null;if(p=i.memoizedState,f===null)if(p===null)if(i.stateNode===null){e:{p=i.type,f=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":A=y.getElementsByTagName("title")[0],(!A||A[We]||A[xe]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=y.createElement(p),y.head.insertBefore(A,y.querySelector("head > title"))),Ni(A,p,f),A[xe]=i,Gt(A),p=A;break e;case"link":var G=vw("link","href",y).get(p+(f.href||""));if(G){for(var fe=0;fe<G.length;fe++)if(A=G[fe],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){G.splice(fe,1);break t}}A=y.createElement(p),Ni(A,p,f),y.head.appendChild(A);break;case"meta":if(G=vw("meta","content",y).get(p+(f.content||""))){for(fe=0;fe<G.length;fe++)if(A=G[fe],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){G.splice(fe,1);break t}}A=y.createElement(p),Ni(A,p,f),y.head.appendChild(A);break;default:throw Error(n(468,p))}A[xe]=i,Gt(A),p=A}i.stateNode=p}else bw(y,i.type,i.stateNode);else i.stateNode=xw(y,p,i.memoizedProps);else A!==p?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,p===null?bw(y,i.type,i.stateNode):xw(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Cg(i,i.memoizedProps,f.memoizedProps)}break;case 27:_s(o,i),Ts(i),p&512&&(Ma||f===null||Cl(f,f.return)),f!==null&&p&4&&Cg(i,i.memoizedProps,f.memoizedProps);break;case 5:if(_s(o,i),Ts(i),p&512&&(Ma||f===null||Cl(f,f.return)),i.flags&32){y=i.stateNode;try{xi(y,"")}catch(Zt){Sn(i,i.return,Zt)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,Cg(i,y,f!==null?f.memoizedProps:y)),p&1024&&(Lg=!0);break;case 6:if(_s(o,i),Ts(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,f=i.stateNode;try{f.nodeValue=p}catch(Zt){Sn(i,i.return,Zt)}}break;case 3:if(om=null,y=Xo,Xo=im(o.containerInfo),_s(o,i),Xo=y,Ts(i),p&4&&f!==null&&f.memoizedState.isDehydrated)try{S0(o.containerInfo)}catch(Zt){Sn(i,i.return,Zt)}Lg&&(Lg=!1,by(i));break;case 4:p=Xo,Xo=im(i.stateNode.containerInfo),_s(o,i),Ts(i),Xo=p;break;case 12:_s(o,i),Ts(i);break;case 31:_s(o,i),Ts(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,q1(i,p)));break;case 13:_s(o,i),Ts(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&($1=Ft()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,q1(i,p)));break;case 22:y=i.memoizedState!==null;var Ae=f!==null&&f.memoizedState!==null,Ke=dc,lt=Ma;if(dc=Ke||y,Ma=lt||Ae,_s(o,i),Ma=lt,dc=Ke,Ts(i),p&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(f===null||Ae||dc||Ma||sf(i)),f=null,o=i;;){if(o.tag===5||o.tag===26){if(f===null){Ae=f=o;try{if(A=Ae.stateNode,y)G=A.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{fe=Ae.stateNode;var gt=Ae.memoizedProps.style,Je=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;fe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Zt){Sn(Ae,Ae.return,Zt)}}}else if(o.tag===6){if(f===null){Ae=o;try{Ae.stateNode.nodeValue=y?"":Ae.memoizedProps}catch(Zt){Sn(Ae,Ae.return,Zt)}}}else if(o.tag===18){if(f===null){Ae=o;try{var tt=Ae.stateNode;y?lw(tt,!0):lw(Ae.stateNode,!1)}catch(Zt){Sn(Ae,Ae.return,Zt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,q1(i,f))));break;case 19:_s(o,i),Ts(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,q1(i,p)));break;case 30:break;case 21:break;default:_s(o,i),Ts(i)}}function Ts(i){var o=i.flags;if(o&2){try{for(var f,p=i.return;p!==null;){if(uy(p)){f=p;break}p=p.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var y=f.stateNode,A=kg(i);G1(i,A,y);break;case 5:var G=f.stateNode;f.flags&32&&(xi(G,""),f.flags&=-33);var fe=kg(i);G1(i,fe,G);break;case 3:case 4:var Ae=f.stateNode.containerInfo,Ke=kg(i);Dg(i,Ke,Ae);break;default:throw Error(n(161))}}catch(lt){Sn(i,i.return,lt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function by(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;by(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function mc(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)hy(i,o.alternate,o),o=o.sibling}function sf(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:su(4,o,o.return),sf(o);break;case 1:Cl(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&ly(o,o.return,f),sf(o);break;case 27:Xd(o.stateNode);case 26:case 5:Cl(o,o.return),sf(o);break;case 22:o.memoizedState===null&&sf(o);break;case 30:sf(o);break;default:sf(o)}i=i.sibling}}function pc(i,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=i,A=o,G=A.flags;switch(A.tag){case 0:case 11:case 15:pc(y,A,f),Pd(4,A);break;case 1:if(pc(y,A,f),p=A,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ke){Sn(p,p.return,Ke)}if(p=A,y=p.updateQueue,y!==null){var fe=p.stateNode;try{var Ae=y.shared.hiddenCallbacks;if(Ae!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ae.length;y++)li(Ae[y],fe)}catch(Ke){Sn(p,p.return,Ke)}}f&&G&64&&oy(A),Bd(A,A.return);break;case 27:fy(A);case 26:case 5:pc(y,A,f),f&&p===null&&G&4&&cy(A),Bd(A,A.return);break;case 12:pc(y,A,f);break;case 31:pc(y,A,f),f&&G&4&&gy(y,A);break;case 13:pc(y,A,f),f&&G&4&&xy(y,A);break;case 22:A.memoizedState===null&&pc(y,A,f),Bd(A,A.return);break;case 30:break;default:pc(y,A,f)}o=o.sibling}}function zg(i,o){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&ef(f))}function Fg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ef(i))}function Ko(i,o,f,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yy(i,o,f,p),o=o.sibling}function yy(i,o,f,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ko(i,o,f,p),y&2048&&Pd(9,o);break;case 1:Ko(i,o,f,p);break;case 3:Ko(i,o,f,p),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ef(i)));break;case 12:if(y&2048){Ko(i,o,f,p),i=o.stateNode;try{var A=o.memoizedProps,G=A.id,fe=A.onPostCommit;typeof fe=="function"&&fe(G,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ae){Sn(o,o.return,Ae)}}else Ko(i,o,f,p);break;case 31:Ko(i,o,f,p);break;case 13:Ko(i,o,f,p);break;case 23:break;case 22:A=o.stateNode,G=o.alternate,o.memoizedState!==null?A._visibility&2?Ko(i,o,f,p):Ud(i,o):A._visibility&2?Ko(i,o,f,p):(A._visibility|=2,f0(i,o,f,p,(o.subtreeFlags&10256)!==0||!1)),y&2048&&zg(G,o);break;case 24:Ko(i,o,f,p),y&2048&&Fg(o.alternate,o);break;default:Ko(i,o,f,p)}}function f0(i,o,f,p,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var A=i,G=o,fe=f,Ae=p,Ke=G.flags;switch(G.tag){case 0:case 11:case 15:f0(A,G,fe,Ae,y),Pd(8,G);break;case 23:break;case 22:var lt=G.stateNode;G.memoizedState!==null?lt._visibility&2?f0(A,G,fe,Ae,y):Ud(A,G):(lt._visibility|=2,f0(A,G,fe,Ae,y)),y&&Ke&2048&&zg(G.alternate,G);break;case 24:f0(A,G,fe,Ae,y),y&&Ke&2048&&Fg(G.alternate,G);break;default:f0(A,G,fe,Ae,y)}o=o.sibling}}function Ud(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=i,p=o,y=p.flags;switch(p.tag){case 22:Ud(f,p),y&2048&&zg(p.alternate,p);break;case 24:Ud(f,p),y&2048&&Fg(p.alternate,p);break;default:Ud(f,p)}o=o.sibling}}var Hd=8192;function d0(i,o,f){if(i.subtreeFlags&Hd)for(i=i.child;i!==null;)wy(i,o,f),i=i.sibling}function wy(i,o,f){switch(i.tag){case 26:d0(i,o,f),i.flags&Hd&&i.memoizedState!==null&&Kj(f,Xo,i.memoizedState,i.memoizedProps);break;case 5:d0(i,o,f);break;case 3:case 4:var p=Xo;Xo=im(i.stateNode.containerInfo),d0(i,o,f),Xo=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Hd,Hd=16777216,d0(i,o,f),Hd=p):d0(i,o,f));break;default:d0(i,o,f)}}function Sy(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Vd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];ui=p,_y(p,i)}Sy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ny(i),i=i.sibling}function Ny(i){switch(i.tag){case 0:case 11:case 15:Vd(i),i.flags&2048&&su(9,i,i.return);break;case 3:Vd(i);break;case 12:Vd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,W1(i)):Vd(i);break;default:Vd(i)}}function W1(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];ui=p,_y(p,i)}Sy(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:su(8,o,o.return),W1(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,W1(o));break;default:W1(o)}i=i.sibling}}function _y(i,o){for(;ui!==null;){var f=ui;switch(f.tag){case 0:case 11:case 15:su(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ef(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,ui=p;else e:for(f=i;ui!==null;){p=ui;var y=p.sibling,A=p.return;if(my(p),p===f){ui=null;break e}if(y!==null){y.return=A,ui=y;break e}ui=A}}}var fj={getCacheForType:function(i){var o=Xa(ua),f=o.data.get(i);return f===void 0&&(f=i(),o.data.set(i,f)),f},cacheSignal:function(){return Xa(ua).controller.signal}},dj=typeof WeakMap=="function"?WeakMap:Map,vn=0,Bn=null,Kr=null,Jr=0,wn=0,Vs=null,ou=!1,h0=!1,Og=!1,gc=0,wa=0,lu=0,of=0,Rg=0,Gs=0,m0=0,Gd=null,As=null,Mg=!1,$1=0,Ty=0,Y1=1/0,X1=null,cu=null,Za=0,uu=null,p0=null,xc=0,Ig=0,Pg=null,Ay=null,qd=0,Bg=null;function qs(){return(vn&2)!==0&&Jr!==0?Jr&-Jr:Z.T!==null?Wg():ne()}function Ey(){if(Gs===0)if((Jr&536870912)===0||Xr){var i=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Gs=i}else Gs=536870912;return i=Wn.current,i!==null&&(i.flags|=32),Gs}function Es(i,o,f){(i===Bn&&(wn===2||wn===9)||i.cancelPendingCommit!==null)&&(g0(i,0),fu(i,Jr,Gs,!1)),De(i,f),((vn&2)===0||i!==Bn)&&(i===Bn&&((vn&2)===0&&(of|=f),wa===4&&fu(i,Jr,Gs,!1)),kl(i))}function jy(i,o,f){if((vn&6)!==0)throw Error(n(327));var p=!f&&(o&127)===0&&(o&i.expiredLanes)===0||Cn(i,o),y=p?pj(i,o):Hg(i,o,!0),A=p;do{if(y===0){h0&&!p&&fu(i,o,0,!1);break}else{if(f=i.current.alternate,A&&!hj(f)){y=Hg(i,o,!1),A=!1;continue}if(y===2){if(A=o,i.errorRecoveryDisabledLanes&A)var G=0;else G=i.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){o=G;e:{var fe=i;y=Gd;var Ae=fe.current.memoizedState.isDehydrated;if(Ae&&(g0(fe,G).flags|=256),G=Hg(fe,G,!1),G!==2){if(Og&&!Ae){fe.errorRecoveryDisabledLanes|=A,of|=A,y=4;break e}A=As,As=y,A!==null&&(As===null?As=A:As.push.apply(As,A))}y=G}if(A=!1,y!==2)continue}}if(y===1){g0(i,0),fu(i,o,0,!0);break}e:{switch(p=i,A=y,A){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:fu(p,o,Gs,!ou);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=$1+300-Ft(),10<y)){if(fu(p,o,Gs,!ou),mr(p,0,!0)!==0)break e;xc=o,p.timeoutHandle=iw(Cy.bind(null,p,f,As,X1,Mg,o,Gs,of,m0,ou,A,"Throttled",-0,0),y);break e}Cy(p,f,As,X1,Mg,o,Gs,of,m0,ou,A,null,-0,0)}}break}while(!0);kl(i)}function Cy(i,o,f,p,y,A,G,fe,Ae,Ke,lt,gt,Je,tt){if(i.timeoutHandle=-1,gt=o.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zi},wy(o,A,gt);var Zt=(A&62914560)===A?$1-Ft():(A&4194048)===A?Ty-Ft():0;if(Zt=Zj(gt,Zt),Zt!==null){xc=A,i.cancelPendingCommit=Zt(My.bind(null,i,o,A,f,p,y,G,fe,Ae,lt,gt,null,Je,tt)),fu(i,A,G,!Ke);return}}My(i,o,A,f,p,y,G,fe,Ae)}function hj(i){for(var o=i;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var y=f[p],A=y.getSnapshot;y=y.value;try{if(!qa(A(),y))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fu(i,o,f,p){o&=~Rg,o&=~of,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var y=o;0<y;){var A=31-Pt(y),G=1<<A;p[A]=-1,y&=~G}f!==0&&Jt(i,f,o)}function K1(){return(vn&6)===0?(Wd(0),!1):!0}function Ug(){if(Kr!==null){if(wn===0)var i=Kr.return;else i=Kr,ho=wl=null,a0(i),xt=null,Qt=0,i=Kr;for(;i!==null;)sy(i.alternate,i),i=i.return;Kr=null}}function g0(i,o){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,zj(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),xc=0,Ug(),Bn=i,Kr=f=ps(i.current,null),Jr=o,wn=0,Vs=null,ou=!1,h0=Cn(i,o),Og=!1,m0=Gs=Rg=of=lu=wa=0,As=Gd=null,Mg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var y=31-Pt(p),A=1<<y;o|=i[y],p&=~A}return gc=o,Yu(),f}function ky(i,o){ur=null,Z.H=Rd,o===je||o===Ne?(o=dt(),wn=3):o===$e?(o=dt(),wn=4):wn=o===bg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Vs=o,Kr===null&&(wa=1,P1(i,gs(o,i.current)))}function Dy(){var i=Wn.current;return i===null?!0:(Jr&4194048)===Jr?an===null:(Jr&62914560)===Jr||(Jr&536870912)!==0?i===an:!1}function Ly(){var i=Z.H;return Z.H=Rd,i===null?Rd:i}function zy(){var i=Z.A;return Z.A=fj,i}function Z1(){wa=4,ou||(Jr&4194048)!==Jr&&Wn.current!==null||(h0=!0),(lu&134217727)===0&&(of&134217727)===0||Bn===null||fu(Bn,Jr,Gs,!1)}function Hg(i,o,f){var p=vn;vn|=2;var y=Ly(),A=zy();(Bn!==i||Jr!==o)&&(X1=null,g0(i,o)),o=!1;var G=wa;e:do try{if(wn!==0&&Kr!==null){var fe=Kr,Ae=Vs;switch(wn){case 8:Ug(),G=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(o=!0);var Ke=wn;if(wn=0,Vs=null,x0(i,fe,Ae,Ke),f&&h0){G=0;break e}break;default:Ke=wn,wn=0,Vs=null,x0(i,fe,Ae,Ke)}}mj(),G=wa;break}catch(lt){ky(i,lt)}while(!0);return o&&i.shellSuspendCounter++,ho=wl=null,vn=p,Z.H=y,Z.A=A,Kr===null&&(Bn=null,Jr=0,Yu()),G}function mj(){for(;Kr!==null;)Fy(Kr)}function pj(i,o){var f=vn;vn|=2;var p=Ly(),y=zy();Bn!==i||Jr!==o?(X1=null,Y1=Ft()+500,g0(i,o)):h0=Cn(i,o);e:do try{if(wn!==0&&Kr!==null){o=Kr;var A=Vs;t:switch(wn){case 1:wn=0,Vs=null,x0(i,o,A,1);break;case 2:case 9:if(Pe(A)){wn=0,Vs=null,Oy(o);break}o=function(){wn!==2&&wn!==9||Bn!==i||(wn=7),kl(i)},A.then(o,o);break e;case 3:wn=7;break e;case 4:wn=5;break e;case 7:Pe(A)?(wn=0,Vs=null,Oy(o)):(wn=0,Vs=null,x0(i,o,A,7));break;case 5:var G=null;switch(Kr.tag){case 26:G=Kr.memoizedState;case 5:case 27:var fe=Kr;if(G?yw(G):fe.stateNode.complete){wn=0,Vs=null;var Ae=fe.sibling;if(Ae!==null)Kr=Ae;else{var Ke=fe.return;Ke!==null?(Kr=Ke,J1(Ke)):Kr=null}break t}}wn=0,Vs=null,x0(i,o,A,5);break;case 6:wn=0,Vs=null,x0(i,o,A,6);break;case 8:Ug(),wa=6;break e;default:throw Error(n(462))}}gj();break}catch(lt){ky(i,lt)}while(!0);return ho=wl=null,Z.H=p,Z.A=y,vn=f,Kr!==null?0:(Bn=null,Jr=0,Yu(),wa)}function gj(){for(;Kr!==null&&!Dt();)Fy(Kr)}function Fy(i){var o=ay(i.alternate,i,gc);i.memoizedProps=i.pendingProps,o===null?J1(i):Kr=o}function Oy(i){var o=i,f=o.alternate;switch(o.tag){case 15:case 0:o=Jb(f,o,o.pendingProps,o.type,void 0,Jr);break;case 11:o=Jb(f,o,o.pendingProps,o.type.render,o.ref,Jr);break;case 5:a0(o);default:sy(f,o),o=Kr=Zu(o,gc),o=ay(f,o,gc)}i.memoizedProps=i.pendingProps,o===null?J1(i):Kr=o}function x0(i,o,f,p){ho=wl=null,a0(o),xt=null,Qt=0;var y=o.return;try{if(aj(i,y,o,f,Jr)){wa=1,P1(i,gs(f,i.current)),Kr=null;return}}catch(A){if(y!==null)throw Kr=y,A;wa=1,P1(i,gs(f,i.current)),Kr=null;return}o.flags&32768?(Xr||p===1?i=!0:h0||(Jr&536870912)!==0?i=!1:(ou=i=!0,(p===2||p===9||p===3||p===6)&&(p=Wn.current,p!==null&&p.tag===13&&(p.flags|=16384))),Ry(o,i)):J1(o)}function J1(i){var o=i;do{if((o.flags&32768)!==0){Ry(o,ou);return}i=o.return;var f=oj(o.alternate,o,gc);if(f!==null){Kr=f;return}if(o=o.sibling,o!==null){Kr=o;return}Kr=o=i}while(o!==null);wa===0&&(wa=5)}function Ry(i,o){do{var f=lj(i.alternate,i);if(f!==null){f.flags&=32767,Kr=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(i=i.sibling,i!==null)){Kr=i;return}Kr=i=f}while(i!==null);wa=6,Kr=null}function My(i,o,f,p,y,A,G,fe,Ae){i.cancelPendingCommit=null;do Q1();while(Za!==0);if((vn&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(A=o.lanes|o.childLanes,A|=Gf,or(i,f,A,G,fe,Ae),i===Bn&&(Kr=Bn=null,Jr=0),p0=o,uu=i,xc=f,Ig=A,Pg=y,Ay=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yj(vt,function(){return Hy(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,y=ie.p,ie.p=2,G=vn,vn|=4;try{cj(i,o,f)}finally{vn=G,ie.p=y,Z.T=p}}Za=1,Iy(),Py(),By()}}function Iy(){if(Za===1){Za=0;var i=uu,o=p0,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=Z.T,Z.T=null;var p=ie.p;ie.p=2;var y=vn;vn|=4;try{vy(o,i);var A=ex,G=Uo(i.containerInfo),fe=A.focusedElem,Ae=A.selectionRange;if(G!==fe&&fe&&fe.ownerDocument&&Bo(fe.ownerDocument.documentElement,fe)){if(Ae!==null&&uo(fe)){var Ke=Ae.start,lt=Ae.end;if(lt===void 0&&(lt=Ke),"selectionStart"in fe)fe.selectionStart=Ke,fe.selectionEnd=Math.min(lt,fe.value.length);else{var gt=fe.ownerDocument||document,Je=gt&&gt.defaultView||window;if(Je.getSelection){var tt=Je.getSelection(),Zt=fe.textContent.length,wr=Math.min(Ae.start,Zt),On=Ae.end===void 0?wr:Math.min(Ae.end,Zt);!tt.extend&&wr>On&&(G=On,On=wr,wr=G);var Me=Xc(fe,wr),ke=Xc(fe,On);if(Me&&ke&&(tt.rangeCount!==1||tt.anchorNode!==Me.node||tt.anchorOffset!==Me.offset||tt.focusNode!==ke.node||tt.focusOffset!==ke.offset)){var Ye=gt.createRange();Ye.setStart(Me.node,Me.offset),tt.removeAllRanges(),wr>On?(tt.addRange(Ye),tt.extend(ke.node,ke.offset)):(Ye.setEnd(ke.node,ke.offset),tt.addRange(Ye))}}}}for(gt=[],tt=fe;tt=tt.parentNode;)tt.nodeType===1&&gt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<gt.length;fe++){var ht=gt[fe];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}fm=!!Qg,ex=Qg=null}finally{vn=y,ie.p=p,Z.T=f}}i.current=o,Za=2}}function Py(){if(Za===2){Za=0;var i=uu,o=p0,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=Z.T,Z.T=null;var p=ie.p;ie.p=2;var y=vn;vn|=4;try{hy(i,o.alternate,o)}finally{vn=y,ie.p=p,Z.T=f}}Za=3}}function By(){if(Za===4||Za===3){Za=0,jt();var i=uu,o=p0,f=xc,p=Ay;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Za=5:(Za=0,p0=uu=null,Uy(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(cu=null),lr(f),o=o.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Fe,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Z.T,y=ie.p,ie.p=2,Z.T=null;try{for(var A=i.onRecoverableError,G=0;G<p.length;G++){var fe=p[G];A(fe.value,{componentStack:fe.stack})}}finally{Z.T=o,ie.p=y}}(xc&3)!==0&&Q1(),kl(i),y=i.pendingLanes,(f&261930)!==0&&(y&42)!==0?i===Bg?qd++:(qd=0,Bg=i):qd=0,Wd(0)}}function Uy(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,ef(o)))}function Q1(){return Iy(),Py(),By(),Hy()}function Hy(){if(Za!==5)return!1;var i=uu,o=Ig;Ig=0;var f=lr(xc),p=Z.T,y=ie.p;try{ie.p=32>f?32:f,Z.T=null,f=Pg,Pg=null;var A=uu,G=xc;if(Za=0,p0=uu=null,xc=0,(vn&6)!==0)throw Error(n(331));var fe=vn;if(vn|=4,Ny(A.current),yy(A,A.current,G,f),vn=fe,Wd(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Fe,A)}catch{}return!0}finally{ie.p=y,Z.T=p,Uy(i,o)}}function Vy(i,o,f){o=gs(f,o),o=vg(i.stateNode,o,2),i=Ir(i,o,2),i!==null&&(De(i,2),kl(i))}function Sn(i,o,f){if(i.tag===3)Vy(i,i,f);else for(;o!==null;){if(o.tag===3){Vy(o,i,f);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(cu===null||!cu.has(p))){i=gs(f,i),f=Gb(2),p=Ir(o,f,2),p!==null&&(qb(f,p,o,i),De(p,2),kl(p));break}}o=o.return}}function Vg(i,o,f){var p=i.pingCache;if(p===null){p=i.pingCache=new dj;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(f)||(Og=!0,y.add(f),i=xj.bind(null,i,o,f),o.then(i,i))}function xj(i,o,f){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Bn===i&&(Jr&f)===f&&(wa===4||wa===3&&(Jr&62914560)===Jr&&300>Ft()-$1?(vn&2)===0&&g0(i,0):Rg|=f,m0===Jr&&(m0=0)),kl(i)}function Gy(i,o){o===0&&(o=At()),i=Vo(i,o),i!==null&&(De(i,o),kl(i))}function vj(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),Gy(i,f)}function bj(i,o){var f=0;switch(i.tag){case 31:case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(f=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Gy(i,f)}function yj(i,o){return ct(i,o)}var em=null,v0=null,Gg=!1,tm=!1,qg=!1,du=0;function kl(i){i!==v0&&i.next===null&&(v0===null?em=v0=i:v0=v0.next=i),tm=!0,Gg||(Gg=!0,Sj())}function Wd(i,o){if(!qg&&tm){qg=!0;do for(var f=!1,p=em;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var A=0;else{var G=p.suspendedLanes,fe=p.pingedLanes;A=(1<<31-Pt(42|i)+1)-1,A&=y&~(G&~fe),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,Yy(p,A))}else A=Jr,A=mr(p,p===Bn?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||Cn(p,A)||(f=!0,Yy(p,A));p=p.next}while(f);qg=!1}}function wj(){qy()}function qy(){tm=Gg=!1;var i=0;du!==0&&Lj()&&(i=du);for(var o=Ft(),f=null,p=em;p!==null;){var y=p.next,A=Wy(p,o);A===0?(p.next=null,f===null?em=y:f.next=y,y===null&&(v0=f)):(f=p,(i!==0||(A&3)!==0)&&(tm=!0)),p=y}Za!==0&&Za!==5||Wd(i),du!==0&&(du=0)}function Wy(i,o){for(var f=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,A=i.pendingLanes&-62914561;0<A;){var G=31-Pt(A),fe=1<<G,Ae=y[G];Ae===-1?((fe&f)===0||(fe&p)!==0)&&(y[G]=Xe(fe,o)):Ae<=o&&(i.expiredLanes|=fe),A&=~fe}if(o=Bn,f=Jr,f=mr(i,i===o?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,f===0||i===o&&(wn===2||wn===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&rt(p),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Cn(i,f)){if(o=f&-f,o===i.callbackPriority)return o;switch(p!==null&&rt(p),lr(f)){case 2:case 8:f=pt;break;case 32:f=vt;break;case 268435456:f=Bt;break;default:f=vt}return p=$y.bind(null,i),f=ct(f,p),i.callbackPriority=o,i.callbackNode=f,o}return p!==null&&p!==null&&rt(p),i.callbackPriority=2,i.callbackNode=null,2}function $y(i,o){if(Za!==0&&Za!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Q1()&&i.callbackNode!==f)return null;var p=Jr;return p=mr(i,i===Bn?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(jy(i,p,o),Wy(i,Ft()),i.callbackNode!=null&&i.callbackNode===f?$y.bind(null,i):null)}function Yy(i,o){if(Q1())return null;jy(i,o,!0)}function Sj(){Fj(function(){(vn&6)!==0?ct(Ct,wj):qy()})}function Wg(){if(du===0){var i=v;i===0&&(i=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),du=i}return du}function Xy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ki(""+i)}function Ky(i,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,i.id&&f.setAttribute("form",i.id),o.parentNode.insertBefore(f,o),i=new FormData(i),f.parentNode.removeChild(f),i}function Nj(i,o,f,p,y){if(o==="submit"&&f&&f.stateNode===y){var A=Xy((y[be]||null).action),G=p.submitter;G&&(o=(o=G[be]||null)?Xy(o.formAction):G.getAttribute("formAction"),o!==null&&(A=o,G=null));var fe=new ro("action","action",null,p,y);i.push({event:fe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(du!==0){var Ae=G?Ky(y,G):new FormData(y);dg(f,{pending:!0,data:Ae,method:y.method,action:A},null,Ae)}}else typeof A=="function"&&(fe.preventDefault(),Ae=G?Ky(y,G):new FormData(y),dg(f,{pending:!0,data:Ae,method:y.method,action:A},A,Ae))},currentTarget:y}]})}}for(var $g=0;$g<rc.length;$g++){var Yg=rc[$g],_j=Yg.toLowerCase(),Tj=Yg[0].toUpperCase()+Yg.slice(1);ms(_j,"on"+Tj)}ms(tc,"onAnimationEnd"),ms(Wu,"onAnimationIteration"),ms(wd,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(A1,"onTransitionRun"),ms(E1,"onTransitionStart"),ms(j1,"onTransitionCancel"),ms(Sd,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function Zy(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var p=i[f],y=p.event;p=p.listeners;e:{var A=void 0;if(o)for(var G=p.length-1;0<=G;G--){var fe=p[G],Ae=fe.instance,Ke=fe.currentTarget;if(fe=fe.listener,Ae!==A&&y.isPropagationStopped())break e;A=fe,y.currentTarget=Ke;try{A(y)}catch(lt){$u(lt)}y.currentTarget=null,A=Ae}else for(G=0;G<p.length;G++){if(fe=p[G],Ae=fe.instance,Ke=fe.currentTarget,fe=fe.listener,Ae!==A&&y.isPropagationStopped())break e;A=fe,y.currentTarget=Ke;try{A(y)}catch(lt){$u(lt)}y.currentTarget=null,A=Ae}}}}function Zr(i,o){var f=o[Ie];f===void 0&&(f=o[Ie]=new Set);var p=i+"__bubble";f.has(p)||(Jy(o,i,2,!1),f.add(p))}function Xg(i,o,f){var p=0;o&&(p|=4),Jy(f,i,p,o)}var rm="_reactListening"+Math.random().toString(36).slice(2);function Kg(i){if(!i[rm]){i[rm]=!0,rn.forEach(function(f){f!=="selectionchange"&&(Aj.has(f)||Xg(f,!1,i),Xg(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rm]||(o[rm]=!0,Xg("selectionchange",!1,o))}}function Jy(i,o,f,p){switch(Ew(o)){case 2:var y=eC;break;case 8:y=tC;break;default:y=fx}f=y.bind(null,o,f,i),y=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,f,{capture:!0,passive:y}):i.addEventListener(o,f,!0):y!==void 0?i.addEventListener(o,f,{passive:y}):i.addEventListener(o,f,!1)}function Zg(i,o,f,p,y){var A=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var G=p.tag;if(G===3||G===4){var fe=p.stateNode.containerInfo;if(fe===y)break;if(G===4)for(G=p.return;G!==null;){var Ae=G.tag;if((Ae===3||Ae===4)&&G.stateNode.containerInfo===y)return;G=G.return}for(;fe!==null;){if(G=Et(fe),G===null)return;if(Ae=G.tag,Ae===5||Ae===6||Ae===26||Ae===27){p=A=G;continue e}fe=fe.parentNode}}p=p.return}$r(function(){var Ke=A,lt=ko(f),gt=[];e:{var Je=Nd.get(i);if(Je!==void 0){var tt=ro,Zt=i;switch(i){case"keypress":if(Do(f)===0)break e;case"keydown":case"keyup":tt=ln;break;case"focusin":Zt="focus",tt=Oo;break;case"focusout":Zt="blur",tt=Oo;break;case"beforeblur":case"afterblur":tt=Oo;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Ea;break;case tc:case Wu:case wd:tt=j;break;case Sd:tt=Va;break;case"scroll":case"scrollend":tt=Hc;break;case"wheel":tt=Fi;break;case"copy":case"cut":case"paste":tt=Te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=oa;break;case"toggle":case"beforetoggle":tt=Vc}var wr=(o&4)!==0,On=!wr&&(i==="scroll"||i==="scrollend"),Me=wr?Je!==null?Je+"Capture":null:Je;wr=[];for(var ke=Ke,Ye;ke!==null;){var ht=ke;if(Ye=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||Ye===null||Me===null||(ht=zr(ke,Me),ht!=null&&wr.push(Yd(ke,ht,Ye))),On)break;ke=ke.return}0<wr.length&&(Je=new tt(Je,Zt,null,f,lt),gt.push({event:Je,listeners:wr}))}}if((o&7)===0){e:{if(Je=i==="mouseover"||i==="pointerover",tt=i==="mouseout"||i==="pointerout",Je&&f!==Ms&&(Zt=f.relatedTarget||f.fromElement)&&(Et(Zt)||Zt[Se]))break e;if((tt||Je)&&(Je=lt.window===lt?lt:(Je=lt.ownerDocument)?Je.defaultView||Je.parentWindow:window,tt?(Zt=f.relatedTarget||f.toElement,tt=Ke,Zt=Zt?Et(Zt):null,Zt!==null&&(On=s(Zt),wr=Zt.tag,Zt!==On||wr!==5&&wr!==27&&wr!==6)&&(Zt=null)):(tt=null,Zt=Ke),tt!==Zt)){if(wr=no,ht="onMouseLeave",Me="onMouseEnter",ke="mouse",(i==="pointerout"||i==="pointerover")&&(wr=oa,ht="onPointerLeave",Me="onPointerEnter",ke="pointer"),On=tt==null?Je:_t(tt),Ye=Zt==null?Je:_t(Zt),Je=new wr(ht,ke+"leave",tt,f,lt),Je.target=On,Je.relatedTarget=Ye,ht=null,Et(lt)===Ke&&(wr=new wr(Me,ke+"enter",Zt,f,lt),wr.target=Ye,wr.relatedTarget=On,ht=wr),On=ht,tt&&Zt)t:{for(wr=Ej,Me=tt,ke=Zt,Ye=0,ht=Me;ht;ht=wr(ht))Ye++;ht=0;for(var dr=ke;dr;dr=wr(dr))ht++;for(;0<Ye-ht;)Me=wr(Me),Ye--;for(;0<ht-Ye;)ke=wr(ke),ht--;for(;Ye--;){if(Me===ke||ke!==null&&Me===ke.alternate){wr=Me;break t}Me=wr(Me),ke=wr(ke)}wr=null}else wr=null;tt!==null&&Qy(gt,Je,tt,wr,!1),Zt!==null&&On!==null&&Qy(gt,On,Zt,wr,!0)}}e:{if(Je=Ke?_t(Ke):window,tt=Je.nodeName&&Je.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Je.type==="file")var hn=xl;else if(Gu(Je))if(Oi)hn=lo;else{hn=la;var ir=$c}else tt=Je.nodeName,!tt||tt.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ke&&Yl(Ke.elementType)&&(hn=xl):hn=Vf;if(hn&&(hn=hn(i,Ke))){Qi(gt,hn,f,lt);break e}ir&&ir(i,Je,Ke),i==="focusout"&&Ke&&Je.type==="number"&&Ke.memoizedProps.value!=null&&jo(Je,"number",Je.value)}switch(ir=Ke?_t(Ke):window,i){case"focusin":(Gu(ir)||ir.contentEditable==="true")&&(es=ir,Ho=Ke,ii=null);break;case"focusout":ii=Ho=es=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,cn(gt,f,lt);break;case"selectionchange":if(ec)break;case"keydown":case"keyup":cn(gt,f,lt)}var Ur;if(ao)e:{switch(i){case"compositionstart":var Qr="onCompositionStart";break e;case"compositionend":Qr="onCompositionEnd";break e;case"compositionupdate":Qr="onCompositionUpdate";break e}Qr=void 0}else io?gl(i,f)&&(Qr="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Qr="onCompositionStart");Qr&&(ml&&f.locale!=="ko"&&(io||Qr!=="onCompositionStart"?Qr==="onCompositionEnd"&&io&&(Ur=Mn()):(Zn=lt,ma="value"in Zn?Zn.value:Zn.textContent,io=!0)),ir=nm(Ke,Qr),0<ir.length&&(Qr=new Re(Qr,i,null,f,lt),gt.push({event:Qr,listeners:ir}),Ur?Qr.data=Ur:(Ur=Gc(f),Ur!==null&&(Qr.data=Ur)))),(Ur=Ql?Jn(i,f):Ro(i,f))&&(Qr=nm(Ke,"onBeforeInput"),0<Qr.length&&(ir=new Re("onBeforeInput","beforeinput",null,f,lt),gt.push({event:ir,listeners:Qr}),ir.data=Ur)),Nj(gt,i,Ke,f,lt)}Zy(gt,o)})}function Yd(i,o,f){return{instance:i,listener:o,currentTarget:f}}function nm(i,o){for(var f=o+"Capture",p=[];i!==null;){var y=i,A=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||A===null||(y=zr(i,f),y!=null&&p.unshift(Yd(i,y,A)),y=zr(i,o),y!=null&&p.push(Yd(i,y,A))),i.tag===3)return p;i=i.return}return[]}function Ej(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Qy(i,o,f,p,y){for(var A=o._reactName,G=[];f!==null&&f!==p;){var fe=f,Ae=fe.alternate,Ke=fe.stateNode;if(fe=fe.tag,Ae!==null&&Ae===p)break;fe!==5&&fe!==26&&fe!==27||Ke===null||(Ae=Ke,y?(Ke=zr(f,A),Ke!=null&&G.unshift(Yd(f,Ke,Ae))):y||(Ke=zr(f,A),Ke!=null&&G.push(Yd(f,Ke,Ae)))),f=f.return}G.length!==0&&i.push({event:o,listeners:G})}var jj=/\r\n?/g,Cj=/\u0000|\uFFFD/g;function ew(i){return(typeof i=="string"?i:""+i).replace(jj,`
`).replace(Cj,"")}function tw(i,o){return o=ew(o),ew(i)===o}function Fn(i,o,f,p,y,A){switch(f){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||xi(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&xi(i,""+p);break;case"className":Eo(i,"class",p);break;case"tabIndex":Eo(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(i,f,p);break;case"style":Pc(i,p,A);break;case"data":if(o!=="object"){Eo(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||f!=="href")){i.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=Ki(""+p),i.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(o!=="input"&&Fn(i,o,"name",y.name,y,null),Fn(i,o,"formEncType",y.formEncType,y,null),Fn(i,o,"formMethod",y.formMethod,y,null),Fn(i,o,"formTarget",y.formTarget,y,null)):(Fn(i,o,"encType",y.encType,y,null),Fn(i,o,"method",y.method,y,null),Fn(i,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=Ki(""+p),i.setAttribute(f,p);break;case"onClick":p!=null&&(i.onclick=Zi);break;case"onScroll":p!=null&&Zr("scroll",i);break;case"onScrollEnd":p!=null&&Zr("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}f=Ki(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""+p):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":p===!0?i.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,p):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(f,p):i.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(f):i.setAttribute(f,p);break;case"popover":Zr("beforetoggle",i),Zr("toggle",i),Kn(i,"popover",p);break;case"xlinkActuate":dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":dn(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":dn(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":dn(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":dn(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Kn(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Xl.get(f)||f,Kn(i,f,p))}}function Jg(i,o,f,p,y,A){switch(f){case"style":Pc(i,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"children":typeof p=="string"?xi(i,p):(typeof p=="number"||typeof p=="bigint")&&xi(i,""+p);break;case"onScroll":p!=null&&Zr("scroll",i);break;case"onScrollEnd":p!=null&&Zr("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),o=f.slice(2,y?f.length-7:void 0),A=i[be]||null,A=A!=null?A[f]:null,typeof A=="function"&&i.removeEventListener(o,A,y),typeof p=="function")){typeof A!="function"&&A!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(o,p,y);break e}f in i?i[f]=p:p===!0?i.setAttribute(f,""):Kn(i,f,p)}}}function Ni(i,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zr("error",i),Zr("load",i);var p=!1,y=!1,A;for(A in f)if(f.hasOwnProperty(A)){var G=f[A];if(G!=null)switch(A){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Fn(i,o,A,G,f,null)}}y&&Fn(i,o,"srcSet",f.srcSet,f,null),p&&Fn(i,o,"src",f.src,f,null);return;case"input":Zr("invalid",i);var fe=A=G=y=null,Ae=null,Ke=null;for(p in f)if(f.hasOwnProperty(p)){var lt=f[p];if(lt!=null)switch(p){case"name":y=lt;break;case"type":G=lt;break;case"checked":Ae=lt;break;case"defaultChecked":Ke=lt;break;case"value":A=lt;break;case"defaultValue":fe=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,o));break;default:Fn(i,o,p,lt,f,null)}}Mc(i,A,fe,Ae,Ke,G,y,!1);return;case"select":Zr("invalid",i),p=G=A=null;for(y in f)if(f.hasOwnProperty(y)&&(fe=f[y],fe!=null))switch(y){case"value":A=fe;break;case"defaultValue":G=fe;break;case"multiple":p=fe;default:Fn(i,o,y,fe,f,null)}o=A,f=G,i.multiple=!!p,o!=null?Ha(i,!!p,o,!1):f!=null&&Ha(i,!!p,f,!0);return;case"textarea":Zr("invalid",i),A=y=p=null;for(G in f)if(f.hasOwnProperty(G)&&(fe=f[G],fe!=null))switch(G){case"value":p=fe;break;case"defaultValue":y=fe;break;case"children":A=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(91));break;default:Fn(i,o,G,fe,f,null)}Wl(i,p,y,A);return;case"option":for(Ae in f)if(f.hasOwnProperty(Ae)&&(p=f[Ae],p!=null))switch(Ae){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Fn(i,o,Ae,p,f,null)}return;case"dialog":Zr("beforetoggle",i),Zr("toggle",i),Zr("cancel",i),Zr("close",i);break;case"iframe":case"object":Zr("load",i);break;case"video":case"audio":for(p=0;p<$d.length;p++)Zr($d[p],i);break;case"image":Zr("error",i),Zr("load",i);break;case"details":Zr("toggle",i);break;case"embed":case"source":case"link":Zr("error",i),Zr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in f)if(f.hasOwnProperty(Ke)&&(p=f[Ke],p!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Fn(i,o,Ke,p,f,null)}return;default:if(Yl(o)){for(lt in f)f.hasOwnProperty(lt)&&(p=f[lt],p!==void 0&&Jg(i,o,lt,p,f,void 0));return}}for(fe in f)f.hasOwnProperty(fe)&&(p=f[fe],p!=null&&Fn(i,o,fe,p,f,null))}function kj(i,o,f,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,A=null,G=null,fe=null,Ae=null,Ke=null,lt=null;for(tt in f){var gt=f[tt];if(f.hasOwnProperty(tt)&&gt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Ae=gt;default:p.hasOwnProperty(tt)||Fn(i,o,tt,null,p,gt)}}for(var Je in p){var tt=p[Je];if(gt=f[Je],p.hasOwnProperty(Je)&&(tt!=null||gt!=null))switch(Je){case"type":A=tt;break;case"name":y=tt;break;case"checked":Ke=tt;break;case"defaultChecked":lt=tt;break;case"value":G=tt;break;case"defaultValue":fe=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,o));break;default:tt!==gt&&Fn(i,o,Je,tt,p,gt)}}Xi(i,G,fe,Ae,Ke,lt,A,y);return;case"select":tt=G=fe=Je=null;for(A in f)if(Ae=f[A],f.hasOwnProperty(A)&&Ae!=null)switch(A){case"value":break;case"multiple":tt=Ae;default:p.hasOwnProperty(A)||Fn(i,o,A,null,p,Ae)}for(y in p)if(A=p[y],Ae=f[y],p.hasOwnProperty(y)&&(A!=null||Ae!=null))switch(y){case"value":Je=A;break;case"defaultValue":fe=A;break;case"multiple":G=A;default:A!==Ae&&Fn(i,o,y,A,p,Ae)}o=fe,f=G,p=tt,Je!=null?Ha(i,!!f,Je,!1):!!p!=!!f&&(o!=null?Ha(i,!!f,o,!0):Ha(i,!!f,f?[]:"",!1));return;case"textarea":tt=Je=null;for(fe in f)if(y=f[fe],f.hasOwnProperty(fe)&&y!=null&&!p.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Fn(i,o,fe,null,p,y)}for(G in p)if(y=p[G],A=f[G],p.hasOwnProperty(G)&&(y!=null||A!=null))switch(G){case"value":Je=y;break;case"defaultValue":tt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==A&&Fn(i,o,G,y,p,A)}ql(i,Je,tt);return;case"option":for(var Zt in f)if(Je=f[Zt],f.hasOwnProperty(Zt)&&Je!=null&&!p.hasOwnProperty(Zt))switch(Zt){case"selected":i.selected=!1;break;default:Fn(i,o,Zt,null,p,Je)}for(Ae in p)if(Je=p[Ae],tt=f[Ae],p.hasOwnProperty(Ae)&&Je!==tt&&(Je!=null||tt!=null))switch(Ae){case"selected":i.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Fn(i,o,Ae,Je,p,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wr in f)Je=f[wr],f.hasOwnProperty(wr)&&Je!=null&&!p.hasOwnProperty(wr)&&Fn(i,o,wr,null,p,Je);for(Ke in p)if(Je=p[Ke],tt=f[Ke],p.hasOwnProperty(Ke)&&Je!==tt&&(Je!=null||tt!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,o));break;default:Fn(i,o,Ke,Je,p,tt)}return;default:if(Yl(o)){for(var On in f)Je=f[On],f.hasOwnProperty(On)&&Je!==void 0&&!p.hasOwnProperty(On)&&Jg(i,o,On,void 0,p,Je);for(lt in p)Je=p[lt],tt=f[lt],!p.hasOwnProperty(lt)||Je===tt||Je===void 0&&tt===void 0||Jg(i,o,lt,Je,p,tt);return}}for(var Me in f)Je=f[Me],f.hasOwnProperty(Me)&&Je!=null&&!p.hasOwnProperty(Me)&&Fn(i,o,Me,null,p,Je);for(gt in p)Je=p[gt],tt=f[gt],!p.hasOwnProperty(gt)||Je===tt||Je==null&&tt==null||Fn(i,o,gt,Je,p,tt)}function rw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dj(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var y=f[p],A=y.transferSize,G=y.initiatorType,fe=y.duration;if(A&&fe&&rw(G)){for(G=0,fe=y.responseEnd,p+=1;p<f.length;p++){var Ae=f[p],Ke=Ae.startTime;if(Ke>fe)break;var lt=Ae.transferSize,gt=Ae.initiatorType;lt&&rw(gt)&&(Ae=Ae.responseEnd,G+=lt*(Ae<fe?1:(fe-Ke)/(Ae-Ke)))}if(--p,o+=8*(A+G)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qg=null,ex=null;function am(i){return i.nodeType===9?i:i.ownerDocument}function nw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function tx(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rx=null;function Lj(){var i=window.event;return i&&i.type==="popstate"?i===rx?!1:(rx=i,!0):(rx=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,zj=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,Fj=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(i){return sw.resolve(null).then(i).catch(Oj)}:iw;function Oj(i){setTimeout(function(){throw i})}function hu(i){return i==="head"}function ow(i,o){var f=o,p=0;do{var y=f.nextSibling;if(i.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(p===0){i.removeChild(y),S0(o);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Xd(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,Xd(f);for(var A=f.firstChild;A;){var G=A.nextSibling,fe=A.nodeName;A[We]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&A.rel.toLowerCase()==="stylesheet"||f.removeChild(A),A=G}}else f==="body"&&Xd(i.ownerDocument.body);f=y}while(f);S0(o)}function lw(i,o){var f=i;i=0;do{var p=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=p}while(f)}function nx(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":nx(f),St(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function Rj(i,o,f,p){for(;i.nodeType===1;){var y=f;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[We])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(A=i.getAttribute("rel"),A==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(A!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(A=i.getAttribute("src"),(A!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&A&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var A=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===A)return i}else return i;if(i=go(i.nextSibling),i===null)break}return null}function Mj(i,o,f){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=go(i.nextSibling),i===null))return null;return i}function cw(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=go(i.nextSibling),i===null))return null;return i}function ax(i){return i.data==="$?"||i.data==="$~"}function ix(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Ij(i,o){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||f.readyState!=="loading")o();else{var p=function(){o(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function go(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var sx=null;function uw(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(o===0)return go(i.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}i=i.nextSibling}return null}function fw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return i;o--}else f!=="/$"&&f!=="/&"||o++}i=i.previousSibling}return null}function dw(i,o,f){switch(o=am(f),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Xd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);St(i)}var xo=new Map,hw=new Set;function im(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vc=ie.d;ie.d={f:Pj,r:Bj,D:Uj,C:Hj,L:Vj,m:Gj,X:Wj,S:qj,M:$j};function Pj(){var i=vc.f(),o=K1();return i||o}function Bj(i){var o=It(i);o!==null&&o.tag===5&&o.type==="form"?kb(o):vc.r(i)}var b0=typeof document>"u"?null:document;function mw(i,o,f){var p=b0;if(p&&typeof o=="string"&&o){var y=vr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),hw.has(y)||(hw.add(y),i={rel:i,crossOrigin:f,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),Ni(o,"link",i),Gt(o),p.head.appendChild(o)))}}function Uj(i){vc.D(i),mw("dns-prefetch",i,null)}function Hj(i,o){vc.C(i,o),mw("preconnect",i,o)}function Vj(i,o,f){vc.L(i,o,f);var p=b0;if(p&&i&&o){var y='link[rel="preload"][as="'+vr(o)+'"]';o==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+vr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+vr(f.imageSizes)+'"]')):y+='[href="'+vr(i)+'"]';var A=y;switch(o){case"style":A=y0(i);break;case"script":A=w0(i)}xo.has(A)||(i=x({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:i,as:o},f),xo.set(A,i),p.querySelector(y)!==null||o==="style"&&p.querySelector(Kd(A))||o==="script"&&p.querySelector(Zd(A))||(o=p.createElement("link"),Ni(o,"link",i),Gt(o),p.head.appendChild(o)))}}function Gj(i,o){vc.m(i,o);var f=b0;if(f&&i){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+vr(p)+'"][href="'+vr(i)+'"]',A=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=w0(i)}if(!xo.has(A)&&(i=x({rel:"modulepreload",href:i},o),xo.set(A,i),f.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Zd(A)))return}p=f.createElement("link"),Ni(p,"link",i),Gt(p),f.head.appendChild(p)}}}function qj(i,o,f){vc.S(i,o,f);var p=b0;if(p&&i){var y=zt(p).hoistableStyles,A=y0(i);o=o||"default";var G=y.get(A);if(!G){var fe={loading:0,preload:null};if(G=p.querySelector(Kd(A)))fe.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":o},f),(f=xo.get(A))&&ox(i,f);var Ae=G=p.createElement("link");Gt(Ae),Ni(Ae,"link",i),Ae._p=new Promise(function(Ke,lt){Ae.onload=Ke,Ae.onerror=lt}),Ae.addEventListener("load",function(){fe.loading|=1}),Ae.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,sm(G,o,p)}G={type:"stylesheet",instance:G,count:1,state:fe},y.set(A,G)}}}function Wj(i,o){vc.X(i,o);var f=b0;if(f&&i){var p=zt(f).hoistableScripts,y=w0(i),A=p.get(y);A||(A=f.querySelector(Zd(y)),A||(i=x({src:i,async:!0},o),(o=xo.get(y))&&lx(i,o),A=f.createElement("script"),Gt(A),Ni(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(y,A))}}function $j(i,o){vc.M(i,o);var f=b0;if(f&&i){var p=zt(f).hoistableScripts,y=w0(i),A=p.get(y);A||(A=f.querySelector(Zd(y)),A||(i=x({src:i,async:!0,type:"module"},o),(o=xo.get(y))&&lx(i,o),A=f.createElement("script"),Gt(A),Ni(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(y,A))}}function pw(i,o,f,p){var y=(y=q.current)?im(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=y0(f.href),f=zt(y).hoistableStyles,p=f.get(o),p||(p={type:"style",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=y0(f.href);var A=zt(y).hoistableStyles,G=A.get(i);if(G||(y=y.ownerDocument||y,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(i,G),(A=y.querySelector(Kd(i)))&&!A._p&&(G.instance=A,G.state.loading=5),xo.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xo.set(i,f),A||Yj(y,i,f,G.state))),o&&p===null)throw Error(n(528,""));return G}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=w0(f),f=zt(y).hoistableScripts,p=f.get(o),p||(p={type:"script",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function y0(i){return'href="'+vr(i)+'"'}function Kd(i){return'link[rel="stylesheet"]['+i+"]"}function gw(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function Yj(i,o,f,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Ni(o,"link",f),Gt(o),i.head.appendChild(o))}function w0(i){return'[src="'+vr(i)+'"]'}function Zd(i){return"script[async]"+i}function xw(i,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+vr(f.href)+'"]');if(p)return o.instance=p,Gt(p),p;var y=x({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Gt(p),Ni(p,"style",y),sm(p,f.precedence,i),o.instance=p;case"stylesheet":y=y0(f.href);var A=i.querySelector(Kd(y));if(A)return o.state.loading|=4,o.instance=A,Gt(A),A;p=gw(f),(y=xo.get(y))&&ox(p,y),A=(i.ownerDocument||i).createElement("link"),Gt(A);var G=A;return G._p=new Promise(function(fe,Ae){G.onload=fe,G.onerror=Ae}),Ni(A,"link",p),o.state.loading|=4,sm(A,f.precedence,i),o.instance=A;case"script":return A=w0(f.src),(y=i.querySelector(Zd(A)))?(o.instance=y,Gt(y),y):(p=f,(y=xo.get(A))&&(p=x({},f),lx(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),Gt(y),Ni(y,"link",p),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,sm(p,f.precedence,i));return o.instance}function sm(i,o,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,A=y,G=0;G<p.length;G++){var fe=p[G];if(fe.dataset.precedence===o)A=fe;else if(A!==y)break}A?A.parentNode.insertBefore(i,A.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(i,o.firstChild))}function ox(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function lx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var om=null;function vw(i,o,f){if(om===null){var p=new Map,y=om=new Map;y.set(f,p)}else y=om,p=y.get(f),p||(p=new Map,y.set(f,p));if(p.has(i))return p;for(p.set(i,null),f=f.getElementsByTagName(i),y=0;y<f.length;y++){var A=f[y];if(!(A[We]||A[xe]||i==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var G=A.getAttribute(o)||"";G=i+G;var fe=p.get(G);fe?fe.push(A):p.set(G,[A])}}return p}function bw(i,o,f){i=i.ownerDocument||i,i.head.insertBefore(f,o==="title"?i.querySelector("head > title"):null)}function Xj(i,o,f){if(f===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function yw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Kj(i,o,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=y0(p.href),A=o.querySelector(Kd(y));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=lm.bind(i),o.then(i,i)),f.state.loading|=4,f.instance=A,Gt(A);return}A=o.ownerDocument||o,p=gw(p),(y=xo.get(y))&&ox(p,y),A=A.createElement("link"),Gt(A);var G=A;G._p=new Promise(function(fe,Ae){G.onload=fe,G.onerror=Ae}),Ni(A,"link",p),f.instance=A}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=lm.bind(i),o.addEventListener("load",f),o.addEventListener("error",f))}}var cx=0;function Zj(i,o){return i.stylesheets&&i.count===0&&um(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var p=setTimeout(function(){if(i.stylesheets&&um(i,i.stylesheets),i.unsuspend){var A=i.unsuspend;i.unsuspend=null,A()}},6e4+o);0<i.imgBytes&&cx===0&&(cx=62500*Dj());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&um(i,i.stylesheets),i.unsuspend)){var A=i.unsuspend;i.unsuspend=null,A()}},(i.imgBytes>cx?50:800)+o);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cm=null;function um(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cm=new Map,o.forEach(Jj,i),cm=null,lm.call(i))}function Jj(i,o){if(!(o.state.loading&4)){var f=cm.get(i);if(f)var p=f.get(null);else{f=new Map,cm.set(i,f);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<y.length;A++){var G=y[A];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(f.set(G.dataset.precedence,G),p=G)}p&&f.set(null,p)}y=o.instance,G=y.getAttribute("data-precedence"),A=f.get(G)||p,A===p&&f.set(null,y),f.set(G,y),this.count++,p=lm.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),A?A.parentNode.insertBefore(y,A.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Jd={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Qj(i,o,f,p,y,A,G,fe,Ae){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=A,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function ww(i,o,f,p,y,A,G,fe,Ae,Ke,lt,gt){return i=new Qj(i,o,f,G,Ae,Ke,lt,gt,fe),o=1,A===!0&&(o|=24),A=oi(3,null,null,o),i.current=A,A.stateNode=i,o=tu(),o.refCount++,i.pooledCache=o,o.refCount++,A.memoizedState={element:p,isDehydrated:f,cache:o},Mt(A),i}function Sw(i){return i?(i=Wa,i):Wa}function Nw(i,o,f,p,y,A){y=Sw(y),p.context===null?p.context=y:p.pendingContext=y,p=br(o),p.payload={element:f},A=A===void 0?null:A,A!==null&&(p.callback=A),f=Ir(i,p,o),f!==null&&(Es(f,i,o),gn(f,i,o))}function _w(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function ux(i,o){_w(i,o),(i=i.alternate)&&_w(i,o)}function Tw(i){if(i.tag===13||i.tag===31){var o=Vo(i,67108864);o!==null&&Es(o,i,67108864),ux(i,67108864)}}function Aw(i){if(i.tag===13||i.tag===31){var o=qs();o=Tr(o);var f=Vo(i,o);f!==null&&Es(f,i,o),ux(i,o)}}var fm=!0;function eC(i,o,f,p){var y=Z.T;Z.T=null;var A=ie.p;try{ie.p=2,fx(i,o,f,p)}finally{ie.p=A,Z.T=y}}function tC(i,o,f,p){var y=Z.T;Z.T=null;var A=ie.p;try{ie.p=8,fx(i,o,f,p)}finally{ie.p=A,Z.T=y}}function fx(i,o,f,p){if(fm){var y=dx(p);if(y===null)Zg(i,o,p,dm,f),jw(i,p);else if(nC(y,i,o,f,p))p.stopPropagation();else if(jw(i,p),o&4&&-1<rC.indexOf(i)){for(;y!==null;){var A=It(y);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var G=Vt(A.pendingLanes);if(G!==0){var fe=A;for(fe.pendingLanes|=2,fe.entangledLanes|=2;G;){var Ae=1<<31-Pt(G);fe.entanglements[1]|=Ae,G&=~Ae}kl(A),(vn&6)===0&&(Y1=Ft()+500,Wd(0))}}break;case 31:case 13:fe=Vo(A,2),fe!==null&&Es(fe,A,2),K1(),ux(A,2)}if(A=dx(p),A===null&&Zg(i,o,p,dm,f),A===y)break;y=A}y!==null&&p.stopPropagation()}else Zg(i,o,p,null,f)}}function dx(i){return i=ko(i),hx(i)}var dm=null;function hx(i){if(dm=null,i=Et(i),i!==null){var o=s(i);if(o===null)i=null;else{var f=o.tag;if(f===13){if(i=c(o),i!==null)return i;i=null}else if(f===31){if(i=u(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return dm=i,null}function Ew(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Ct:return 2;case pt:return 8;case vt:case ut:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var mx=!1,mu=null,pu=null,gu=null,Qd=new Map,eh=new Map,xu=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jw(i,o){switch(i){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":Qd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(o.pointerId)}}function th(i,o,f,p,y,A){return i===null||i.nativeEvent!==A?(i={blockedOn:o,domEventName:f,eventSystemFlags:p,nativeEvent:A,targetContainers:[y]},o!==null&&(o=It(o),o!==null&&Tw(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function nC(i,o,f,p,y){switch(o){case"focusin":return mu=th(mu,i,o,f,p,y),!0;case"dragenter":return pu=th(pu,i,o,f,p,y),!0;case"mouseover":return gu=th(gu,i,o,f,p,y),!0;case"pointerover":var A=y.pointerId;return Qd.set(A,th(Qd.get(A)||null,i,o,f,p,y)),!0;case"gotpointercapture":return A=y.pointerId,eh.set(A,th(eh.get(A)||null,i,o,f,p,y)),!0}return!1}function Cw(i){var o=Et(i.target);if(o!==null){var f=s(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){i.blockedOn=o,we(i.priority,function(){Aw(f)});return}}else if(o===31){if(o=u(f),o!==null){i.blockedOn=o,we(i.priority,function(){Aw(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=dx(i.nativeEvent);if(f===null){f=i.nativeEvent;var p=new f.constructor(f.type,f);Ms=p,f.target.dispatchEvent(p),Ms=null}else return o=It(f),o!==null&&Tw(o),i.blockedOn=f,!1;o.shift()}return!0}function kw(i,o,f){hm(i)&&f.delete(o)}function aC(){mx=!1,mu!==null&&hm(mu)&&(mu=null),pu!==null&&hm(pu)&&(pu=null),gu!==null&&hm(gu)&&(gu=null),Qd.forEach(kw),eh.forEach(kw)}function mm(i,o){i.blockedOn===o&&(i.blockedOn=null,mx||(mx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aC)))}var pm=null;function Dw(i){pm!==i&&(pm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pm===i&&(pm=null);for(var o=0;o<i.length;o+=3){var f=i[o],p=i[o+1],y=i[o+2];if(typeof p!="function"){if(hx(p||f)===null)continue;break}var A=It(f);A!==null&&(i.splice(o,3),o-=3,dg(A,{pending:!0,data:y,method:f.method,action:p},p,y))}}))}function S0(i){function o(Ae){return mm(Ae,i)}mu!==null&&mm(mu,i),pu!==null&&mm(pu,i),gu!==null&&mm(gu,i),Qd.forEach(o),eh.forEach(o);for(var f=0;f<xu.length;f++){var p=xu[f];p.blockedOn===i&&(p.blockedOn=null)}for(;0<xu.length&&(f=xu[0],f.blockedOn===null);)Cw(f),f.blockedOn===null&&xu.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var y=f[p],A=f[p+1],G=y[be]||null;if(typeof A=="function")G||Dw(f);else if(G){var fe=null;if(A&&A.hasAttribute("formAction")){if(y=A,G=A[be]||null)fe=G.formAction;else if(hx(y)!==null)continue}else fe=G.action;typeof fe=="function"?f[p+1]=fe:(f.splice(p,3),p-=3),Dw(f)}}}function Lw(){function i(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(G){return y=G})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function px(i){this._internalRoot=i}gm.prototype.render=px.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var f=o.current,p=qs();Nw(f,p,i,o,null,null)},gm.prototype.unmount=px.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Nw(i.current,2,null,i,null,null),K1(),o[Se]=null}};function gm(i){this._internalRoot=i}gm.prototype.unstable_scheduleHydration=function(i){if(i){var o=ne();i={blockedOn:null,target:i,priority:o};for(var f=0;f<xu.length&&o!==0&&o<xu[f].priority;f++);xu.splice(f,0,i),f===0&&Cw(i)}};var zw=t.version;if(zw!=="19.2.0")throw Error(n(527,zw,"19.2.0"));ie.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var iC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{Fe=xm.inject(iC),ot=xm}catch{}}return nh.createRoot=function(i,o){if(!a(i))throw Error(n(299));var f=!1,p="",y=Bb,A=Ub,G=Hb;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(G=o.onRecoverableError)),o=ww(i,1,!1,null,null,f,p,null,y,A,G,Lw),i[Se]=o.current,Kg(i),new px(o)},nh.hydrateRoot=function(i,o,f){if(!a(i))throw Error(n(299));var p=!1,y="",A=Bb,G=Ub,fe=Hb,Ae=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(G=f.onCaughtError),f.onRecoverableError!==void 0&&(fe=f.onRecoverableError),f.formState!==void 0&&(Ae=f.formState)),o=ww(i,1,!0,o,f??null,p,y,Ae,A,G,fe,Lw),o.context=Sw(null),f=o.current,p=qs(),p=Tr(p),y=br(p),y.callback=null,Ir(f,y,p),f=p,o.current.lanes=f,De(o,f),kl(o),i[Se]=o.current,Kg(i),new gm(o)},nh.version="19.2.0",nh}var Vw;function xC(){if(Vw)return vx.exports;Vw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vx.exports=gC(),vx.exports}var vC=xC();const bC=Hv(vC),Gv=W.createContext({});function qv(e){const t=W.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wv=typeof window<"u",s6=Wv?W.useLayoutEffect:W.useEffect,Pp=W.createContext(null);function $v(e,t){e.indexOf(t)===-1&&e.push(t)}function Yv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Cc=(e,t,r)=>r>t?t:r<e?e:r;let Xv=()=>{};const kc={},o6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function l6(e){return typeof e=="object"&&e!==null}const c6=e=>/^0[^.\s]+$/u.test(e);function Kv(e){let t;return()=>(t===void 0&&(t=e()),t)}const So=e=>e,yC=(e,t)=>r=>t(e(r)),s1=(...e)=>e.reduce(yC),Dh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Zv{constructor(){this.subscriptions=[]}add(t){return $v(this.subscriptions,t),()=>Yv(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const c=this.subscriptions[s];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Il=e=>e*1e3,wo=e=>e/1e3;function u6(e,t){return t?e*(1e3/t):0}const f6=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,wC=1e-7,SC=12;function NC(e,t,r,n,a){let s,c,u=0;do c=t+(r-t)/2,s=f6(c,n,a)-e,s>0?r=c:t=c;while(Math.abs(s)>wC&&++u<SC);return c}function o1(e,t,r,n){if(e===t&&r===n)return So;const a=s=>NC(s,0,1,e,r);return s=>s===0||s===1?s:f6(a(s),t,n)}const d6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,h6=e=>t=>1-e(1-t),m6=o1(.33,1.53,.69,.99),Jv=h6(m6),p6=d6(Jv),g6=e=>(e*=2)<1?.5*Jv(e):.5*(2-Math.pow(2,-10*(e-1))),Qv=e=>1-Math.sin(Math.acos(e)),x6=h6(Qv),v6=d6(Qv),_C=o1(.42,0,1,1),TC=o1(0,0,.58,1),b6=o1(.42,0,.58,1),AC=e=>Array.isArray(e)&&typeof e[0]!="number",y6=e=>Array.isArray(e)&&typeof e[0]=="number",EC={linear:So,easeIn:_C,easeInOut:b6,easeOut:TC,circIn:Qv,circInOut:v6,circOut:x6,backIn:Jv,backInOut:p6,backOut:m6,anticipate:g6},jC=e=>typeof e=="string",Gw=e=>{if(y6(e)){Xv(e.length===4);const[t,r,n,a]=e;return o1(t,r,n,a)}else if(jC(e))return EC[e];return e},vm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CC(e,t){let r=new Set,n=new Set,a=!1,s=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){c.has(m)&&(h.schedule(m),e()),m(u)}const h={schedule:(m,x=!1,b=!1)=>{const T=b&&a?r:n;return x&&c.add(m),T.has(m)||T.add(m),m},cancel:m=>{n.delete(m),c.delete(m)},process:m=>{if(u=m,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,s&&(s=!1,h.process(m))}};return h}const kC=40;function w6(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,c=vm.reduce((C,L)=>(C[L]=CC(s),C),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:m,update:x,preRender:b,render:g,postRender:T}=c,w=()=>{const C=kc.useManualTiming?a.timestamp:performance.now();r=!1,kc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(C-a.timestamp,kC),1)),a.timestamp=C,a.isProcessing=!0,u.process(a),d.process(a),h.process(a),m.process(a),x.process(a),b.process(a),g.process(a),T.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(w))},_=()=>{r=!0,n=!0,a.isProcessing||e(w)};return{schedule:vm.reduce((C,L)=>{const X=c[L];return C[L]=(I,U=!1,K=!1)=>(r||_(),X.schedule(I,U,K)),C},{}),cancel:C=>{for(let L=0;L<vm.length;L++)c[vm[L]].cancel(C)},state:a,steps:c}}const{schedule:aa,cancel:Cu,state:Ti,steps:Sx}=w6(typeof requestAnimationFrame<"u"?requestAnimationFrame:So,!0);let Gm;function DC(){Gm=void 0}const js={now:()=>(Gm===void 0&&js.set(Ti.isProcessing||kc.useManualTiming?Ti.timestamp:performance.now()),Gm),set:e=>{Gm=e,queueMicrotask(DC)}},S6=e=>t=>typeof t=="string"&&t.startsWith(e),N6=S6("--"),LC=S6("var(--"),e5=e=>LC(e)?zC.test(e.split("/*")[0].trim()):!1,zC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Lh={...fd,transform:e=>Cc(0,1,e)},bm={...fd,default:1},xh=e=>Math.round(e*1e5)/1e5,t5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FC(e){return e==null}const OC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r5=(e,t)=>r=>!!(typeof r=="string"&&OC.test(r)&&r.startsWith(e)||t&&!FC(r)&&Object.prototype.hasOwnProperty.call(r,t)),_6=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,c,u]=n.match(t5);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},RC=e=>Cc(0,255,e),Nx={...fd,transform:e=>Math.round(RC(e))},gf={test:r5("rgb","red"),parse:_6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Nx.transform(e)+", "+Nx.transform(t)+", "+Nx.transform(r)+", "+xh(Lh.transform(n))+")"};function MC(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const G2={test:r5("#"),parse:MC,transform:gf.transform},l1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Su=l1("deg"),Pl=l1("%"),Ar=l1("px"),IC=l1("vh"),PC=l1("vw"),qw={...Pl,parse:e=>Pl.parse(e)/100,transform:e=>Pl.transform(e*100)},O0={test:r5("hsl","hue"),parse:_6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pl.transform(xh(t))+", "+Pl.transform(xh(r))+", "+xh(Lh.transform(n))+")"},Pa={test:e=>gf.test(e)||G2.test(e)||O0.test(e),parse:e=>gf.test(e)?gf.parse(e):O0.test(e)?O0.parse(e):G2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?gf.transform(e):O0.transform(e),getAnimatableNone:e=>{const t=Pa.parse(e);return t.alpha=0,Pa.transform(t)}},BC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UC(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(t5))==null?void 0:t.length)||0)+(((r=e.match(BC))==null?void 0:r.length)||0)>0}const T6="number",A6="color",HC="var",VC="var(",Ww="${}",GC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const u=t.replace(GC,d=>(Pa.test(d)?(n.color.push(s),a.push(A6),r.push(Pa.parse(d))):d.startsWith(VC)?(n.var.push(s),a.push(HC),r.push(d)):(n.number.push(s),a.push(T6),r.push(parseFloat(d))),++s,Ww)).split(Ww);return{values:r,split:u,indexes:n,types:a}}function E6(e){return zh(e).values}function j6(e){const{split:t,types:r}=zh(e),n=t.length;return a=>{let s="";for(let c=0;c<n;c++)if(s+=t[c],a[c]!==void 0){const u=r[c];u===T6?s+=xh(a[c]):u===A6?s+=Pa.transform(a[c]):s+=a[c]}return s}}const qC=e=>typeof e=="number"?0:Pa.test(e)?Pa.getAnimatableNone(e):e;function WC(e){const t=E6(e);return j6(e)(t.map(qC))}const ku={test:UC,parse:E6,createTransformer:j6,getAnimatableNone:WC};function _x(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function $C({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,c=0;if(!t)a=s=c=r;else{const u=r<.5?r*(1+t):r+t-r*t,d=2*r-u;a=_x(d,u,e+1/3),s=_x(d,u,e),c=_x(d,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(c*255),alpha:n}}function tp(e,t){return r=>r>0?t:e}const ha=(e,t,r)=>e+(t-e)*r,Tx=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},YC=[G2,gf,O0],XC=e=>YC.find(t=>t.test(e));function $w(e){const t=XC(e);if(!t)return!1;let r=t.parse(e);return t===O0&&(r=$C(r)),r}const Yw=(e,t)=>{const r=$w(e),n=$w(t);if(!r||!n)return tp(e,t);const a={...r};return s=>(a.red=Tx(r.red,n.red,s),a.green=Tx(r.green,n.green,s),a.blue=Tx(r.blue,n.blue,s),a.alpha=ha(r.alpha,n.alpha,s),gf.transform(a))},q2=new Set(["none","hidden"]);function KC(e,t){return q2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ZC(e,t){return r=>ha(e,t,r)}function n5(e){return typeof e=="number"?ZC:typeof e=="string"?e5(e)?tp:Pa.test(e)?Yw:e7:Array.isArray(e)?C6:typeof e=="object"?Pa.test(e)?Yw:JC:tp}function C6(e,t){const r=[...e],n=r.length,a=e.map((s,c)=>n5(s)(s,t[c]));return s=>{for(let c=0;c<n;c++)r[c]=a[c](s);return r}}function JC(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=n5(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function QC(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],c=e.indexes[s][n[s]],u=e.values[c]??0;r[a]=u,n[s]++}return r}const e7=(e,t)=>{const r=ku.createTransformer(t),n=zh(e),a=zh(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?q2.has(e)&&!a.values.length||q2.has(t)&&!n.values.length?KC(e,t):s1(C6(QC(n,a),a.values),r):tp(e,t)};function k6(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ha(e,t,r):n5(e)(e,t)}const t7=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>aa.update(t,r),stop:()=>Cu(t),now:()=>Ti.isProcessing?Ti.timestamp:js.now()}},D6=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},rp=2e4;function a5(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<rp;)t+=r,n=e.next(t);return t>=rp?1/0:t}function r7(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(a5(n),rp);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:wo(a)}}const n7=5;function L6(e,t,r){const n=Math.max(t-n7,0);return u6(r-e(n),t-n)}const Na={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ax=.001;function a7({duration:e=Na.duration,bounce:t=Na.bounce,velocity:r=Na.velocity,mass:n=Na.mass}){let a,s,c=1-t;c=Cc(Na.minDamping,Na.maxDamping,c),e=Cc(Na.minDuration,Na.maxDuration,wo(e)),c<1?(a=h=>{const m=h*c,x=m*e,b=m-r,g=W2(h,c),T=Math.exp(-x);return Ax-b/g*T},s=h=>{const x=h*c*e,b=x*r+r,g=Math.pow(c,2)*Math.pow(h,2)*e,T=Math.exp(-x),w=W2(Math.pow(h,2),c);return(-a(h)+Ax>0?-1:1)*((b-g)*T)/w}):(a=h=>{const m=Math.exp(-h*e),x=(h-r)*e+1;return-Ax+m*x},s=h=>{const m=Math.exp(-h*e),x=(r-h)*(e*e);return m*x});const u=5/e,d=s7(a,s,u);if(e=Il(e),isNaN(d))return{stiffness:Na.stiffness,damping:Na.damping,duration:e};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const i7=12;function s7(e,t,r){let n=r;for(let a=1;a<i7;a++)n=n-e(n)/t(n);return n}function W2(e,t){return e*Math.sqrt(1-t*t)}const o7=["duration","bounce"],l7=["stiffness","damping","mass"];function Xw(e,t){return t.some(r=>e[r]!==void 0)}function c7(e){let t={velocity:Na.velocity,stiffness:Na.stiffness,damping:Na.damping,mass:Na.mass,isResolvedFromDuration:!1,...e};if(!Xw(e,l7)&&Xw(e,o7))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Cc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Na.mass,stiffness:a,damping:s}}else{const r=a7(e);t={...t,...r,mass:Na.mass},t.isResolvedFromDuration=!0}return t}function np(e=Na.visualDuration,t=Na.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:h,mass:m,duration:x,velocity:b,isResolvedFromDuration:g}=c7({...r,velocity:-wo(r.velocity||0)}),T=b||0,w=h/(2*Math.sqrt(d*m)),_=c-s,E=wo(Math.sqrt(d/m)),F=Math.abs(_)<5;n||(n=F?Na.restSpeed.granular:Na.restSpeed.default),a||(a=F?Na.restDelta.granular:Na.restDelta.default);let C;if(w<1){const X=W2(E,w);C=I=>{const U=Math.exp(-w*E*I);return c-U*((T+w*E*_)/X*Math.sin(X*I)+_*Math.cos(X*I))}}else if(w===1)C=X=>c-Math.exp(-E*X)*(_+(T+E*_)*X);else{const X=E*Math.sqrt(w*w-1);C=I=>{const U=Math.exp(-w*E*I),K=Math.min(X*I,300);return c-U*((T+w*E*_)*Math.sinh(K)+X*_*Math.cosh(K))/X}}const L={calculatedDuration:g&&x||null,next:X=>{const I=C(X);if(g)u.done=X>=x;else{let U=X===0?T:0;w<1&&(U=X===0?Il(T):L6(C,X,I));const K=Math.abs(U)<=n,H=Math.abs(c-I)<=a;u.done=K&&H}return u.value=u.done?c:I,u},toString:()=>{const X=Math.min(a5(L),rp),I=D6(U=>L.next(X*U).value,X,30);return X+"ms "+I},toTransition:()=>{}};return L}np.applyToOptions=e=>{const t=r7(e,100,np);return e.ease=t.ease,e.duration=Il(t.duration),e.type="keyframes",e};function $2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:c,min:u,max:d,restDelta:h=.5,restSpeed:m}){const x=e[0],b={done:!1,value:x},g=K=>u!==void 0&&K<u||d!==void 0&&K>d,T=K=>u===void 0?d:d===void 0||Math.abs(u-K)<Math.abs(d-K)?u:d;let w=r*t;const _=x+w,E=c===void 0?_:c(_);E!==_&&(w=E-x);const F=K=>-w*Math.exp(-K/n),C=K=>E+F(K),L=K=>{const H=F(K),oe=C(K);b.done=Math.abs(H)<=h,b.value=b.done?E:oe};let X,I;const U=K=>{g(b.value)&&(X=K,I=np({keyframes:[b.value,T(b.value)],velocity:L6(C,K,b.value),damping:a,stiffness:s,restDelta:h,restSpeed:m}))};return U(0),{calculatedDuration:null,next:K=>{let H=!1;return!I&&X===void 0&&(H=!0,L(K),U(K)),X!==void 0&&K>=X?I.next(K-X):(!H&&L(K),b)}}}function u7(e,t,r){const n=[],a=r||kc.mix||k6,s=e.length-1;for(let c=0;c<s;c++){let u=a(e[c],e[c+1]);if(t){const d=Array.isArray(t)?t[c]||So:t;u=s1(d,u)}n.push(u)}return n}function f7(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(Xv(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=u7(t,n,a),d=u.length,h=m=>{if(c&&m<e[0])return t[0];let x=0;if(d>1)for(;x<e.length-2&&!(m<e[x+1]);x++);const b=Dh(e[x],e[x+1],m);return u[x](b)};return r?m=>h(Cc(e[0],e[s-1],m)):h}function d7(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Dh(0,t,n);e.push(ha(r,1,a))}}function h7(e){const t=[0];return d7(t,e.length-1),t}function m7(e,t){return e.map(r=>r*t)}function p7(e,t){return e.map(()=>t||b6).splice(0,e.length-1)}function vh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=AC(n)?n.map(Gw):Gw(n),s={done:!1,value:t[0]},c=m7(r&&r.length===t.length?r:h7(t),e),u=f7(c,t,{ease:Array.isArray(a)?a:p7(t,a)});return{calculatedDuration:e,next:d=>(s.value=u(d),s.done=d>=e,s)}}const g7=e=>e!==null;function i5(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(g7),u=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!u||n===void 0?s[u]:n}const x7={decay:$2,inertia:$2,tween:vh,keyframes:vh,spring:np};function z6(e){typeof e.type=="string"&&(e.type=x7[e.type])}class s5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const v7=e=>e/100;class o5 extends s5{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==js.now()&&this.tick(js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;z6(t);const{type:r=vh,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:c=0}=t;let{keyframes:u}=t;const d=r||vh;d!==vh&&typeof u[0]!="number"&&(this.mixKeyframes=s1(v7,k6(u[0],u[1])),u=[0,100]);const h=d({...t,keyframes:u});s==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=a5(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:x,repeatType:b,repeatDelay:g,type:T,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?E<0:E>a;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,L=n;if(x){const K=Math.min(this.currentTime,a)/u;let H=Math.floor(K),oe=K%1;!oe&&K>=1&&(oe=1),oe===1&&H--,H=Math.min(H,x+1),!!(H%2)&&(b==="reverse"?(oe=1-oe,g&&(oe-=g/u)):b==="mirror"&&(L=c)),C=Cc(0,1,oe)*u}const X=F?{done:!1,value:m[0]}:L.next(C);s&&(X.value=s(X.value));let{done:I}=X;!F&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return U&&T!==$2&&(X.value=i5(m,this.options,_,this.speed)),w&&w(X.value),U&&this.finish(),X}then(t,r){return this.finished.then(t,r)}get duration(){return wo(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wo(t)}get time(){return wo(this.currentTime)}set time(t){var r;t=Il(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(js.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=wo(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=t7,startTime:r}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function b7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xf=e=>e*180/Math.PI,Y2=e=>{const t=xf(Math.atan2(e[1],e[0]));return X2(t)},y7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Y2,rotateZ:Y2,skewX:e=>xf(Math.atan(e[1])),skewY:e=>xf(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},X2=e=>(e=e%360,e<0&&(e+=360),e),Kw=Y2,Zw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),w7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zw,scaleY:Jw,scale:e=>(Zw(e)+Jw(e))/2,rotateX:e=>X2(xf(Math.atan2(e[6],e[5]))),rotateY:e=>X2(xf(Math.atan2(-e[2],e[0]))),rotateZ:Kw,rotate:Kw,skewX:e=>xf(Math.atan(e[4])),skewY:e=>xf(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function K2(e){return e.includes("scale")?1:0}function Z2(e,t){if(!e||e==="none")return K2(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=w7,a=r;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=y7,a=u}if(!a)return K2(t);const s=n[t],c=a[1].split(",").map(N7);return typeof s=="function"?s(c):c[s]}const S7=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Z2(r,t)};function N7(e){return parseFloat(e.trim())}const dd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hd=new Set(dd),Qw=e=>e===fd||e===Ar,_7=new Set(["x","y","z"]),T7=dd.filter(e=>!_7.has(e));function A7(e){const t=[];return T7.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const vf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Z2(t,"x"),y:(e,{transform:t})=>Z2(t,"y")};vf.translateX=vf.x;vf.translateY=vf.y;const bf=new Set;let J2=!1,Q2=!1,ev=!1;function F6(){if(Q2){const e=Array.from(bf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=A7(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,c])=>{var u;(u=n.getValue(s))==null||u.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Q2=!1,J2=!1,bf.forEach(e=>e.complete(ev)),bf.clear()}function O6(){bf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Q2=!0)})}function E7(){ev=!0,O6(),F6(),ev=!1}class l5{constructor(t,r,n,a,s,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(bf.add(this),J2||(J2=!0,aa.read(O6),aa.resolveKeyframes(F6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),c=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const u=n.readValue(r,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),a&&s===void 0&&a.set(t[0])}b7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),bf.delete(this)}cancel(){this.state==="scheduled"&&(bf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j7=e=>e.startsWith("--");function C7(e,t,r){j7(t)?e.style.setProperty(t,r):e.style[t]=r}const k7=Kv(()=>window.ScrollTimeline!==void 0),D7={};function L7(e,t){const r=Kv(e);return()=>D7[t]??r()}const R6=L7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hh=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,e4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function M6(e,t){if(e)return typeof e=="function"?R6()?D6(e,t):"ease-out":y6(e)?hh(e):Array.isArray(e)?e.map(r=>M6(r,t)||e4.easeOut):e4[e]}function z7(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:c="loop",ease:u="easeOut",times:d}={},h=void 0){const m={[t]:r};d&&(m.offset=d);const x=M6(u,a);Array.isArray(x)&&(m.easing=x);const b={delay:n,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:s+1,direction:c==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(m,b)}function I6(e){return typeof e=="function"&&"applyToOptions"in e}function F7({type:e,...t}){return I6(e)&&R6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class O7 extends s5{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:c=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!s,this.allowFlatten=c,this.options=t,Xv(typeof t.type!="string");const h=F7(t);this.animation=z7(r,n,a,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=i5(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):C7(r,n,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return wo(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wo(t)}get time(){return wo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Il(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&k7()?(this.animation.timeline=t,So):r(this)}}const P6={anticipate:g6,backInOut:p6,circInOut:v6};function R7(e){return e in P6}function M7(e){typeof e.ease=="string"&&R7(e.ease)&&(e.ease=P6[e.ease])}const t4=10;class I7 extends O7{constructor(t){M7(t),z6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const u=new o5({...c,autoplay:!1}),d=Il(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-t4).value,u.sample(d).value,t4),u.stop()}}const r4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ku.test(e)||e==="0")&&!e.startsWith("url("));function P7(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function B7(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],c=r4(a,t),u=r4(s,t);return!c||!u?!1:P7(e)||(r==="spring"||I6(r))&&n}function tv(e){e.duration=0,e.type="keyframes"}const U7=new Set(["opacity","clipPath","filter","transform"]),H7=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function V7(e){var m;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:c}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return H7()&&r&&U7.has(r)&&(r!=="transform"||!h)&&!d&&!n&&a!=="mirror"&&s!==0&&c!=="inertia"}const G7=40;class q7 extends s5{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:c="loop",keyframes:u,name:d,motionValue:h,element:m,...x}){var T;super(),this.stop=()=>{var w,_;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=js.now();const b={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:c,name:d,motionValue:h,element:m,...x},g=(m==null?void 0:m.KeyframeResolver)||l5;this.keyframeResolver=new g(u,(w,_,E)=>this.onKeyframesResolved(w,_,b,!E),d,h,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:c,velocity:u,delay:d,isHandoff:h,onUpdate:m}=n;this.resolvedAt=js.now(),B7(t,s,c,u)||((kc.instantAnimations||!d)&&(m==null||m(i5(t,n,r))),t[0]=t[t.length-1],tv(n),n.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>G7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!h&&V7(b)?new I7({...b,element:b.motionValue.owner.current}):new o5(b);g.finished.then(()=>this.notifyFinished()).catch(So),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),E7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const W7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $7(e){const t=W7.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function B6(e,t,r=1){const[n,a]=$7(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const c=s.trim();return o6(c)?parseFloat(c):c}return e5(a)?B6(a,t,r+1):a}function c5(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const U6=new Set(["width","height","top","left","right","bottom",...dd]),Y7={test:e=>e==="auto",parse:e=>e},H6=e=>t=>t.test(e),V6=[fd,Ar,Pl,Su,PC,IC,Y7],n4=e=>V6.find(H6(e));function X7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||c6(e):!0}const K7=new Set(["brightness","contrast","saturate","opacity"]);function Z7(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(t5)||[];if(!n)return e;const a=r.replace(n,"");let s=K7.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const J7=/\b([a-z-]*)\(.*?\)/gu,rv={...ku,getAnimatableNone:e=>{const t=e.match(J7);return t?t.map(Z7).join(" "):e}},a4={...fd,transform:Math.round},Q7={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:bm,scaleX:bm,scaleY:bm,scaleZ:bm,skew:Su,skewX:Su,skewY:Su,distance:Ar,translateX:Ar,translateY:Ar,translateZ:Ar,x:Ar,y:Ar,z:Ar,perspective:Ar,transformPerspective:Ar,opacity:Lh,originX:qw,originY:qw,originZ:Ar},u5={borderWidth:Ar,borderTopWidth:Ar,borderRightWidth:Ar,borderBottomWidth:Ar,borderLeftWidth:Ar,borderRadius:Ar,radius:Ar,borderTopLeftRadius:Ar,borderTopRightRadius:Ar,borderBottomRightRadius:Ar,borderBottomLeftRadius:Ar,width:Ar,maxWidth:Ar,height:Ar,maxHeight:Ar,top:Ar,right:Ar,bottom:Ar,left:Ar,padding:Ar,paddingTop:Ar,paddingRight:Ar,paddingBottom:Ar,paddingLeft:Ar,margin:Ar,marginTop:Ar,marginRight:Ar,marginBottom:Ar,marginLeft:Ar,backgroundPositionX:Ar,backgroundPositionY:Ar,...Q7,zIndex:a4,fillOpacity:Lh,strokeOpacity:Lh,numOctaves:a4},ek={...u5,color:Pa,backgroundColor:Pa,outlineColor:Pa,fill:Pa,stroke:Pa,borderColor:Pa,borderTopColor:Pa,borderRightColor:Pa,borderBottomColor:Pa,borderLeftColor:Pa,filter:rv,WebkitFilter:rv},G6=e=>ek[e];function q6(e,t){let r=G6(e);return r!==rv&&(r=ku),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const tk=new Set(["auto","none","0"]);function rk(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!tk.has(s)&&zh(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=q6(r,a)}class nk extends l5{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),e5(h))){const m=B6(h,r.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!U6.has(n)||t.length!==2)return;const[a,s]=t,c=n4(a),u=n4(s);if(c!==u)if(Qw(c)&&Qw(u))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else vf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||X7(t[a]))&&n.push(a);n.length&&rk(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var u;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,c=n[s];n[s]=vf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function ak(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const W6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function $6(e){return l6(e)&&"offsetHeight"in e}const i4=30,ik=e=>!isNaN(parseFloat(e));class sk{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=js.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=js.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ik(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Zv);const n=this.events[t].add(r);return t==="change"?()=>{n(),aa.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>i4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,i4);return u6(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rd(e,t){return new sk(e,t)}const{schedule:f5}=w6(queueMicrotask,!1),tl={x:!1,y:!1};function Y6(){return tl.x||tl.y}function ok(e){return e==="x"||e==="y"?tl[e]?null:(tl[e]=!0,()=>{tl[e]=!1}):tl.x||tl.y?null:(tl.x=tl.y=!0,()=>{tl.x=tl.y=!1})}function X6(e,t){const r=ak(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function s4(e){return!(e.pointerType==="touch"||Y6())}function lk(e,t,r={}){const[n,a,s]=X6(e,r),c=u=>{if(!s4(u))return;const{target:d}=u,h=t(d,u);if(typeof h!="function"||!d)return;const m=x=>{s4(x)&&(h(x),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return n.forEach(u=>{u.addEventListener("pointerenter",c,a)}),s}const K6=(e,t)=>t?e===t?!0:K6(e,t.parentElement):!1,d5=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ck=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uk(e){return ck.has(e.tagName)||e.tabIndex!==-1}const qm=new WeakSet;function o4(e){return t=>{t.key==="Enter"&&e(t)}}function Ex(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fk=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=o4(()=>{if(qm.has(r))return;Ex(r,"down");const a=o4(()=>{Ex(r,"up")}),s=()=>Ex(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function l4(e){return d5(e)&&!Y6()}function dk(e,t,r={}){const[n,a,s]=X6(e,r),c=u=>{const d=u.currentTarget;if(!l4(u))return;qm.add(d);const h=t(d,u),m=(g,T)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),qm.has(d)&&qm.delete(d),l4(g)&&typeof h=="function"&&h(g,{success:T})},x=g=>{m(g,d===window||d===document||r.useGlobalTarget||K6(d,g.target))},b=g=>{m(g,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),$6(u)&&(u.addEventListener("focus",h=>fk(h,a)),!uk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function Z6(e){return l6(e)&&"ownerSVGElement"in e}function hk(e){return Z6(e)&&e.tagName==="svg"}const Gi=e=>!!(e&&e.getVelocity),mk=[...V6,Pa,ku],pk=e=>mk.find(H6(e)),h5=W.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function c4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gk(...e){return t=>{let r=!1;const n=e.map(a=>{const s=c4(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():c4(e[a],null)}}}}function xk(...e){return W.useCallback(gk(...e),e)}class vk extends W.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=$6(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bk({children:e,isPresent:t,anchorX:r,root:n}){const a=W.useId(),s=W.useRef(null),c=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=W.useContext(h5),d=xk(s,e==null?void 0:e.ref);return W.useInsertionEffect(()=>{const{width:h,height:m,top:x,left:b,right:g}=c.current;if(t||!s.current||!h||!m)return;const T=r==="left"?`left: ${b}`:`right: ${g}`;s.current.dataset.motionPopId=a;const w=document.createElement("style");u&&(w.nonce=u);const _=n??document.head;return _.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${x}px !important;
          }
        `),()=>{_.contains(w)&&_.removeChild(w)}},[t]),l.jsx(vk,{isPresent:t,childRef:s,sizeRef:c,children:W.cloneElement(e,{ref:d})})}const yk=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:c,anchorX:u,root:d})=>{const h=qv(wk),m=W.useId();let x=!0,b=W.useMemo(()=>(x=!1,{id:m,initial:t,isPresent:r,custom:a,onExitComplete:g=>{h.set(g,!0);for(const T of h.values())if(!T)return;n&&n()},register:g=>(h.set(g,!1),()=>h.delete(g))}),[r,h,n]);return s&&x&&(b={...b}),W.useMemo(()=>{h.forEach((g,T)=>h.set(T,!1))},[r]),W.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),c==="popLayout"&&(e=l.jsx(bk,{isPresent:r,anchorX:u,root:d,children:e})),l.jsx(Pp.Provider,{value:b,children:e})};function wk(){return new Map}function J6(e=!0){const t=W.useContext(Pp);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=W.useId();W.useEffect(()=>{if(e)return a(s)},[e]);const c=W.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,c]:[!0]}const ym=e=>e.key||"";function u4(e){const t=[];return W.Children.forEach(e,r=>{W.isValidElement(r)&&t.push(r)}),t}const Sk=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:c=!1,anchorX:u="left",root:d})=>{const[h,m]=J6(c),x=W.useMemo(()=>u4(e),[e]),b=c&&!h?[]:x.map(ym),g=W.useRef(!0),T=W.useRef(x),w=qv(()=>new Map),[_,E]=W.useState(x),[F,C]=W.useState(x);s6(()=>{g.current=!1,T.current=x;for(let I=0;I<F.length;I++){const U=ym(F[I]);b.includes(U)?w.delete(U):w.get(U)!==!0&&w.set(U,!1)}},[F,b.length,b.join("-")]);const L=[];if(x!==_){let I=[...x];for(let U=0;U<F.length;U++){const K=F[U],H=ym(K);b.includes(H)||(I.splice(U,0,K),L.push(K))}return s==="wait"&&L.length&&(I=L),C(u4(I)),E(x),null}const{forceRender:X}=W.useContext(Gv);return l.jsx(l.Fragment,{children:F.map(I=>{const U=ym(I),K=c&&!h?!1:x===F||b.includes(U),H=()=>{if(w.has(U))w.set(U,!0);else return;let oe=!0;w.forEach(O=>{O||(oe=!1)}),oe&&(X==null||X(),C(T.current),c&&(m==null||m()),n&&n())};return l.jsx(yk,{isPresent:K,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:d,onExitComplete:K?void 0:H,anchorX:u,children:I},U)})})},Q6=W.createContext({strict:!1}),f4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nd={};for(const e in f4)nd[e]={isEnabled:t=>f4[e].some(r=>!!t[r])};function Nk(e){for(const t in e)nd[t]={...nd[t],...e[t]}}const _k=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ap(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_k.has(e)}let e_=e=>!ap(e);function Tk(e){typeof e=="function"&&(e_=t=>t.startsWith("on")?!ap(t):e(t))}try{Tk(require("@emotion/is-prop-valid").default)}catch{}function Ak(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(e_(a)||r===!0&&ap(a)||!t&&!ap(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Bp=W.createContext({});function Up(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fh(e){return typeof e=="string"||Array.isArray(e)}const m5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p5=["initial",...m5];function Hp(e){return Up(e.animate)||p5.some(t=>Fh(e[t]))}function t_(e){return!!(Hp(e)||e.variants)}function Ek(e,t){if(Hp(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Fh(r)?r:void 0,animate:Fh(n)?n:void 0}}return e.inherit!==!1?t:{}}function jk(e){const{initial:t,animate:r}=Ek(e,W.useContext(Bp));return W.useMemo(()=>({initial:t,animate:r}),[d4(t),d4(r)])}function d4(e){return Array.isArray(e)?e.join(" "):e}function h4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ah={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ar.test(e))e=parseFloat(e);else return e;const r=h4(e,t.target.x),n=h4(e,t.target.y);return`${r}% ${n}%`}},Ck={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=ku.parse(e);if(a.length>5)return n;const s=ku.createTransformer(e),c=typeof a[0]!="number"?1:0,u=r.x.scale*t.x,d=r.y.scale*t.y;a[0+c]/=u,a[1+c]/=d;const h=ha(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),s(a)}},nv={borderRadius:{...ah,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ah,borderTopRightRadius:ah,borderBottomLeftRadius:ah,borderBottomRightRadius:ah,boxShadow:Ck};function r_(e,{layout:t,layoutId:r}){return hd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!nv[e]||e==="opacity")}const kk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dk=dd.length;function Lk(e,t,r){let n="",a=!0;for(let s=0;s<Dk;s++){const c=dd[s],u=e[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=W6(u,u5[c]);if(!d){a=!1;const m=kk[c]||c;n+=`${m}(${h}) `}r&&(t[c]=h)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function g5(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let c=!1,u=!1;for(const d in t){const h=t[d];if(hd.has(d)){c=!0;continue}else if(N6(d)){a[d]=h;continue}else{const m=W6(h,u5[d]);d.startsWith("origin")?(u=!0,s[d]=m):n[d]=m}}if(t.transform||(c||r?n.transform=Lk(t,e.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:m=0}=s;n.transformOrigin=`${d} ${h} ${m}`}}const x5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n_(e,t,r){for(const n in t)!Gi(t[n])&&!r_(n,r)&&(e[n]=t[n])}function zk({transformTemplate:e},t){return W.useMemo(()=>{const r=x5();return g5(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Fk(e,t){const r=e.style||{},n={};return n_(n,r,e),Object.assign(n,zk(e,t)),n}function Ok(e,t){const r={},n=Fk(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Rk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ik(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?Rk:Mk;e[s.offset]=Ar.transform(-n);const c=Ar.transform(t),u=Ar.transform(r);e[s.array]=`${c} ${u}`}function a_(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:c=0,...u},d,h,m){if(g5(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:b}=e;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),a!==void 0&&Ik(x,a,s,c,!1)}const i_=()=>({...x5(),attrs:{}}),s_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pk(e,t,r,n){const a=W.useMemo(()=>{const s=i_();return a_(s,t,s_(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};n_(s,e.style,e),a.style={...s,...a.style}}return a}const Bk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v5(e){return typeof e!="string"||e.includes("-")?!1:!!(Bk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Uk(e,t,r,{latestValues:n},a,s=!1){const u=(v5(e)?Pk:Ok)(t,n,a,e),d=Ak(t,typeof e=="string",s),h=e!==W.Fragment?{...d,...u,ref:r}:{},{children:m}=t,x=W.useMemo(()=>Gi(m)?m.get():m,[m]);return W.createElement(e,{...h,children:x})}function m4(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function b5(e,t,r,n){if(typeof t=="function"){const[a,s]=m4(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=m4(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function Wm(e){return Gi(e)?e.get():e}function Hk({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Vk(r,n,a,e),renderState:t()}}function Vk(e,t,r,n){const a={},s=n(e,{});for(const b in s)a[b]=Wm(s[b]);let{initial:c,animate:u}=e;const d=Hp(e),h=t_(e);t&&h&&!d&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||c===!1;const x=m?u:c;if(x&&typeof x!="boolean"&&!Up(x)){const b=Array.isArray(x)?x:[x];for(let g=0;g<b.length;g++){const T=b5(e,b[g]);if(T){const{transitionEnd:w,transition:_,...E}=T;for(const F in E){let C=E[F];if(Array.isArray(C)){const L=m?C.length-1:0;C=C[L]}C!==null&&(a[F]=C)}for(const F in w)a[F]=w[F]}}}return a}const o_=e=>(t,r)=>{const n=W.useContext(Bp),a=W.useContext(Pp),s=()=>Hk(e,t,n,a);return r?s():qv(s)};function y5(e,t,r){var s;const{style:n}=e,a={};for(const c in n)(Gi(n[c])||t.style&&Gi(t.style[c])||r_(c,e)||((s=r==null?void 0:r.getValue(c))==null?void 0:s.liveStyle)!==void 0)&&(a[c]=n[c]);return a}const Gk=o_({scrapeMotionValuesFromProps:y5,createRenderState:x5});function l_(e,t,r){const n=y5(e,t,r);for(const a in e)if(Gi(e[a])||Gi(t[a])){const s=dd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const qk=o_({scrapeMotionValuesFromProps:l_,createRenderState:i_}),Wk=Symbol.for("motionComponentSymbol");function R0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $k(e,t,r){return W.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):R0(r)&&(r.current=n))},[t])}const w5=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yk="framerAppearId",c_="data-"+w5(Yk),u_=W.createContext({});function Xk(e,t,r,n,a){var w,_;const{visualElement:s}=W.useContext(Bp),c=W.useContext(Q6),u=W.useContext(Pp),d=W.useContext(h5).reducedMotion,h=W.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:s,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,x=W.useContext(u_);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&Kk(h.current,r,a,x);const b=W.useRef(!1);W.useInsertionEffect(()=>{m&&b.current&&m.update(r,u)});const g=r[c_],T=W.useRef(!!g&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,g))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,g)));return s6(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),W.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,g)}),T.current=!1),m.enteringChildren=void 0)}),m}function Kk(e,t,r,n){const{layoutId:a,layout:s,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:f_(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!c||u&&R0(u),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:h})}function f_(e){if(e)return e.options.allowProjection!==!1?e.projection:f_(e.parent)}function jx(e,{forwardMotionProps:t=!1}={},r,n){r&&Nk(r);const a=v5(e)?qk:Gk;function s(u,d){let h;const m={...W.useContext(h5),...u,layoutId:Zk(u)},{isStatic:x}=m,b=jk(u),g=a(u,x);if(!x&&Wv){Jk();const T=Qk(m);h=T.MeasureLayout,b.visualElement=Xk(e,g,m,n,T.ProjectionNode)}return l.jsxs(Bp.Provider,{value:b,children:[h&&b.visualElement?l.jsx(h,{visualElement:b.visualElement,...m}):null,Uk(e,u,$k(g,b.visualElement,d),g,x,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=W.forwardRef(s);return c[Wk]=e,c}function Zk({layoutId:e}){const t=W.useContext(Gv).id;return t&&e!==void 0?t+"-"+e:e}function Jk(e,t){W.useContext(Q6).strict}function Qk(e){const{drag:t,layout:r}=nd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function eD(e,t){if(typeof Proxy>"u")return jx;const r=new Map,n=(s,c)=>jx(s,c,e,t),a=(s,c)=>n(s,c);return new Proxy(a,{get:(s,c)=>c==="create"?n:(r.has(c)||r.set(c,jx(c,void 0,e,t)),r.get(c))})}function d_({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function tD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rD(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Cx(e){return e===void 0||e===1}function av({scale:e,scaleX:t,scaleY:r}){return!Cx(e)||!Cx(t)||!Cx(r)}function df(e){return av(e)||h_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function h_(e){return p4(e.x)||p4(e.y)}function p4(e){return e&&e!=="0%"}function ip(e,t,r){const n=e-r,a=t*n;return r+a}function g4(e,t,r,n,a){return a!==void 0&&(e=ip(e,a,n)),ip(e,r,n)+t}function iv(e,t=0,r=1,n,a){e.min=g4(e.min,t,r,n,a),e.max=g4(e.max,t,r,n,a)}function m_(e,{x:t,y:r}){iv(e.x,t.translate,t.scale,t.originPoint),iv(e.y,r.translate,r.scale,r.originPoint)}const x4=.999999999999,v4=1.0000000000001;function nD(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,c;for(let u=0;u<a;u++){s=r[u],c=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&I0(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,m_(e,c)),n&&df(s.latestValues)&&I0(e,s.latestValues))}t.x<v4&&t.x>x4&&(t.x=1),t.y<v4&&t.y>x4&&(t.y=1)}function M0(e,t){e.min=e.min+t,e.max=e.max+t}function b4(e,t,r,n,a=.5){const s=ha(e.min,e.max,a);iv(e,t,r,s,n)}function I0(e,t){b4(e.x,t.x,t.scaleX,t.scale,t.originX),b4(e.y,t.y,t.scaleY,t.scale,t.originY)}function p_(e,t){return d_(rD(e.getBoundingClientRect(),t))}function aD(e,t,r){const n=p_(e,r),{scroll:a}=t;return a&&(M0(n.x,a.offset.x),M0(n.y,a.offset.y)),n}const y4=()=>({translate:0,scale:1,origin:0,originPoint:0}),P0=()=>({x:y4(),y:y4()}),w4=()=>({min:0,max:0}),ti=()=>({x:w4(),y:w4()}),sv={current:null},g_={current:!1};function iD(){if(g_.current=!0,!!Wv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sv.current=e.matches;e.addEventListener("change",t),t()}else sv.current=!1}const sD=new WeakMap;function oD(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Gi(a))e.addValue(n,a);else if(Gi(s))e.addValue(n,rd(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(n);e.addValue(n,rd(c!==void 0?c:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const S4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lD{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=js.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,aa.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=Hp(r),this.isVariantNode=t_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in x){const g=x[b];d[b]!==void 0&&Gi(g)&&g.set(d[b])}}mount(t){var r;this.current=t,sD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),g_.current||iD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sv.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Cu(this.notifyUpdate),Cu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=hd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&aa.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nd){const r=nd[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ti()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<S4.length;n++){const a=S4[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,c=t[s];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=oD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=rd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(o6(n)||c6(n))?n=parseFloat(n):!pk(n)&&ku.test(r)&&(n=q6(t,r)),this.setBaseTarget(t,Gi(n)?n.get():n)),Gi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const c=b5(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);c&&(n=c[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Gi(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Zv),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){f5.render(this.render)}}class x_ extends lD{constructor(){super(...arguments),this.KeyframeResolver=nk}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function v_(e,{style:t,vars:r},n,a){const s=e.style;let c;for(c in t)s[c]=t[c];a==null||a.applyProjectionStyles(s,n);for(c in r)s.setProperty(c,r[c])}function cD(e){return window.getComputedStyle(e)}class uD extends x_{constructor(){super(...arguments),this.type="html",this.renderInstance=v_}readValueFromInstance(t,r){var n;if(hd.has(r))return(n=this.projection)!=null&&n.isProjecting?K2(r):S7(t,r);{const a=cD(t),s=(N6(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return p_(t,r)}build(t,r,n){g5(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return y5(t,r,n)}}const b_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fD(e,t,r,n){v_(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(b_.has(a)?a:w5(a),t.attrs[a])}class dD extends x_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ti}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(hd.has(r)){const n=G6(r);return n&&n.default||0}return r=b_.has(r)?r:w5(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return l_(t,r,n)}build(t,r,n){a_(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){fD(t,r,n,a)}mount(t){this.isSVGTag=s_(t.tagName),super.mount(t)}}const hD=(e,t)=>v5(e)?new dD(t):new uD(t,{allowProjection:e!==W.Fragment});function G0(e,t,r){const n=e.getProps();return b5(n,t,r!==void 0?r:n.custom,e)}const ov=e=>Array.isArray(e);function mD(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,rd(r))}function pD(e){return ov(e)?e[e.length-1]||0:e}function gD(e,t){const r=G0(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const c in s){const u=pD(s[c]);mD(e,c,u)}}function xD(e){return!!(Gi(e)&&e.add)}function lv(e,t){const r=e.getValue("willChange");if(xD(r))return r.add(t);if(!r&&kc.WillChange){const n=new kc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function y_(e){return e.props[c_]}const vD=e=>e!==null;function bD(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(vD),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const yD={type:"spring",stiffness:500,damping:25,restSpeed:10},wD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),SD={type:"keyframes",duration:.8},ND={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_D=(e,{keyframes:t})=>t.length>2?SD:hd.has(e)?e.startsWith("scale")?wD(t[1]):yD:ND;function TD({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:c,repeatDelay:u,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const S5=(e,t,r,n={},a,s)=>c=>{const u=c5(n,e)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Il(d);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-h,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:s?void 0:a};TD(u)||Object.assign(m,_D(e,m)),m.duration&&(m.duration=Il(m.duration)),m.repeatDelay&&(m.repeatDelay=Il(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(tv(m),m.delay===0&&(x=!0)),(kc.instantAnimations||kc.skipAnimations)&&(x=!0,tv(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,x&&!s&&t.get()!==void 0){const b=bD(m.keyframes,u);if(b!==void 0){aa.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new o5(m):new q7(m)};function AD({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function w_(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:c,...u}=t;n&&(s=n);const d=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const m in u){const x=e.getValue(m,e.latestValues[m]??null),b=u[m];if(b===void 0||h&&AD(h,m))continue;const g={delay:r,...c5(s||{},m)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===T&&!g.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const E=y_(e);if(E){const F=window.MotionHandoffAnimation(E,m,aa);F!==null&&(g.startTime=F,w=!0)}}lv(e,m),x.start(S5(m,x,b,e.shouldReduceMotion&&U6.has(m)?{type:!1}:g,e,w));const _=x.animation;_&&d.push(_)}return c&&Promise.all(d).then(()=>{aa.update(()=>{c&&gD(e,c)})}),d}function S_(e,t,r,n=0,a=1){const s=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),c=e.size,u=(c-1)*n;return typeof r=="function"?r(s,c):a===1?s*n:u-s*n}function cv(e,t,r={}){var d;const n=G0(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(w_(e,n,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:x,staggerDirection:b}=a;return ED(e,t,h,m,x,b,r)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,m]=u==="beforeChildren"?[s,c]:[c,s];return h().then(()=>m())}else return Promise.all([s(),c(r.delay)])}function ED(e,t,r=0,n=0,a=0,s=1,c){const u=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),u.push(cv(d,t,{...c,delay:r+(typeof n=="function"?0:n)+S_(e.variantChildren,d,n,a,s)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function jD(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>cv(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=cv(e,t,r);else{const a=typeof t=="function"?G0(e,t,r.custom):t;n=Promise.all(w_(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function N_(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const CD=p5.length;function __(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?__(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<CD;r++){const n=p5[r],a=e.props[n];(Fh(a)||a===!1)&&(t[n]=a)}return t}const kD=[...m5].reverse(),DD=m5.length;function LD(e){return t=>Promise.all(t.map(({animation:r,options:n})=>jD(e,r,n)))}function zD(e){let t=LD(e),r=N4(),n=!0;const a=d=>(h,m)=>{var b;const x=G0(e,m,d==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(x){const{transition:g,transitionEnd:T,...w}=x;h={...h,...w,...T}}return h};function s(d){t=d(e)}function c(d){const{props:h}=e,m=__(e.parent)||{},x=[],b=new Set;let g={},T=1/0;for(let _=0;_<DD;_++){const E=kD[_],F=r[E],C=h[E]!==void 0?h[E]:m[E],L=Fh(C),X=E===d?F.isActive:null;X===!1&&(T=_);let I=C===m[E]&&C!==h[E]&&L;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),F.protectedKeys={...g},!F.isActive&&X===null||!C&&!F.prevProp||Up(C)||typeof C=="boolean")continue;const U=FD(F.prevProp,C);let K=U||E===d&&F.isActive&&!I&&L||_>T&&L,H=!1;const oe=Array.isArray(C)?C:[C];let O=oe.reduce(a(E),{});X===!1&&(O={});const{prevResolvedValues:R={}}=F,V={...R,...O},re=ie=>{K=!0,b.has(ie)&&(H=!0,b.delete(ie)),F.needsAnimating[ie]=!0;const J=e.getValue(ie);J&&(J.liveStyle=!1)};for(const ie in V){const J=O[ie],Y=R[ie];if(g.hasOwnProperty(ie))continue;let se=!1;ov(J)&&ov(Y)?se=!N_(J,Y):se=J!==Y,se?J!=null?re(ie):b.add(ie):J!==void 0&&b.has(ie)?re(ie):F.protectedKeys[ie]=!0}F.prevProp=C,F.prevResolvedValues=O,F.isActive&&(g={...g,...O}),n&&e.blockInitialAnimation&&(K=!1);const le=I&&U;K&&(!le||H)&&x.push(...oe.map(ie=>{const J={type:E};if(typeof ie=="string"&&n&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Y}=e,se=G0(Y,ie);if(Y.enteringChildren&&se){const{delayChildren:P}=se.transition||{};J.delay=S_(Y.enteringChildren,e,P)}}return{animation:ie,options:J}}))}if(b.size){const _={};if(typeof h.initial!="boolean"){const E=G0(e,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(_.transition=E.transition)}b.forEach(E=>{const F=e.getBaseTarget(E),C=e.getValue(E);C&&(C.liveStyle=!0),_[E]=F??null}),x.push({animation:_})}let w=!!x.length;return n&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(x):Promise.resolve()}function u(d,h){var x;if(r[d].isActive===h)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(b=>{var g;return(g=b.animationState)==null?void 0:g.setActive(d,h)}),r[d].isActive=h;const m=c(d);for(const b in r)r[b].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:s,getState:()=>r,reset:()=>{r=N4()}}}function FD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N_(t,e):!1}function lf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N4(){return{animate:lf(!0),whileInView:lf(),whileHover:lf(),whileTap:lf(),whileDrag:lf(),whileFocus:lf(),exit:lf()}}class Pu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OD extends Pu{constructor(t){super(t),t.animationState||(t.animationState=zD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Up(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RD=0;class MD extends Pu{constructor(){super(...arguments),this.id=RD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ID={animation:{Feature:OD},exit:{Feature:MD}};function Oh(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function c1(e){return{point:{x:e.pageX,y:e.pageY}}}const PD=e=>t=>d5(t)&&e(t,c1(t));function bh(e,t,r,n){return Oh(e,t,PD(r),n)}const T_=1e-4,BD=1-T_,UD=1+T_,A_=.01,HD=0-A_,VD=0+A_;function ss(e){return e.max-e.min}function GD(e,t,r){return Math.abs(e-t)<=r}function _4(e,t,r,n=.5){e.origin=n,e.originPoint=ha(t.min,t.max,e.origin),e.scale=ss(r)/ss(t),e.translate=ha(r.min,r.max,e.origin)-e.originPoint,(e.scale>=BD&&e.scale<=UD||isNaN(e.scale))&&(e.scale=1),(e.translate>=HD&&e.translate<=VD||isNaN(e.translate))&&(e.translate=0)}function yh(e,t,r,n){_4(e.x,t.x,r.x,n?n.originX:void 0),_4(e.y,t.y,r.y,n?n.originY:void 0)}function T4(e,t,r){e.min=r.min+t.min,e.max=e.min+ss(t)}function qD(e,t,r){T4(e.x,t.x,r.x),T4(e.y,t.y,r.y)}function A4(e,t,r){e.min=t.min-r.min,e.max=e.min+ss(t)}function sp(e,t,r){A4(e.x,t.x,r.x),A4(e.y,t.y,r.y)}function bo(e){return[e("x"),e("y")]}const E_=({current:e})=>e?e.ownerDocument.defaultView:null,E4=(e,t)=>Math.abs(e-t);function WD(e,t){const r=E4(e.x,t.x),n=E4(e.y,t.y);return Math.sqrt(r**2+n**2)}class j_{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Dx(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,T=WD(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!T)return;const{point:w}=b,{timestamp:_}=Ti;this.history.push({...w,timestamp:_});const{onStart:E,onMove:F}=this.handlers;g||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,b)},this.handlePointerMove=(b,g)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=kx(g,this.transformPagePoint),aa.update(this.updatePoint,!0)},this.handlePointerUp=(b,g)=>{this.end();const{onEnd:T,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Dx(b.type==="pointercancel"?this.lastMoveEventInfo:kx(g,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,E),w&&w(b,E)},!d5(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=a||window;const u=c1(t),d=kx(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=Ti;this.history=[{...h,timestamp:m}];const{onSessionStart:x}=r;x&&x(t,Dx(d,this.history)),this.removeListeners=s1(bh(this.contextWindow,"pointermove",this.handlePointerMove),bh(this.contextWindow,"pointerup",this.handlePointerUp),bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Cu(this.updatePoint)}}function kx(e,t){return t?{point:t(e.point)}:e}function j4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dx({point:e},t){return{point:e,delta:j4(e,C_(t)),offset:j4(e,$D(t)),velocity:YD(t,.1)}}function $D(e){return e[0]}function C_(e){return e[e.length-1]}function YD(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=C_(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Il(t)));)r--;if(!n)return{x:0,y:0};const s=wo(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const c={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function XD(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ha(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ha(r,e,n.max):Math.min(e,r)),e}function C4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function KD(e,{top:t,left:r,bottom:n,right:a}){return{x:C4(e.x,r,a),y:C4(e.y,t,n)}}function k4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ZD(e,t){return{x:k4(e.x,t.x),y:k4(e.y,t.y)}}function JD(e,t){let r=.5;const n=ss(e),a=ss(t);return a>n?r=Dh(t.min,t.max-n,e.min):n>a&&(r=Dh(e.min,e.max-a,t.min)),Cc(0,1,r)}function QD(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const uv=.35;function eL(e=uv){return e===!1?e=0:e===!0&&(e=uv),{x:D4(e,"left","right"),y:D4(e,"top","bottom")}}function D4(e,t,r){return{min:L4(e,t),max:L4(e,r)}}function L4(e,t){return typeof e=="number"?e:e[t]||0}const tL=new WeakMap;class rL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ti(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(c1(x).point)},c=(x,b)=>{const{drag:g,dragPropagation:T,onDragStart:w}=this.getProps();if(g&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ok(g),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bo(E=>{let F=this.getAxisMotionValue(E).get()||0;if(Pl.test(F)){const{projection:C}=this.visualElement;if(C&&C.layout){const L=C.layout.layoutBox[E];L&&(F=ss(L)*(parseFloat(F)/100))}}this.originPoint[E]=F}),w&&aa.postRender(()=>w(x,b)),lv(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:g,dragDirectionLock:T,onDirectionLock:w,onDrag:_}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=b;if(T&&this.currentDirection===null){this.currentDirection=nL(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),_&&_(x,b)},d=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>bo(x=>{var b;return this.getAnimationState(x)==="paused"&&((b=this.getAxisMotionValue(x).animation)==null?void 0:b.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new j_(t,{onSessionStart:s,onStart:c,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:E_(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&aa.postRender(()=>u(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!wm(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=XD(c,this.constraints[t],this.elastic[t])),s.set(c)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&R0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=KD(n.layoutBox,t):this.constraints=!1,this.elastic=eL(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&bo(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=QD(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!R0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=aD(n,a.root,this.visualElement.getTransformPagePoint());let c=ZD(a.layout.layoutBox,s);if(r){const u=r(tD(c));this.hasMutatedConstraints=!!u,u&&(c=d_(u))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=bo(m=>{if(!wm(m,r,this.currentDirection))return;let x=d&&d[m]||{};c&&(x={min:0,max:0});const b=a?200:1e6,g=a?40:1e7,T={type:"inertia",velocity:n?t[m]:0,bounceStiffness:b,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...x};return this.startAxisValueAnimation(m,T)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return lv(this.visualElement,t),n.start(S5(t,n,0,r,this.visualElement,!1))}stopAnimation(){bo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){bo(r=>{const{drag:n}=this.getProps();if(!wm(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[r];s.set(t[r]-ha(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!R0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bo(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=JD({min:d,max:d},this.constraints[c])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bo(c=>{if(!wm(c,t,null))return;const u=this.getAxisMotionValue(c),{min:d,max:h}=this.constraints[c];u.set(ha(d,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;tL.set(this.visualElement,this);const t=this.visualElement.current,r=bh(t,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();R0(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),aa.read(n);const c=Oh(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(bo(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=d[m].translate,x.set(x.get()+d[m].translate))}),this.visualElement.render())}));return()=>{c(),r(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:c=uv,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:c,dragMomentum:u}}}function wm(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function nL(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class aL extends Pu{constructor(t){super(t),this.removeGroupControls=So,this.removeListeners=So,this.controls=new rL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||So}unmount(){this.removeGroupControls(),this.removeListeners()}}const z4=e=>(t,r)=>{e&&aa.postRender(()=>e(t,r))};class iL extends Pu{constructor(){super(...arguments),this.removePointerDownListener=So}onPointerDown(t){this.session=new j_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:z4(t),onStart:z4(r),onMove:n,onEnd:(s,c)=>{delete this.session,a&&aa.postRender(()=>a(s,c))}}}mount(){this.removePointerDownListener=bh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Lx=!1;class sL extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),Lx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$m.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:c}=n;return c&&(c.isPresent=s,Lx=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?c.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?c.promote():c.relegate()||aa.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),f5.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Lx=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k_(e){const[t,r]=J6(),n=W.useContext(Gv);return l.jsx(sL,{...e,layoutGroup:n,switchLayoutGroup:W.useContext(u_),isPresent:t,safeToRemove:r})}function oL(e,t,r){const n=Gi(e)?e:rd(e);return n.start(S5("",n,t,r)),n.animation}const lL=(e,t)=>e.depth-t.depth;class cL{constructor(){this.children=[],this.isDirty=!1}add(t){$v(this.children,t),this.isDirty=!0}remove(t){Yv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lL),this.isDirty=!1,this.children.forEach(t)}}function uL(e,t){const r=js.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Cu(n),e(s-t))};return aa.setup(n,!0),()=>Cu(n)}const D_=["TopLeft","TopRight","BottomLeft","BottomRight"],fL=D_.length,F4=e=>typeof e=="string"?parseFloat(e):e,O4=e=>typeof e=="number"||Ar.test(e);function dL(e,t,r,n,a,s){a?(e.opacity=ha(0,r.opacity??1,hL(n)),e.opacityExit=ha(t.opacity??1,0,mL(n))):s&&(e.opacity=ha(t.opacity??1,r.opacity??1,n));for(let c=0;c<fL;c++){const u=`border${D_[c]}Radius`;let d=R4(t,u),h=R4(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||O4(d)===O4(h)?(e[u]=Math.max(ha(F4(d),F4(h),n),0),(Pl.test(h)||Pl.test(d))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=ha(t.rotate||0,r.rotate||0,n))}function R4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hL=L_(0,.5,x6),mL=L_(.5,.95,So);function L_(e,t,r){return n=>n<e?0:n>t?1:r(Dh(e,t,n))}function M4(e,t){e.min=t.min,e.max=t.max}function Zo(e,t){M4(e.x,t.x),M4(e.y,t.y)}function I4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P4(e,t,r,n,a){return e-=t,e=ip(e,1/r,n),a!==void 0&&(e=ip(e,1/a,n)),e}function pL(e,t=0,r=1,n=.5,a,s=e,c=e){if(Pl.test(t)&&(t=parseFloat(t),t=ha(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=ha(s.min,s.max,n);e===s&&(u-=t),e.min=P4(e.min,t,r,u,a),e.max=P4(e.max,t,r,u,a)}function B4(e,t,[r,n,a],s,c){pL(e,t[r],t[n],t[a],t.scale,s,c)}const gL=["x","scaleX","originX"],xL=["y","scaleY","originY"];function U4(e,t,r,n){B4(e.x,t,gL,r?r.x:void 0,n?n.x:void 0),B4(e.y,t,xL,r?r.y:void 0,n?n.y:void 0)}function H4(e){return e.translate===0&&e.scale===1}function z_(e){return H4(e.x)&&H4(e.y)}function V4(e,t){return e.min===t.min&&e.max===t.max}function vL(e,t){return V4(e.x,t.x)&&V4(e.y,t.y)}function G4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F_(e,t){return G4(e.x,t.x)&&G4(e.y,t.y)}function q4(e){return ss(e.x)/ss(e.y)}function W4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class bL{constructor(){this.members=[]}add(t){$v(this.members,t),t.scheduleRender()}remove(t){if(Yv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yL(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((a||s||c)&&(n=`translate3d(${a}px, ${s}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:x,rotateY:b,skewX:g,skewY:T}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),g&&(n+=`skewX(${g}deg) `),T&&(n+=`skewY(${T}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const zx=["","X","Y","Z"],wL=1e3;let SL=0;function Fx(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function O_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=y_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",aa,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&O_(n)}function R_({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(c={},u=t==null?void 0:t()){this.id=SL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TL),this.nodes.forEach(CL),this.nodes.forEach(kL),this.nodes.forEach(AL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new cL)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Z6(c)&&!hk(c),this.instance=c;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),e){let m,x=0;const b=()=>this.root.updateBlockedByResize=!1;aa.read(()=>{x=window.innerWidth}),e(c,()=>{const g=window.innerWidth;g!==x&&(x=g,this.root.updateBlockedByResize=!0,m&&m(),m=uL(b,250),$m.hasAnimatedSinceResize&&($m.hasAnimatedSinceResize=!1,this.nodes.forEach(X4)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||OL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),E=!this.targetLayout||!F_(this.targetLayout,g),F=!x&&b;if(this.options.layoutRoot||this.resumeFrom||F||x&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...c5(T,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,F)}else x||X4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jL),this.nodes.forEach(NL),this.nodes.forEach(_L)):this.nodes.forEach(Y4),this.clearAllSnapshots();const u=js.now();Ti.delta=Cc(0,1e3/60,u-Ti.timestamp),Ti.timestamp=u,Ti.isProcessing=!0,Sx.update.process(Ti),Sx.preRender.process(Ti),Sx.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EL),this.sharedNodes.forEach(LL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ss(this.snapshot.measuredBox.x)&&!ss(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!z_(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||df(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),RL(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ti();const u=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(ML))){const{scroll:m}=this.root;m&&(M0(u.x,m.offset.x),M0(u.y,m.offset.y))}return u}removeElementScroll(c){var d;const u=ti();if(Zo(u,c),(d=this.scroll)!=null&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:x,options:b}=m;m!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&Zo(u,c),M0(u.x,x.offset.x),M0(u.y,x.offset.y))}return u}applyTransform(c,u=!1){const d=ti();Zo(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&I0(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),df(m.latestValues)&&I0(d,m.latestValues)}return df(this.latestValues)&&I0(d,this.latestValues),d}removeTransform(c){const u=ti();Zo(u,c);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!df(h.latestValues))continue;av(h.latestValues)&&h.updateSnapshot();const m=ti(),x=h.measurePageBox();Zo(m,x),U4(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return df(this.latestValues)&&U4(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!this.layout||!(m||x))return;this.resolvedRelativeTargetAt=Ti.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ti(),this.targetWithTransforms=ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zo(this.target,this.layout.layoutBox),m_(this.target,this.targetDelta)):Zo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||av(this.parent.latestValues)||h_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ti(),this.relativeTargetOrigin=ti(),sp(this.relativeTargetOrigin,u,d),Zo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Zo(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;nD(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ti());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I4(this.prevProjectionDelta.x,this.projectionDelta.x),I4(this.prevProjectionDelta.y,this.projectionDelta.y)),yh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!W4(this.projectionDelta.x,this.prevProjectionDelta.x)||!W4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=P0(),this.projectionDelta=P0(),this.projectionDeltaWithTransform=P0()}setAnimationOrigin(c,u=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},x=P0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=ti(),g=d?d.source:void 0,T=this.layout?this.layout.source:void 0,w=g!==T,_=this.getStack(),E=!_||_.members.length<=1,F=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(FL));this.animationProgress=0;let C;this.mixTargetDelta=L=>{const X=L/1e3;K4(x.x,c.x,X),K4(x.y,c.y,X),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sp(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zL(this.relativeTarget,this.relativeTargetOrigin,b,X),C&&vL(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=ti()),Zo(C,this.relativeTarget)),w&&(this.animationValues=m,dL(m,h,this.latestValues,X,F,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,d,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Cu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aa.update(()=>{$m.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rd(0)),this.currentAnimation=oL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:m}=c;if(!(!u||!d||!h)){if(this!==c&&this.layout&&h&&M_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||ti();const x=ss(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+x;const b=ss(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}Zo(u,d),I0(u,m),yh(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bL),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Fx("z",c,h,this.animationValues);for(let m=0;m<zx.length;m++)Fx(`rotate${zx[m]}`,c,h,this.animationValues),Fx(`skew${zx[m]}`,c,h,this.animationValues);c.render();for(const m in h)c.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wm(u==null?void 0:u.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!df(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let x=yL(this.projectionDeltaWithTransform,this.treeScale,m);d&&(x=d(m,x)),c.transform=x;const{x:b,y:g}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in nv){if(m[T]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:E}=nv[T],F=x==="none"?m[T]:w(m[T],h);if(_){const C=_.length;for(let L=0;L<C;L++)c[_[L]]=F}else E?this.options.visualElement.renderState.vars[T]=F:c[T]=F}this.options.layoutId&&(c.pointerEvents=h===this?Wm(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach($4),this.root.sharedNodes.clear()}}}function NL(e){e.updateLayout()}function _L(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,c=t.source!==e.layout.source;s==="size"?bo(x=>{const b=c?t.measuredBox[x]:t.layoutBox[x],g=ss(b);b.min=n[x].min,b.max=b.min+g}):M_(s,t.layoutBox,n)&&bo(x=>{const b=c?t.measuredBox[x]:t.layoutBox[x],g=ss(n[x]);b.max=b.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+g)});const u=P0();yh(u,n,t.layoutBox);const d=P0();c?yh(d,e.applyTransform(a,!0),t.measuredBox):yh(d,n,t.layoutBox);const h=!z_(u);let m=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:g}=x;if(b&&g){const T=ti();sp(T,t.layoutBox,b.layoutBox);const w=ti();sp(w,n,g.layoutBox),F_(T,w)||(m=!0),x.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=T,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function TL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function AL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function EL(e){e.clearSnapshot()}function $4(e){e.clearMeasurements()}function Y4(e){e.isLayoutDirty=!1}function jL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function X4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CL(e){e.resolveTargetDelta()}function kL(e){e.calcProjection()}function DL(e){e.resetSkewAndRotation()}function LL(e){e.removeLeadSnapshot()}function K4(e,t,r){e.translate=ha(t.translate,0,r),e.scale=ha(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Z4(e,t,r,n){e.min=ha(t.min,r.min,n),e.max=ha(t.max,r.max,n)}function zL(e,t,r,n){Z4(e.x,t.x,r.x,n),Z4(e.y,t.y,r.y,n)}function FL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OL={duration:.45,ease:[.4,0,.1,1]},J4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Q4=J4("applewebkit/")&&!J4("chrome/")?Math.round:So;function e3(e){e.min=Q4(e.min),e.max=Q4(e.max)}function RL(e){e3(e.x),e3(e.y)}function M_(e,t,r){return e==="position"||e==="preserve-aspect"&&!GD(q4(t),q4(r),.2)}function ML(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const IL=R_({attachResizeListener:(e,t)=>Oh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ox={current:void 0},I_=R_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ox.current){const e=new IL({});e.mount(window),e.setOptions({layoutScroll:!0}),Ox.current=e}return Ox.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),PL={pan:{Feature:iL},drag:{Feature:aL,ProjectionNode:I_,MeasureLayout:k_}};function t3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&aa.postRender(()=>s(t,c1(t)))}class BL extends Pu{mount(){const{current:t}=this.node;t&&(this.unmount=lk(t,(r,n)=>(t3(this.node,n,"Start"),a=>t3(this.node,a,"End"))))}unmount(){}}class UL extends Pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=s1(Oh(this.node.current,"focus",()=>this.onFocus()),Oh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&aa.postRender(()=>s(t,c1(t)))}class HL extends Pu{mount(){const{current:t}=this.node;t&&(this.unmount=dk(t,(r,n)=>(r3(this.node,n,"Start"),(a,{success:s})=>r3(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,Rx=new WeakMap,VL=e=>{const t=fv.get(e.target);t&&t(e)},GL=e=>{e.forEach(VL)};function qL({root:e,...t}){const r=e||document;Rx.has(r)||Rx.set(r,{});const n=Rx.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(GL,{root:e,...t})),n[a]}function WL(e,t,r){const n=qL(t);return fv.set(e,r),n.observe(e),()=>{fv.delete(e),n.unobserve(e)}}const $L={some:0,all:1};class YL extends Pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:$L[a]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),b=h?m:x;b&&b(d)};return WL(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(XL(t,r))&&this.startObserver()}unmount(){}}function XL({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const KL={inView:{Feature:YL},tap:{Feature:HL},focus:{Feature:UL},hover:{Feature:BL}},ZL={layout:{ProjectionNode:I_,MeasureLayout:k_}},JL={...ID,...KL,...PL,...ZL},dv=eD(JL,hD),QL={initial:{opacity:0,x:10},in:{opacity:1,x:0},out:{opacity:0,x:-10}},e9={type:"tween",ease:"anticipate",duration:.3},t9=({children:e})=>l.jsx(dv.div,{initial:"initial",animate:"in",exit:"out",variants:QL,transition:e9,style:{width:"100%",height:"100%"},children:e}),P_=W.createContext(void 0),r9=({children:e})=>{const[t,r]=W.useState(()=>{const x=typeof window<"u"?localStorage.getItem("temaOscuro"):null;return x==="true"||x===null}),[n,a]=W.useState(()=>typeof window>"u"?"azul":localStorage.getItem("temaColor")||"azul"),[s,c]=W.useState(()=>typeof window>"u"?!1:localStorage.getItem("altoContraste")==="true");W.useEffect(()=>{t?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark")),localStorage.setItem("temaOscuro",t.toString())},[t]),W.useEffect(()=>{document.documentElement.dataset.theme=n,localStorage.setItem("temaColor",n)},[n]),W.useEffect(()=>{document.documentElement.dataset.highContrast=s?"true":"false",localStorage.setItem("altoContraste",s.toString())},[s]);const u=()=>{r(x=>!x)},d=x=>{r(x)},h=x=>{a(x)},m=()=>{c(x=>!x)};return l.jsx(P_.Provider,{value:{isDark:t,themeName:n,highContrast:s,toggleTheme:u,setTheme:d,setThemeName:h,toggleHighContrast:m},children:e})},to=()=>{const e=W.useContext(P_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};var mt=(e=>(e.Home="Home",e.Turnos="Turnos",e.Carreras="Carreras",e.Gastos="Gastos",e.Estadisticas="Estadsticas",e.Informes="Informes",e.Configuracion="Configuracin",e.VistaCarreras="Vista Carreras",e.IntroducirCarrera="Introducir Carrera",e.EditarCarrera="Editar Carrera",e.EditarTurno="Editar Turno",e.Calendario="Calendario",e.CerrarTurno="Cerrar Turno",e.AjustesGenerales="Ajustes Generales",e.Backup="Backup",e.Recordatorios="Recordatorios",e.Resumen="Resumen",e.ResumenDiario="Resumen Diario",e.ResumenMensual="Resumen Mensual",e.ResumenMensualDetallado="Resumen Mensual Detallado",e.ResumenGastosMensual="Resumen de Gastos Mensual",e.EditarGasto="Editar Gasto",e.ResumenMensualIngresos="Resumen Mensual Ingresos",e.Historico="Histrico",e.ConfiguracionDescansos="Configuracin Descansos",e.AnalisisAvanzado="Anlisis Avanzado",e.EstacionTren="Estacin Tren",e.Aeropuerto="Aeropuerto",e.GestionDatos="Gestin de Datos",e.OtrosIngresos="Otros Ingresos",e.EditarOtroIngreso="Editar Otro Ingreso",e.Varios="Otros",e.Vales="Vales",e.ResumenAnualDetallado="Resumen Anual Detallado",e))(mt||{});const n9=(e,t)=>t.some(r=>e instanceof r);let n3,a3;function a9(){return n3||(n3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i9(){return a3||(a3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,hv=new WeakMap,U_=new WeakMap,Mx=new WeakMap,N5=new WeakMap;function s9(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",c)},s=()=>{r(Eu(e.result)),a()},c=()=>{n(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",c)});return t.then(r=>{r instanceof IDBCursor&&B_.set(r,e)}).catch(()=>{}),N5.set(t,e),t}function o9(e){if(hv.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",c),e.removeEventListener("abort",c)},s=()=>{r(),a()},c=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",c),e.addEventListener("abort",c)});hv.set(e,t)}let mv={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return hv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||U_.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Eu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function l9(e){mv=e(mv)}function c9(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Ix(this),t,...r);return U_.set(n,t.sort?t.sort():[t]),Eu(n)}:i9().includes(e)?function(...t){return e.apply(Ix(this),t),Eu(B_.get(this))}:function(...t){return Eu(e.apply(Ix(this),t))}}function u9(e){return typeof e=="function"?c9(e):(e instanceof IDBTransaction&&o9(e),n9(e,a9())?new Proxy(e,mv):e)}function Eu(e){if(e instanceof IDBRequest)return s9(e);if(Mx.has(e))return Mx.get(e);const t=u9(e);return t!==e&&(Mx.set(e,t),N5.set(t,e)),t}const Ix=e=>N5.get(e);function f9(e,t,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const c=indexedDB.open(e,t),u=Eu(c);return n&&c.addEventListener("upgradeneeded",d=>{n(Eu(c.result),d.oldVersion,d.newVersion,Eu(c.transaction),d)}),r&&c.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const d9=["get","getKey","getAll","getAllKeys","count"],h9=["put","add","delete","clear"],Px=new Map;function i3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Px.get(t))return Px.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=h9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||d9.includes(r)))return;const s=async function(c,...u){const d=this.transaction(c,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),a&&d.done]))[0]};return Px.set(t,s),s}l9(e=>({...e,get:(t,r,n)=>i3(t,r)||e.get(t,r,n),has:(t,r)=>!!i3(t,r)||e.has(t,r)}));const m9="tappxi-db",p9=4;let Bx;function u1(){return Bx||(Bx=f9(m9,p9,{upgrade(e,t){t<1&&(e.createObjectStore("carreras",{keyPath:"id"}),e.createObjectStore("gastos",{keyPath:"id"}),e.createObjectStore("turnos",{keyPath:"id"})),t<2&&(e.objectStoreNames.contains("proveedores")||e.createObjectStore("proveedores",{keyPath:"id"}),e.objectStoreNames.contains("conceptos")||e.createObjectStore("conceptos",{keyPath:"id"}),e.objectStoreNames.contains("talleres")||e.createObjectStore("talleres",{keyPath:"id"}),e.objectStoreNames.contains("reminders")||e.createObjectStore("reminders",{keyPath:"id"}),e.objectStoreNames.contains("customReports")||e.createObjectStore("customReports",{keyPath:"id"})),t<3&&(e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"}),e.objectStoreNames.contains("excepciones")||e.createObjectStore("excepciones",{keyPath:"id"}),e.objectStoreNames.contains("vales")||e.createObjectStore("vales",{keyPath:"id"})),t<4&&(e.objectStoreNames.contains("otrosIngresos")||e.createObjectStore("otrosIngresos",{keyPath:"id"}))}})),Bx}async function Wr(e,t,r){return(await u1()).put(e,r)}async function Aa(e,t){return(await u1()).get(e,t)}async function _o(e){return(await u1()).getAll(e)}async function Ds(e,t){return(await u1()).delete(e,t)}async function g9(e){const r=(await u1()).transaction(e,"readwrite");await r.objectStore(e).clear(),await r.done}const ad="customReports";function x9(e){return{id:e.id,nombre:e.nombre,descripcion:e.descripcion??"",filtros:e.filtros??{},tipoExportacion:e.tipoExportacion??"excel",agrupacion:e.agrupacion??"ninguna",createdAt:e.createdAt?new Date(e.createdAt):new Date,lastUsed:e.lastUsed?new Date(e.lastUsed):void 0}}const v9=async e=>{const t=crypto.randomUUID(),r={id:t,...e,createdAt:new Date().toISOString(),lastUsed:void 0};return await Wr(ad,t,r),t},Ym=async()=>(await _o(ad)).map(x9),b9=async e=>{await Ds(ad,e)},y9=async e=>{const t=await Aa(ad,e);if(!t)throw new Error("CustomReport not found");const r={...t,lastUsed:new Date().toISOString()};await Wr(ad,e,r)},w9=async(e,t=!1)=>{await Wr(ad,e.id,e),t||syncService.create("Informes",e)},gr=e=>{if(e==null)return 0;if(typeof e=="number")return e;let t=String(e).trim();return t?(t.includes(".")&&t.includes(",")&&(t=t.replace(/\./g,"")),t=t.replace(",","."),t=t.replace(/[^\d.-]/g,""),parseFloat(t)||0):0},ri=e=>{if(!e)return new Date;if(e instanceof Date)return isNaN(e.getTime())?new Date:e;let t=String(e).trim();if(!t||t==="")return new Date;const r=/^(\d{1,2})[/-](\d{1,2})[/-](\d{2,4})(?:\s+(\d{1,2}):(\d{1,2}))?/.exec(t);if(r){let[,a,s,c,u,d]=r,h=parseInt(c);h<100&&(h=h<=50?2e3+h:1900+h);const m=new Date(h,parseInt(s)-1,parseInt(a),Number(u||0),Number(d||0));if(!isNaN(m.getTime()))return m}let n=new Date(t);return isNaN(n.getTime())?new Date:n},H_=e=>({...e,taximetro:gr(e.taximetro),cobrado:gr(e.cobrado),fechaHora:ri(e.fechaHora),emisora:!!e.emisora,aeropuerto:!!e.aeropuerto,estacion:!!e.estacion}),V_=e=>({...e,importe:gr(e.importe),fecha:ri(e.fecha),baseImponible:gr(e.baseImponible),ivaImporte:gr(e.ivaImporte),ivaPorcentaje:gr(e.ivaPorcentaje),kilometros:gr(e.kilometros),kilometrosVehiculo:gr(e.kilometrosVehiculo),kmParciales:gr(e.kmParciales),litros:gr(e.litros),precioPorLitro:gr(e.precioPorLitro),descuento:gr(e.descuento)}),G_=e=>({...e,fechaInicio:ri(e.fechaInicio),fechaFin:e.fechaFin?ri(e.fechaFin):void 0,kilometrosInicio:gr(e.kilometrosInicio),kilometrosFin:e.kilometrosFin?gr(e.kilometrosFin):void 0,descansos:e.descansos?e.descansos.map(t=>({...t,fechaInicio:ri(t.fechaInicio),fechaFin:t.fechaFin?ri(t.fechaFin):void 0,kilometrosInicio:gr(t.kilometrosInicio),kilometrosFin:t.kilometrosFin?gr(t.kilometrosFin):void 0})):[]});async function q_(){const e=["carreras","gastos","turnos","proveedores","conceptos","talleres","reminders","customReports","excepciones","vales","otrosIngresos"];for(const t of e)await g9(t)}async function qi(){return(await _o("carreras")).map(H_)}async function W_(e){const t=await Aa("carreras",e);return t?H_(t):void 0}async function $_(e){const t=e.id??crypto.randomUUID();return await Wr("carreras",t,{...e,id:t}),t}async function Y_(e,t){const r=await Aa("carreras",e);if(!r)throw new Error("Carrera not found");const n={...r,...t};await Wr("carreras",e,n)}async function f1(e){await Ds("carreras",e)}async function id(e){const t=await qi(),r=new Date(e);r.setHours(0,0,0,0);const n=new Date(e);return n.setHours(23,59,59,999),t.filter(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);return s>=r&&s<=n})}async function Cs(){return(await _o("gastos")).map(V_)}async function X_(e){const t=await Aa("gastos",e);return t?V_(t):void 0}async function K_(e){const t=e.id??crypto.randomUUID();return await Wr("gastos",t,{...e,id:t}),{...e},e.servicios&&e.servicios.length>0,t}async function Z_(e,t){const r=await Aa("gastos",e);if(!r)throw new Error("Gasto not found");const n={...r,...t};await Wr("gastos",e,n)}async function _5(e){await Ds("gastos",e)}async function Vp(e){const t=await Cs(),r=new Date(e);r.setHours(0,0,0,0);const n=new Date(e);return n.setHours(23,59,59,999),t.filter(a=>{const s=a.fecha instanceof Date?a.fecha:new Date(a.fecha);return s>=r&&s<=n})}async function Oc(){return(await _o("turnos")).map(G_)}async function J_(e){const t=await Aa("turnos",e);return t?G_(t):void 0}async function Q_(e){const t=e.id??crypto.randomUUID();return await Wr("turnos",t,{...e,id:t}),t}async function e8(e,t){const r=await Aa("turnos",e);if(!r)throw new Error("Turno not found");await Wr("turnos",e,{...r,...t})}async function t8(e){const r=(await qi()).filter(n=>n.turnoId===e);for(const n of r)await f1(n.id);await Ds("turnos",e)}async function r8(e){const t=await Oc(),r=new Date(e);r.setHours(0,0,0,0);const n=r.toISOString().split("T")[0];return t.filter(a=>{const s=new Date(a.fechaInicio);return s.setHours(0,0,0,0),s.toISOString().split("T")[0]===n})}async function yf(e){return(await Oc()).sort((r,n)=>new Date(n.fechaInicio).getTime()-new Date(r.fechaInicio).getTime()).slice(0,e)}async function d1(){return(await Oc()).find(t=>!t.fechaFin)||null}async function h1(){return _o("proveedores")}async function n8(e){const t=e.id??crypto.randomUUID();return await Wr("proveedores",t,{...e,id:t}),t}async function a8(e,t){const r=await Aa("proveedores",e);if(!r)throw new Error("Proveedor not found");const n={...r,...t};await Wr("proveedores",e,n)}async function i8(e){await Ds("proveedores",e)}async function Gp(){return _o("conceptos")}async function s8(e){const t=e.id??crypto.randomUUID();return await Wr("conceptos",t,{...e,id:t}),t}async function o8(e,t){const r=await Aa("conceptos",e);if(!r)throw new Error("Concepto not found");const n={...r,...t};await Wr("conceptos",e,n)}async function l8(e){await Ds("conceptos",e)}async function m1(){return _o("talleres")}async function c8(e){const t=e.id??crypto.randomUUID();return await Wr("talleres",t,{...e,id:t}),t}async function u8(e,t){const r=await Aa("talleres",e);if(!r)throw new Error("Taller not found");const n={...r,...t};await Wr("talleres",e,n)}async function f8(e){await Ds("talleres",e)}async function d8(e,t){const r=await Aa("turnos",e);if(!r)throw new Error("Turno no encontrado");const n={...r,fechaFin:new Date,kilometrosFin:t};await Wr("turnos",e,n)}async function h8(e){const t=await Aa("turnos",e);if(!t)throw new Error("Turno no encontrado");const r={...t,fechaFin:void 0,kilometrosFin:void 0};await Wr("turnos",e,r)}async function T5(e,t){const r=await Aa("turnos",e);if(!r)throw new Error("Turno no encontrado");const n={id:crypto.randomUUID(),fechaInicio:new Date,kilometrosInicio:t},a={...r,descansos:[...r.descansos||[],n]};await Wr("turnos",e,a)}async function A5(e,t){const r=await Aa("turnos",e);if(!r)throw new Error("Turno no encontrado");const n=r.descansos||[],a=n.findIndex(u=>!u.fechaFin);if(a===-1)throw new Error("No hay descanso activo");const s=[...n];s[a]={...s[a],fechaFin:new Date,kilometrosFin:t};const c={...r,descansos:s};await Wr("turnos",e,c)}async function E5(){return _o("reminders")}async function m8(e){const t=e.id??crypto.randomUUID();return await Wr("reminders",t,{...e,id:t}),t}async function qp(e,t){const r=await Aa("reminders",e);if(!r)throw new Error("Reminder not found");const n={...r,...t};await Wr("reminders",e,n)}async function p8(e){await Ds("reminders",e)}async function p1(){return _o("otrosIngresos")}async function S9(e){return Aa("otrosIngresos",e)}async function g8(e){const t=e.id??crypto.randomUUID();return await Wr("otrosIngresos",t,{...e,id:t}),t}async function N9(e,t){const r=await Aa("otrosIngresos",e);if(!r)throw new Error("OtroIngreso not found");const n={...r,...t};await Wr("otrosIngresos",e,n)}async function x8(e){await Ds("otrosIngresos",e)}async function Bu(e,t){return(await p1()).filter(n=>{const a=n.fecha instanceof Date?n.fecha:new Date(n.fecha);return a>=e&&a<=t})}async function v8(e,t=!1){await Wr("otrosIngresos",e.id,e)}function b8(e,t){return E5().then(e).catch(r=>{console.error(r),t&&t(r)}),()=>{}}function g1(e,t){return Oc().then(r=>{const n=r.find(a=>!a.fechaFin)||null;e(n)}).catch(r=>{console.error(r),t&&t(r)}),()=>{}}function j5(e,t){return qi().then(e).catch(r=>{console.error(r),t&&t(r)}),()=>{}}function y8(e,t){return Cs().then(r=>{const n=r.reduce((a,s)=>a+(s.importe||0),0);e(n)}).catch(r=>{console.error(r),t&&t(r)}),()=>{}}async function md(e,t){const r=new Date(t,e,1),n=new Date(t,e+1,0,23,59,59,999);return Wp(r,n)}async function C5(e,t){const r=new Date(t,e,1),n=new Date(t,e+1,0,23,59,59,999);return Uu(r,n)}async function k5(e){const t=new Date(e,0,1),r=new Date(e,11,31,23,59,59,999),[n,a]=await Promise.all([Uu(t,r),Bu(t,r)]),s=new Array(12).fill(0);return n.forEach(c=>{const u=c.fechaHora instanceof Date?c.fechaHora:new Date(c.fechaHora),d=u.getMonth(),h=u.getFullYear();e===2025&&(d===10||d===11)&&console.log(`Carrera encontrada: ${u.toISOString()}, A?o: ${h}, Mes: ${d}, Cobrado: ${c.cobrado}`),s[d]+=c.cobrado||0}),a.forEach(c=>{const d=(c.fecha instanceof Date?c.fecha:new Date(c.fecha)).getMonth();s[d]+=c.importe||0}),e===2025&&console.log("Resumen 2025 - Nov:",s[10],"Dic:",s[11]),s}async function D5(e){const t=new Date(e,0,1),r=new Date(e,11,31,23,59,59,999),n=await Wp(t,r),a=new Array(12).fill(0);return n.forEach(s=>{const u=(s.fecha instanceof Date?s.fecha:new Date(s.fecha)).getMonth();a[u]+=s.importe||0}),a}async function w8(e){return(await qi()).sort((r,n)=>new Date(n.fechaHora).getTime()-new Date(r.fechaHora).getTime()).slice(0,e)}async function L5(e,t){const r=new Date(t,e,1),n=new Date(t,e+1,0,23,59,59,999);return(await Oc()).filter(s=>{const c=new Date(s.fechaInicio);return c>=r&&c<=n})}function S8(e,t,r,n){return md(e,t).then(r).catch(a=>{console.error(a),n&&n(a)}),()=>{}}async function pd(){return await Aa("settings","ajustes")||null}async function op(e,t=!1){if(await Wr("settings","ajustes",{...e,key:"ajustes"}),!t)for(const[r,n]of Object.entries(e));}async function z5(){return await Aa("settings","breakConfig")||null}async function F5(e,t=!1){await Wr("settings","breakConfig",{...e,key:"breakConfig"})}const _9={aceite:15e3,ruedas:4e4,filtros:15e3,frenos:3e4,inspeccion:5e4};async function O5(){return await Aa("settings","maintenanceIntervals")||_9}async function N8(e){await Wr("settings","maintenanceIntervals",{...e,key:"maintenanceIntervals"})}async function Rh(){return _o("vales")}async function R5(e){const t=e.id??crypto.randomUUID();return await Wr("vales",t,{...e,id:t}),t}async function _8(e,t){const r=await Aa("vales",e);if(!r)throw new Error("Vale directory entry not found");const n={...r,...t};await Wr("vales",e,n)}async function T8(e){await Ds("vales",e)}async function x1(){return _o("excepciones")}async function A8(e){const t=e.id??crypto.randomUUID();return await Wr("excepciones",t,{...e,id:t}),t}async function E8(e,t){const r=await Aa("excepciones",e);if(!r)throw new Error("Excepcion not found");const n={...r,...t};await Wr("excepciones",e,n)}async function j8(e){await Ds("excepciones",e)}async function C8(e,t=!1){await Wr("excepciones",e.id,e)}async function k8(e){const t=await x1(),r=e.toISOString().split("T")[0];return t.some(n=>{try{return(n.fecha instanceof Date?n.fecha:new Date(n.fecha)).toISOString().split("T")[0]===r}catch{return!1}})}async function D8(e,t=!1){await Wr("carreras",e.id,e)}async function L8(e,t=!1){await Wr("gastos",e.id,e),t||e.servicios&&e.servicios.length>0&&e.servicios.forEach(r=>{})}async function z8(e,t=!1){await Wr("turnos",e.id,e)}async function F8(e,t=!1){await Wr("proveedores",e.id,e)}async function O8(e,t=!1){await Wr("conceptos",e.id,e)}async function R8(e,t=!1){await Wr("talleres",e.id,e)}async function M8(e,t=!1){await Wr("vales",e.id,e)}async function I8(e,t=!1){await Wr("reminders",e.id,e)}async function P8(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999),[n,a]=await Promise.all([Uu(t,r),Bu(t,r)]),s=n.reduce((u,d)=>u+(d.cobrado||0),0),c=a.reduce((u,d)=>u+(d.importe||0),0);return s+c}async function B8(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return(await Wp(t,r)).reduce((a,s)=>a+(s.importe||0),0)}async function M5(e,t){const r=new Set;return(await qi()).forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);s>=e&&s<=t&&r.add(s.toISOString().split("T")[0])}),Array.from(r).map(a=>new Date(a))}async function Uu(e,t){return(await qi()).filter(n=>{const a=n.fechaHora instanceof Date?n.fechaHora:new Date(n.fechaHora);return a>=e&&a<=t})}async function U8(e){const t=["carreras","gastos","turnos","proveedores","conceptos","talleres","reminders","customReports","settings","excepciones","vales","otrosIngresos"],r=t.length;for(let n=0;n<r;n++){const a=t[n];e&&e({percentage:Math.round(n/r*100),message:`Eliminando ${a}...`});const s=await _o(a);for(const c of s){const u=c.id||c.key;u&&await Ds(a,u)}}e&&e({percentage:100,message:"Completado"})}async function Wp(e,t){return(await Cs()).filter(n=>{const a=n.fecha instanceof Date?n.fecha:new Date(n.fecha);return a>=e&&a<=t})}async function H8(e,t){const r=await Uu(e,t),n=new Array(24).fill(0);return r.forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);n[s.getHours()]+=a.cobrado||0}),n}async function V8(e,t){const r=await Uu(e,t),n=new Array(7).fill(0),a=new Array(7).fill(0),s=new Set;return r.forEach(c=>{const u=c.fechaHora instanceof Date?c.fechaHora:new Date(c.fechaHora);n[u.getDay()]+=c.cobrado||0,s.add(u.toISOString().split("T")[0])}),s.forEach(c=>{const u=new Date(c);a[u.getDay()]++}),n.map((c,u)=>a[u]>0?c/a[u]:0)}async function G8(e,t){const r=await Uu(e,t),n=new Array(7).fill(0);return r.forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);n[s.getDay()]+=a.cobrado||0}),n}async function pv(e,t){const r=new Date(t,e,1),n=new Date(t,e+1,0,23,59,59,999),[a,s]=await Promise.all([Uu(r,n),Bu(r,n)]),c=a.reduce((d,h)=>d+(h.cobrado||0),0),u=s.reduce((d,h)=>d+(h.importe||0),0);return c+u}async function gv(e,t){return(await md(e,t)).reduce((n,a)=>n+(a.importe||0),0)}async function xv(e){return(await k5(e)).reduce((r,n)=>r+n,0)}async function vv(e){return(await D5(e)).reduce((r,n)=>r+n,0)}async function I5(){const e=await Cs(),t=new Map,r=[];for(const c of e){const d=`${(c.fecha instanceof Date?c.fecha:new Date(c.fecha)).toISOString()}_${c.importe}_${(c.concepto||"").trim()}_${(c.proveedor||"").trim()}_${(c.taller||"").trim()}`;t.has(d)?r.push(c.id):t.set(d,c.id)}for(const c of r)await _5(c);const n=await qi(),a=new Map,s=[];for(const c of n){const d=`${(c.fechaHora instanceof Date?c.fechaHora:new Date(c.fechaHora)).toISOString()}_${c.cobrado}_${c.taximetro}_${c.formaPago}_${c.emisora}_${c.aeropuerto}`;a.has(d)?s.push(c.id):a.set(d,c.id)}for(const c of s)await f1(c);return{gastosRemoved:r.length,carrerasRemoved:s.length}}async function q8(e,t){const r=new Date(t,e,1),n=new Date(t,e+1,0,23,59,59,999),[a,s,c,u]=await Promise.all([Uu(r,n),Wp(r,n),Bu(r,n),L5(e,t)]);for(const d of a)await f1(d.id);for(const d of s)await Ds("gastos",d.id);for(const d of c)await x8(d.id);for(const d of u)await Ds("turnos",d.id)}const lp=Object.freeze(Object.defineProperty({__proto__:null,addCarrera:$_,addConcepto:s8,addExcepcion:A8,addGasto:K_,addOtroIngreso:g8,addProveedor:n8,addReminder:m8,addTaller:c8,addTurno:Q_,addValeDirectoryEntry:R5,cleanN:gr,clearAllData:q_,closeTurno:d8,deleteAllData:U8,deleteCarrera:f1,deleteConcepto:l8,deleteExcepcion:j8,deleteGasto:_5,deleteMonthlyData:q8,deleteOtroIngreso:x8,deleteProveedor:i8,deleteReminder:p8,deleteTaller:f8,deleteTurno:t8,deleteValeDirectoryEntry:T8,endBreak:A5,getActiveTurno:d1,getAjustes:pd,getBreakConfiguration:z5,getCarrera:W_,getCarreras:qi,getCarrerasByDate:id,getCarrerasByMonth:C5,getConceptos:Gp,getExcepciones:x1,getGasto:X_,getGastos:Cs,getGastosByDate:Vp,getGastosByMonth:md,getGastosByMonthYear:gv,getGastosByYear:D5,getGastosForCurrentMonth:B8,getIngresosByDayOfWeek:V8,getIngresosByHour:H8,getIngresosByMonthYear:pv,getIngresosByYear:k5,getIngresosForCurrentMonth:P8,getMaintenanceIntervals:O5,getOtroIngreso:S9,getOtrosIngresos:p1,getOtrosIngresosByDateRange:Bu,getProveedores:h1,getRecentCarreras:w8,getRecentTurnos:yf,getReminders:E5,getTalleres:m1,getTotalGastosByYear:vv,getTotalIngresosByDayOfWeek:G8,getTotalIngresosByYear:xv,getTurno:J_,getTurnos:Oc,getTurnosByDate:r8,getTurnosByMonth:L5,getValesDirectory:Rh,getWorkingDays:M5,isRestDay:k8,parseDate:ri,removeDuplicates:I5,reopenTurno:h8,restoreCarrera:D8,restoreConcepto:O8,restoreExcepcion:C8,restoreGasto:L8,restoreOtroIngreso:v8,restoreProveedor:F8,restoreReminder:I8,restoreTaller:R8,restoreTurno:z8,restoreValeDirectoryEntry:M8,saveAjustes:op,saveBreakConfiguration:F5,saveMaintenanceIntervals:N8,startBreak:T5,subscribeToActiveTurno:g1,subscribeToCarreras:j5,subscribeToGastos:y8,subscribeToGastosByMonth:S8,subscribeToReminders:b8,updateCarrera:Y_,updateConcepto:o8,updateExcepcion:E8,updateGasto:Z_,updateOtroIngreso:N9,updateProveedor:a8,updateReminder:qp,updateTaller:u8,updateTurno:e8,updateValeDirectoryEntry:_8},Symbol.toStringTag,{value:"Module"})),P5=e=>e.filter(t=>!t.completado),T9=e=>{const t=new Date;t.setHours(0,0,0,0);const r=t.toISOString().split("T")[0];return P5(e).filter(n=>{const a=new Date(n.fechaLimite);if(a.setHours(0,0,0,0),a.toISOString().split("T")[0]<=r)return!0;if(n.fechaRecordatorio){const c=new Date(n.fechaRecordatorio);if(c.setHours(0,0,0,0),c.toISOString().split("T")[0]<=r)return!0}return!1})},A9=e=>{const t=new Date,r=t.getHours(),n=t.getMinutes(),a=new Date;a.setHours(0,0,0,0);const s=a.toISOString().split("T")[0];return P5(e).filter(c=>{if(!c.sonidoActivo||!c.horaRecordatorio)return!1;const u=new Date(c.fechaLimite);if(u.setHours(0,0,0,0),u.toISOString().split("T")[0]===s){const[h,m]=c.horaRecordatorio.split(":").map(Number);if(Math.abs(r*60+n-(h*60+m))<=1){if(c.lastNotified){const b=new Date(c.lastNotified);if((t.getTime()-b.getTime())/(1e3*60)<5)return!1}return!0}}return!1})},E9=async e=>{const t={id:crypto.randomUUID(),...e,sonidoActivo:e.sonidoActivo??!1,completado:!1,createdAt:new Date().toISOString()};return await m8(t)},j9=async(e,t)=>{await qp(e,t)},C9=async e=>{await qp(e,{completado:!0,fechaCompletado:new Date().toISOString()})},k9=async e=>{await p8(e)},D9=(e,t)=>P5(t).filter(r=>r.tipo==="mantenimiento"&&r.kilometrosLimite?r.kilometrosLimite-e<=1e3:!1),L9=async e=>{await qp(e,{lastNotified:new Date().toISOString()})};let q0=null,s3="",W8=[],wh=null;const z9=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5),setTimeout(()=>{const n=e.createOscillator(),a=e.createGain();n.connect(a),a.connect(e.destination),n.frequency.value=800,n.type="sine",a.gain.setValueAtTime(.3,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),n.start(e.currentTime),n.stop(e.currentTime+.5)},600)}catch(e){console.error("Error reproduciendo sonido:",e),window.beep&&window.beep()}},o3=()=>{const e=new Date,t=`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`;if(t===s3)return;s3=t;const r=A9(W8);r.length>0&&(z9(),r.forEach(n=>{L9(n.id)}),"Notification"in window&&Notification.permission==="granted"&&r.forEach(n=>{new Notification(`Recordatorio: ${n.titulo}`,{body:n.descripcion||"Tienes un recordatorio pendiente",icon:"/pwa-192x192.png",tag:n.id})}))},F9=()=>{q0&&clearInterval(q0),wh||(wh=b8(e=>{W8=e})),setTimeout(()=>{o3()},2e3),q0=setInterval(()=>{o3()},6e4)},O9=()=>{q0&&(clearInterval(q0),q0=null),wh&&(wh(),wh=null)},R9=async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1,M9=["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/spreadsheets"].join(" ");let l3=null,cp=null;const I9=()=>!!cp,P9=()=>{const e=window.gapi;e!=null&&e.client&&e.client.setToken(null),cp=null,console.log("Sesin de Google cerrada")},B9=()=>{throw new Error(`Configuracin de Google incompleta en el servidor.

Asegrate de configurar VITE_GOOGLE_CLIENT_ID y VITE_GOOGLE_API_KEY en el entorno de desarrollo.`)},$8=async()=>{{console.warn("Google configuration missing. Cloud features will be unavailable.");return}},Hu=async()=>{B9(),await $8();const e=window.gapi,t=e.client.getToken();if(t){const r=(t.created||0)+(t.expires_in||3600)*1e3;if(Date.now()<r){const a=M9.split(" "),s=(t.scope||"").split(" ");if(a.every(u=>s.includes(u))){cp=t;return}}}return new Promise((r,n)=>{try{l3.callback=a=>{if(a.error!==void 0){console.error("Error en autenticacin Google:",a),n(a);return}if(console.log("Autenticacin Google exitosa"),a.access_token){const s={...a,created:Date.now()};e.client.setToken(s),cp=s}r(a)},l3.requestAccessToken({prompt:""})}catch(a){n(a)}})},U9=async e=>{await Hu();const t=window.gapi;try{const r=await t.client.request({path:"/drive/v3/files",method:"GET",params:{q:e,fields:"files(id, name, createdTime, mimeType)",orderBy:"createdTime desc"}});return!r||!r.result||!r.result.files?[]:r.result.files}catch(r){throw console.error("Error listFiles",r),r}},H9=async e=>{await Hu();const t=window.gapi;try{const r=await t.client.request({path:`/drive/v3/files/${e}`,method:"GET",params:{alt:"media"}});if(!r||!r.body)throw new Error("No se pudo descargar el contenido del archivo.");try{return JSON.parse(r.body)}catch{return r.body}}catch(r){throw console.error("Error getFileContent",r),r}},V9=async(e,t)=>{await Hu();const r=window.gapi,n={properties:{title:e},sheets:t.map(a=>({properties:{title:a}}))};try{const a=await r.client.sheets.spreadsheets.create({},n);if(!a||!a.result||!a.result.spreadsheetId)throw new Error("No se recibi respuesta vlida de Google Sheets.");return{spreadsheetId:a.result.spreadsheetId}}catch(a){throw console.error("Error createSpreadsheetWithSheets",a),a}},G9=async(e,t,r)=>{await Hu();const n=window.gapi;if(!(!r||r.length===0))try{const a=await n.client.sheets.spreadsheets.values.update({spreadsheetId:e,range:`${t}!A1`,valueInputOption:"RAW",resource:{values:r}});if(!a||!a.result)throw new Error(`No se recibi respuesta vlida al escribir en la hoja "${t}"`)}catch(a){throw console.error("Error writeSheetValues",a),a}},q9=async(e,t)=>{await Hu();const r=window.gapi;try{const n=await r.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:t});return!n||!n.result||!n.result.values?[]:n.result.values}catch(n){throw console.error("Error readSheetValues",n),n}},W9=async e=>{await Hu();const t=window.gapi;try{return(await t.client.sheets.spreadsheets.get({spreadsheetId:e})).result}catch(r){throw console.error("Error getting spreadsheet details:",r),r}},vb=class vb{static setToastHandler(t){this.toastHandler=t}static handle(t,r){const n={message:this.getErrorMessage(t),code:t==null?void 0:t.code,context:r,originalError:t};return console.error("Error Handler:",{message:n.message,code:n.code,context:n.context,error:t,timestamp:new Date().toISOString()}),this.toastHandler?this.toastHandler(n.message,"error"):console.warn("Toast handler no configurado, usando console.error"),n}static handleSuccess(t){this.toastHandler&&this.toastHandler(t,"success")}static handleWarning(t){this.toastHandler&&this.toastHandler(t,"warning")}static handleInfo(t){this.toastHandler&&this.toastHandler(t,"info")}static getErrorMessage(t){var r,n;return typeof t=="string"?t:t!=null&&t.message?t.message:(n=(r=t==null?void 0:t.response)==null?void 0:r.data)!=null&&n.message?t.response.data.message:"Ha ocurrido un error inesperado. Por favor, intenta de nuevo."}static async handleAsync(t,r,n,a){try{const s=await t();return n&&n(s),s}catch(s){const c=this.handle(s,r);return a&&a(c),null}}};vb.toastHandler=null;let sl=vb;const Y8=W.createContext(void 0),$9=({children:e})=>{const[t,r]=W.useState([]),n=W.useCallback((s,c="info")=>{const u=Math.random().toString(36).substr(2,9),d={id:u,message:s,type:c,duration:3e3};r(h=>[...h,d]),setTimeout(()=>{r(h=>h.filter(m=>m.id!==u))},d.duration)},[]),a=W.useCallback(s=>{r(c=>c.filter(u=>u.id!==s))},[]);return l.jsxs(Y8.Provider,{value:{showToast:n},children:[e,l.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(s=>l.jsx(Y9,{toast:s,onClose:()=>a(s.id)},s.id))})]})},Y9=({toast:e,onClose:t})=>{const{isDark:r}=to(),a={success:{bg:r?"bg-green-600":"bg-green-500",text:"text-white",icon:""},error:{bg:r?"bg-red-600":"bg-red-500",text:"text-white",icon:""},warning:{bg:r?"bg-yellow-600":"bg-yellow-500",text:"text-white",icon:""},info:{bg:r?"bg-blue-600":"bg-blue-500",text:"text-white",icon:""}}[e.type];return l.jsxs("div",{className:`${a.bg} ${a.text} px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 min-w-[300px] animate-slide-in-right border-l-4 ${e.type==="success"?"border-green-700":e.type==="error"?"border-red-700":e.type==="warning"?"border-yellow-700":"border-blue-700"}`,role:"alert","aria-live":"polite",children:[l.jsx("span",{className:"text-xl font-bold",children:a.icon}),l.jsx("span",{className:"flex-1 font-medium",children:e.message}),l.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 font-bold text-xl leading-none","aria-label":"Cerrar notificacin",children:""})]})},To=()=>{const e=W.useContext(Y8);if(!e)throw new Error("useToast must be used within ToastProvider");return e},X9=({children:e})=>{const{showToast:t}=To();return W.useEffect(()=>{sl.setToastHandler(t)},[t]),l.jsx(l.Fragment,{children:e})};function K9(e,t=!0){W.useEffect(()=>{if(!t)return;const r=n=>{e.forEach(a=>{const s=a.ctrlKey!==void 0?a.ctrlKey?n.ctrlKey:!n.ctrlKey:!0,c=a.metaKey!==void 0?a.metaKey?n.metaKey:!n.metaKey:!0,u=a.shiftKey===void 0?!0:a.shiftKey===n.shiftKey,d=n.key.toLowerCase()===a.key.toLowerCase(),h=a.ctrlKey||a.metaKey?n.ctrlKey||n.metaKey:!n.ctrlKey&&!n.metaKey;s&&c&&u&&d&&h&&(n.preventDefault(),a.action())})};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,t])}const Z9="modulepreload",J9=function(e){return"/TAppXI-Basic/"+e},c3={},ju=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(h=>{if(h=J9(h),h in c3)return;c3[h]=!0;const m=h.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":Z9,m||(b.as="script"),b.crossOrigin="",b.href=h,d&&b.setAttribute("nonce",d),document.head.appendChild(b),m)return new Promise((g,T)=>{b.addEventListener("load",g),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},sd=({size:e="md",className:t="",text:r})=>{const{isDark:n}=to(),a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},s=n?"border-zinc-600":"border-zinc-300",c=n?"border-cyan-400":"border-blue-600";return l.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[l.jsx("div",{className:`${a[e]} ${s} ${c} border-4 border-t-4 rounded-full animate-spin`,role:"status","aria-label":"Cargando",children:l.jsx("span",{className:"sr-only",children:"Cargando..."})}),r&&l.jsx("p",{className:`mt-2 text-sm ${n?"text-zinc-400":"text-zinc-600"}`,children:r})]})},Q9=async(e=new Date().getDay())=>{try{const r=(await yf(50)).filter(d=>(d.fechaInicio instanceof Date?d.fechaInicio:new Date(d.fechaInicio)).getDay()===e);if(r.length<3)return null;const n=r.map(d=>{if(!d.fechaFin)return null;const h=d.fechaInicio instanceof Date?d.fechaInicio:new Date(d.fechaInicio);return((d.fechaFin instanceof Date?d.fechaFin:new Date(d.fechaFin)).getTime()-h.getTime())/(1e3*60*60)<1?null:{startHour:h.getHours(),date:h}}).filter(d=>d!==null),a={};n.forEach(d=>{const h=d.startHour;a[h]=(a[h]||0)+1});let s=-1,c=0;Object.entries(a).forEach(([d,h])=>{h>c&&(c=h,s=parseInt(d))});const u=["domingos","lunes","martes","mircoles","jueves","viernes","sbados"];return{suggestedStart:`${s.toString().padStart(2,"0")}:00`,reason:`Basado en tus ltimos ${r.length} ${u[e]}`,projectedEarnings:0,confidence:r.length>5?"high":"medium"}}catch(t){return console.error("Error analyzing shifts:",t),null}},ez=()=>{const{isDark:e}=to(),[t,r]=W.useState(null),[n,a]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const c=new Date,u=c.getHours(),d=c.getDay(),h=u>=15?(d+1)%7:d,m=await Q9(h);r(m)}finally{a(!1)}})()},[]),n||!t?null:l.jsxs("div",{className:`${e?"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 border-indigo-500/30":"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200"} border rounded-xl p-4 mb-4 relative overflow-hidden`,children:[l.jsx("div",{className:"absolute -right-4 -bottom-4 text-9xl opacity-5 select-none pointer-events-none",children:""}),l.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-bold text-lg ${e?"text-indigo-200":"text-indigo-900"}`,children:"Sugerencia de Jornada"}),l.jsxs("p",{className:`text-sm ${e?"text-indigo-300/80":"text-indigo-800/80"}`,children:[t.reason,", deberas empezar a las ",l.jsx("span",{className:"font-bold underline",children:t.suggestedStart})," para maximizar ingresos."]})]}),l.jsx("div",{className:"hidden sm:block",children:l.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${e?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:"Ver Estadsticas"})})]})]})},tz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"})}),rz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),nz=({onQuickAction:e})=>l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs(dv.button,{whileTap:{scale:.95},onClick:()=>e("minima"),className:"glass-card py-2 px-3 rounded-xl flex items-center space-x-3 hover:bg-white/5 transition-colors group",children:[l.jsx("div",{className:"bg-yellow-500/20 p-1.5 rounded-lg text-yellow-400 group-hover:text-yellow-300",children:l.jsx(tz,{})}),l.jsx("div",{className:"text-left",children:l.jsx("p",{className:"text-sm font-medium text-zinc-200",children:"Carrera Mnima"})})]}),l.jsxs(dv.button,{whileTap:{scale:.95},onClick:()=>e("aeropuerto"),className:"glass-card py-2 px-3 rounded-xl flex items-center space-x-3 hover:bg-white/5 transition-colors group",children:[l.jsx("div",{className:"bg-blue-500/20 p-1.5 rounded-lg text-blue-400 group-hover:text-blue-300",children:l.jsx(rz,{})}),l.jsx("div",{className:"text-left",children:l.jsx("p",{className:"text-sm font-medium text-zinc-200",children:"Aeropuerto"})})]})]}),u3=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),l.jsx("polyline",{points:"17 6 23 6 23 12"})]}),f3=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),l.jsx("polyline",{points:"17 18 23 18 23 12"})]}),az=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),l.jsx("path",{d:"M20 10v4"}),l.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),iz=()=>l.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M4 11h16l-1.5-5A2 2 0 0 0 16.61 4H7.39A2 2 0 0 0 5.5 6z"}),l.jsx("path",{d:"M6 11v9"}),l.jsx("path",{d:"M18 11v9"}),l.jsx("path",{d:"M2 16h20"}),l.jsx("path",{d:"M7 16v5"}),l.jsx("path",{d:"M17 16v5"})]}),sz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]}),oz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),lz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),l.jsx("path",{d:"M9 16l4-4-4-4"})]}),d3=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),cz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),l.jsx("line",{x1:"14",y1:"15",x2:"14",y2:"9"})]}),uz=()=>l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 3v18h18"}),l.jsx("path",{d:"M18 17V9"}),l.jsx("path",{d:"M13 17V5"}),l.jsx("path",{d:"M8 17v-3"})]}),fz=()=>l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),l.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),dz=()=>l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),l.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),l.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),hz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),mz=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"1"}),l.jsx("circle",{cx:"12",cy:"5",r:"1"}),l.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),h3=({navigateTo:e,onQuickAction:t})=>{const r=k=>{if(!k)return new Date;if(k instanceof Date)return isNaN(k.getTime())?new Date:k;const D=new Date(k);return isNaN(D.getTime())?new Date:D},{isDark:n}=to(),[a,s]=W.useState(null),[c,u]=W.useState([]),[d,h]=W.useState(0),[m,x]=W.useState(0),[b,g]=W.useState(!0),[T,w]=W.useState(100),[_,E]=W.useState(0),[F,C]=W.useState(0),[L,X]=W.useState([]);W.useEffect(()=>{const k=g1(async D=>{if(D&&!D.numero){const M=new Date(D.fechaInicio);M.setHours(0,0,0,0);const{getTurnosByDate:q}=await ju(async()=>{const{getTurnosByDate:ye}=await Promise.resolve().then(()=>lp);return{getTurnosByDate:ye}},void 0),de=(await q(M)).sort((ye,Ce)=>new Date(ye.fechaInicio).getTime()-new Date(Ce.fechaInicio).getTime()).findIndex(ye=>ye.id===D.id);D.numero=de>=0?de+1:1}s(D)});return()=>k()},[]),W.useEffect(()=>{const k=j5(D=>u(D));return()=>k()},[]),W.useEffect(()=>{(async()=>{try{g(!0);const[D,M,q]=await Promise.all([P8(),B8(),pd()]);h(D);const Q=Array.isArray(M)?M.reduce((Ze,Oe)=>Ze+(Number(Oe.importe)||0),0):Number(M)||0;x(Q);const me=(q==null?void 0:q.objetivoDiario)||parseFloat(localStorage.getItem("objetivoDiario")||"100");w(me);const de=new Date;de.setHours(0,0,0,0);const ye=new Date(de);ye.setDate(de.getDate()+1);const[Ce,Ve]=await Promise.all([id(de),Bu(de,ye)]),Be=Ce.reduce((Ze,Oe)=>Ze+(Oe.cobrado||0),0)+Ve.reduce((Ze,Oe)=>Ze+(Oe.importe||0),0);E(Be);const ae=new Date(de);ae.setDate(ae.getDate()-14);const he=await M5(ae,new Date(de.getTime()-1));if(he.length>0){const Ze=await Promise.all(he.slice(-7).map(async Qe=>(await id(Qe)).reduce((ct,rt)=>ct+(rt.cobrado||0),0))),Oe=Ze.reduce((Qe,Ue)=>Qe+Ue,0)/Ze.length;C(Oe)}}catch(D){console.error("Error fetching home screen ",D)}finally{g(!1)}})()},[]);const[I,U]=W.useState([]);W.useEffect(()=>{let k;return(async()=>{try{k=(await ju(()=>Promise.resolve().then(()=>lp),void 0)).subscribeToReminders(q=>{U(q)})}catch(M){console.error("Error importing api for reminders:",M)}})(),()=>{k&&k()}},[]),W.useEffect(()=>{const k=T9(I);if(a&&a.kilometrosInicio){const D=D9(a.kilometrosInicio,I),M=new Set(k.map(q=>q.id));D.forEach(q=>{M.has(q.id)||k.push(q)})}X(k)},[a,I]);const K=W.useMemo(()=>a?c.filter(k=>k.turnoId===a.id):[],[c,a]),H=W.useMemo(()=>K.reduce((k,D)=>k+(D.cobrado||0),0),[K]),oe=d-m,O=W.useMemo(()=>{var k;return(k=a==null?void 0:a.descansos)==null?void 0:k.find(D=>!D.fechaFin)},[a]),R=[{label:"Ingresos",icon:l.jsx(u3,{}),action:()=>e(a?mt.VistaCarreras:mt.Turnos)},{label:"Gastos",icon:l.jsx(f3,{}),action:()=>e(mt.Gastos)},{label:"Histrico",icon:l.jsx(sz,{}),action:()=>e(mt.Historico)},{label:"Estadsticas",icon:l.jsx(uz,{}),action:()=>e(mt.Estadisticas)},{label:"Anlisis",icon:l.jsx(fz,{}),action:()=>e(mt.AnalisisAvanzado)},{label:"Calendario",icon:l.jsx(oz,{}),action:()=>e(mt.Calendario)},{label:"Resumen",icon:l.jsx(dz,{}),action:()=>e(mt.Resumen)},{label:"Informes",icon:l.jsx(lz,{}),action:()=>e(mt.Informes)},{label:"Recordatorios",icon:l.jsx(hz,{}),action:()=>e(mt.Recordatorios)},{label:"Ajustes",icon:l.jsx(d3,{}),action:()=>e(mt.AjustesGenerales)},{label:"Otros",icon:l.jsx(mz,{}),action:()=>e(mt.Varios)}],V=k=>`${(Number(k)||0).toFixed(2).replace(".",",")} `,le=new Date().toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),Z=le.charAt(0).toUpperCase()+le.slice(1),ie=({icon:k,label:D,onClick:M})=>l.jsxs("button",{onClick:M,className:`flex flex-col items-center justify-center py-1.5 rounded-xl transition-colors duration-200 group ${n?"bg-zinc-800 hover:bg-zinc-700 border border-zinc-700":"bg-zinc-200 hover:bg-zinc-300 border border-zinc-300"}`,children:[l.jsx("div",{className:`mb-1 transition-colors ${n?"text-cyan-400 group-hover:text-cyan-300":"text-blue-600 group-hover:text-blue-700"}`,children:k}),l.jsx("span",{className:`text-xs font-semibold text-center leading-tight w-full px-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:D})]}),J=n?"linear-gradient(180deg, #08A8D7 0%, #072639 28%, #090B13 100%)":"linear-gradient(180deg, #60A5FA 0%, #E0E7FF 28%, #F3F4F6 100%)",Y=n?"#E6F1FF":"#1F2937",se=n?"#0A0D14":"#FFFFFF",P=n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.1)",N=n?"#0A0D14":"#F9FAFB";return l.jsx("div",{className:"min-h-screen px-2 py-4 font-sans",style:{background:J,color:Y},children:b?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(sd,{text:"Cargando datos...",size:"lg"})}):l.jsxs("div",{className:"space-y-3 max-w-xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:`flex items-center gap-2 ${n?"text-cyan-400":"text-blue-600"}`,children:[l.jsx("span",{className:"block",children:l.jsx(iz,{})}),l.jsx("span",{className:"text-2xl font-extrabold tracking-wide",children:"TAppXI"})]}),l.jsx("button",{onClick:()=>e(mt.AjustesGenerales),className:`p-2 rounded-full transition-colors ${n?"bg-black/20 text-cyan-400 hover:bg-black/30":"bg-white/80 text-blue-600 hover:bg-white/90"}`,"aria-label":"Ir a ajustes",children:l.jsx(d3,{})})]}),l.jsx(nz,{onQuickAction:t}),L.length>0&&l.jsx("div",{className:"rounded-2xl p-4 shadow-xl border-2",style:{backgroundColor:"#FEF3C7",borderColor:"#F59E0B"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-bold text-zinc-900 mb-1",children:[L.length," Recordatorio",L.length>1?"s":""," Pendiente",L.length>1?"s":""]}),l.jsxs("div",{className:"space-y-1 mb-2",children:[L.slice(0,3).map(k=>l.jsxs("p",{className:"text-sm text-zinc-800",children:[" ",k.titulo,k.tipo==="mantenimiento"&&k.kilometrosLimite&&l.jsxs("span",{className:"text-zinc-600",children:[" (",k.kilometrosLimite," km)"]})]},k.id)),L.length>3&&l.jsxs("p",{className:"text-sm text-zinc-600",children:["y ",L.length-3," ms..."]})]}),l.jsx("button",{onClick:()=>e(mt.Recordatorios),className:"text-sm font-semibold text-zinc-900 underline hover:no-underline",children:"Ver todos los recordatorios "})]})]})}),l.jsx("div",{className:"flex gap-2 w-full",children:[{label:"Ingresos",value:V(d),color:n?"#00D4FF":"#2563EB",icon:l.jsx(u3,{})},{label:"Gastos",value:V(m),color:n?"#FF3DD0":"#DC2626",icon:l.jsx(f3,{})},{label:"Balance",value:V(oe),color:n?"#00FF94":"#16A34A",icon:l.jsx(az,{})}].map(k=>l.jsxs("div",{className:"flex-1 min-w-0 rounded-xl px-2 py-1 flex flex-col items-center gap-1 shadow-lg",style:{backgroundColor:se,borderColor:P,borderWidth:"1px",borderStyle:"solid"},children:[l.jsx("div",{className:"w-8 h-5 rounded-lg flex items-center justify-center",style:{backgroundColor:N,color:k.color},children:k.icon}),l.jsx("p",{className:"text-[14px] uppercase tracking-wide",style:{color:k.color},children:k.label}),l.jsx("p",{className:"text-[17px] tracking-tight",style:{color:k.color},children:k.value})]},k.label))}),(()=>{const k=T>0?Math.min(_/T*100,100):0,D=_-T,M=F>0?(_-F)/F*100:0;let q,Q,me;return k>=100?(q=n?"#00FF94":"#16A34A",Q="",me="Objetivo alcanzado"):k>=75?(q=n?"#FBBF24":"#F59E0B",Q="",me="Buen progreso"):k>=50?(q=n?"#FB923C":"#F97316",Q="",me="Progreso regular"):(q=n?"#EF4444":"#DC2626",Q="",me="Por debajo del objetivo"),l.jsxs("div",{className:"rounded-2xl p-3 shadow-xl",style:{backgroundColor:se,borderColor:P,borderWidth:"1px",borderStyle:"solid"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:Q}),l.jsx("h3",{className:`text-base font-bold ${n?"text-zinc-100":"text-zinc-900"}`,children:"Progreso del Da"})]}),l.jsx("span",{className:"text-sm font-semibold px-2 py-1 rounded-lg",style:{backgroundColor:q+"20",color:q},children:me})]}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("span",{className:`text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:[V(_)," / ",V(T)]}),l.jsxs("span",{className:"text-sm font-bold",style:{color:q},children:[k.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full h-3 rounded-full overflow-hidden",style:{backgroundColor:n?"#1A1A1F":"#E5E7EB"},children:l.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${k}%`,backgroundColor:q}})})]}),l.jsxs("div",{className:"space-y-1.5",children:[D>=0?l.jsxs("p",{className:`text-sm ${n?"text-green-400":"text-green-600"}`,children:[" Has superado el objetivo por ",V(Math.abs(D))]}):l.jsxs("p",{className:`text-sm ${n?"text-orange-400":"text-orange-600"}`,children:[" Te faltan ",V(Math.abs(D))," para el objetivo"]}),F>0&&l.jsxs("div",{className:"flex items-center justify-between pt-1 border-t",style:{borderColor:P},children:[l.jsx("span",{className:`text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:"Promedio ltimos das:"}),l.jsxs("span",{className:`text-xs font-semibold ${M>=0?n?"text-green-400":"text-green-600":n?"text-red-400":"text-red-600"}`,children:[V(F),M!==0&&l.jsxs("span",{children:[" (",M>=0?"+":"",M.toFixed(1),"%)"]})]})]})]}),a&&l.jsxs("div",{className:"mt-2 pt-2 border-t",style:{borderColor:P},children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:`text-sm font-bold tracking-wide uppercase ${n?"text-cyan-400":"text-blue-600"}`,children:`Turno ${a.numero??1}`}),O&&l.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-full font-black animate-pulse shadow-[0_0_8px_rgba(249,115,22,0.4)]",children:"EN PAUSA"})]}),l.jsx("p",{className:`uppercase tracking-wide text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:r(a.fechaInicio).toLocaleDateString("es-ES",{weekday:"short",day:"2-digit",month:"short"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Total turno"}),l.jsx("p",{className:`text-xl font-bold mt-1 ${n?"text-green-400":"text-green-600"}`,children:V(H)})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3 text-sm",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Kms Inic."}),l.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:a.kilometrosInicio})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"H. Inicio"}),l.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:r(a.fechaInicio).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Carreras"}),l.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:K.length})]})]}),l.jsx("button",{onClick:()=>e(mt.VistaCarreras),className:`w-full py-2 rounded-xl font-semibold text-sm shadow-md hover:opacity-95 transition-opacity ${n?"bg-gradient-to-r from-green-400 to-cyan-400 text-zinc-900":"bg-gradient-to-r from-green-500 to-blue-500 text-white"}`,children:"Ver Detalles"})]})]})})(),!a&&l.jsxs("div",{className:"rounded-2xl p-3 shadow-xl text-center",style:{backgroundColor:se,borderColor:P,borderWidth:"1px",borderStyle:"solid"},children:[l.jsx("div",{className:`mx-auto mb-4 w-12 h-12 rounded-full flex items-center justify-center ${n?"bg-purple-900/50 text-pink-400":"bg-purple-100 text-pink-600"}`,children:l.jsx(cz,{})}),l.jsx("p",{className:`text-base font-semibold mb-1 ${n?"text-cyan-400":"text-blue-600"}`,children:Z}),l.jsx("h3",{className:`font-bold text-base tracking-wide mb-2 uppercase ${n?"text-pink-400":"text-pink-600"}`,children:"NO HAY TURNO ACTIVO"}),l.jsx("p",{className:`text-sm leading-relaxed ${n?"text-zinc-300":"text-zinc-700"}`,children:"Inicia un nuevo turno para comenzar"})]}),!a&&l.jsx(ez,{}),l.jsx("div",{className:"grid grid-cols-3 gap-1",children:R.map((k,D)=>l.jsx(ie,{icon:k.icon,label:k.label,onClick:k.action},D))})]})})},pz=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),gz=({navigateTo:e,onClick:t,targetPage:r=mt.Home,className:n="p-2 text-zinc-300 hover:text-white transition-colors"})=>{const a=()=>{t?t():e&&e(r)};return l.jsx("button",{onClick:a,className:n,"aria-label":"Volver",children:l.jsx(pz,{})})},ia=({title:e,navigateTo:t,onBack:r,backTarget:n=mt.Home,showBack:a=!0,rightSlot:s,className:c=""})=>{const u=()=>{r?r():t&&t(n)},d=s??l.jsx("div",{className:"w-6"});return l.jsxs("div",{className:`bg-yellow-400 text-zinc-900 rounded-lg px-3 py-1.5 flex items-center gap-2 ${c}`,children:[a?l.jsx(gz,{onClick:u,className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors"}):l.jsx("div",{className:"w-6"}),l.jsx("h1",{className:"flex-1 text-center font-bold text-base leading-tight",children:e}),l.jsx("div",{className:"flex items-center justify-end min-w-[24px]",children:d})]})},xz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C21.27 7.61 17 4.5 12 4.5zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),vz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}),Sm=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1s.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77C18.09 17.91 16.61 18.5 15 18.5z"})}),bz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),yz=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[l.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),l.jsx("path",{d:"M11.5 14.5h-1v-1h-1c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h2v-1h-3v-1.5h3v-1h1v1h1c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-2v1h3v1.5h-3v1z"})]}),wz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",fill:"currentColor",className:e,children:l.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2h-2v2h2V4zM9 18H4v-2h5v2zm0-4H4v-2h5v2zm0-4H4V8h5v2zm7 8h-5v-2h5v2zm0-4h-5v-2h5v2zm0-4h-5V8h5v2z"})}),m3=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"-50 -960 1060 960",width:"24px",fill:"currentColor",className:e,style:{overflow:"visible"},children:l.jsx("path",{d:"M196-276q-57-60-86.5-133T80-560q0-78 29.5-151T196-844l48 48q-48 48-72 110.5T148-560q0 63 24 125.5T244-324l-48 48Zm96-96q-39-39-59.5-88T212-560q0-51 20.5-100t59.5-88l48 48q-30 27-45 64t-15 76q0 36 15 73t45 67l-48 48ZM280-80l135-405q-16-14-25.5-33t-9.5-42q0-42 29-71t71-29q42 0 71 29t29 71q0 23-9.5 42T545-485L680-80h-80l-26-80H387l-27 80h-80Zm133-160h134l-67-200-67 200Zm255-132-48-48q30-27 45-64t15-76q0-36-15-73t-45-67l48-48q39 39 58 88t22 100q0 51-20.5 100T668-372Zm96 96-48-48q48-48 72-110.5T812-560q0-63-24-125.5T716-796l48-48q57 60 86.5 133T880-560q0 78-28 151t-88 133Z"})}),Sz=({className:e,title:t})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,role:"img","aria-label":t,children:[l.jsx("title",{children:t}),l.jsx("path",{d:"M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"})]}),Nz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5h1.5l1.5-1.5h4.5L15 20.5h1.5L15 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-4-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z"})}),_z=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),Tz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})}),Az=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),Ez=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),jz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),Cz=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M8 5v14l11-7z"})}),kz=({label:e,...t})=>{const{isDark:r}=to();return l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:e}),l.jsx("input",{...t,className:`w-full py-2 px-3 border transition-all rounded-xl text-sm font-bold ${r?"bg-zinc-800 border-zinc-700 text-cyan-400 focus:border-cyan-500":"bg-zinc-100 border-zinc-200 text-blue-600 focus:border-blue-400"} outline-none`})]})},cf=({title:e,value:t})=>l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("p",{className:"text-sm text-zinc-400",children:e}),l.jsx("p",{className:"font-semibold text-base text-zinc-100",children:t})]}),p3=({title:e,value:t,valueNumeric:r})=>{let n=e,a="text-zinc-100";return e.toLowerCase()==="pendiente"?r<0?(n="Excede",a="text-emerald-400"):r>0?(n="Faltan",a="text-red-400"):(n="Pendiente",a="text-zinc-100"):a="text-emerald-400",l.jsxs("div",{className:"bg-zinc-900 dark:bg-zinc-900 bg-white border border-zinc-800 dark:border-zinc-800 border-zinc-200 rounded-lg p-1.5 flex-1 flex flex-col justify-center items-center text-center",children:[l.jsx("p",{className:"text-lg font-bold text-zinc-100 dark:text-zinc-100 text-zinc-900",children:n}),l.jsx("p",{className:`text-2xl font-bold ${a}`,children:t})]})},Dz=({navigateTo:e,navigateToEditRace:t})=>{var M;const{isDark:r}=to(),[n,a]=W.useState(!1),[s,c]=W.useState([]),[u,d]=W.useState(0),[h,m]=W.useState(null),[x,b]=W.useState(new Date),[g,T]=W.useState(!0),[w,_]=W.useState(null),[E,F]=W.useState(100),{showToast:C}=To(),[L,X]=W.useState(!1),[I,U]=W.useState(""),[K,H]=W.useState(!0),oe=async()=>{if(!I)return;const q=parseFloat(I);if(isNaN(q)){C("Ingresa un valor numrico vlido","warning");return}try{K?(await T5(h.id,q),C("Pausa iniciada","success")):(await A5(h.id,q),C("Pausa terminada","success")),X(!1),U("")}catch{C("Error al procesar la pausa","error")}},O=(M=h==null?void 0:h.descansos)==null?void 0:M.find(q=>!q.fechaFin),R=q=>{if(!q)return new Date;if(q instanceof Date)return isNaN(q.getTime())?new Date:q;const Q=new Date(q);return isNaN(Q.getTime())?new Date:Q},[V,re]=W.useState([]);W.useEffect(()=>{T(!0),_(null);const q=j5(Q=>{re(Q),T(!1),_(null)},Q=>{console.error("Error loading carreras:",Q),_("Error al cargar las carreras desde la base de datos"),T(!1)});return()=>q()},[]);const le=W.useMemo(()=>{if(g)return[];let q=V;if(h)q=V.filter(Q=>Q.turnoId===h.id);else{const Q=new Date;Q.setHours(0,0,0,0);const me=new Date(Q);me.setDate(me.getDate()+1),q=V.filter(de=>{const ye=new Date(de.fechaHora);return ye>=Q&&ye<me})}return q.sort((Q,me)=>{const de=Q.fechaHora instanceof Date?Q.fechaHora:new Date(Q.fechaHora);return(me.fechaHora instanceof Date?me.fechaHora:new Date(me.fechaHora)).getTime()-de.getTime()})},[V,h,g]);W.useEffect(()=>{const q=y8(Q=>{d(Q)},Q=>{console.error("Error loading gastos:",Q),d(0)});return()=>q()},[]),W.useEffect(()=>{const q=g1(Q=>{m(Q)},Q=>{console.error("Error loading turno:",Q),m(null)});return()=>q()},[]),W.useEffect(()=>{(async()=>{try{const Q=await pd();if(Q&&Q.objetivoDiario)F(Q.objetivoDiario),localStorage.setItem("objetivoDiario",Q.objetivoDiario.toString());else{const me=parseFloat(localStorage.getItem("objetivoDiario")||"100");F(me)}}catch(Q){console.error("Error cargando objetivo diario:",Q);const me=parseFloat(localStorage.getItem("objetivoDiario")||"100");F(me)}})()},[]),W.useEffect(()=>{if(h){const q=setInterval(()=>{b(new Date)},6e4);return()=>clearInterval(q)}},[h]);const Z=W.useMemo(()=>{le.reduce((ae,he)=>ae+he.taximetro,0);const q=le.reduce((ae,he)=>ae+he.cobrado,0),Q=le.reduce((ae,he)=>ae+(he.cobrado-he.taximetro),0),me=le.filter(ae=>ae.formaPago==="Tarjeta"),de=E-q,ye=de>0?`${Math.abs(de).toFixed(2)}`:`+${Math.abs(de).toFixed(2)}`;let Ce="00:00";if(h)Ce=R(h.fechaInicio).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});else if(le.length>0){const ae=new Date;ae.setHours(0,0,0,0);const he=le.filter(Ze=>R(Ze.fechaHora)>=ae);if(he.length>0){const Ze=he[he.length-1];Ce=R(Ze.fechaHora).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}}let Ve="00:00";if(h){const ae=R(h.fechaInicio),he=x;let Ze=he.getTime()-ae.getTime();(h.descansos||[]).forEach(Ue=>{if(Ue.fechaInicio&&Ue.fechaFin){const ct=R(Ue.fechaInicio),rt=R(Ue.fechaFin);Ze-=rt.getTime()-ct.getTime()}else if(Ue.fechaInicio&&!Ue.fechaFin){const ct=R(Ue.fechaInicio),rt=he.getTime()-ct.getTime();Ze-=rt}});const Oe=Math.floor(Math.max(0,Ze)/(1e3*60*60)),Qe=Math.floor(Math.max(0,Ze)%(1e3*60*60)/(1e3*60));Ve=`${String(Oe).padStart(2,"0")}:${String(Qe).padStart(2,"0")}`}else if(le.length>0){const ae=new Date;ae.setHours(0,0,0,0);const he=le.filter(Ze=>R(Ze.fechaHora)>=ae);if(he.length>0){const Ze=R(he[he.length-1]),Qe=R(he[0]).getTime()-Ze.getTime(),Ue=Math.floor(Qe/(1e3*60*60)),ct=Math.floor(Qe%(1e3*60*60)/(1e3*60));Ve=`${String(Ue).padStart(2,"0")}:${String(ct).padStart(2,"0")}`}}let Be="0";return h&&(Be=h.kilometrosInicio.toString()),{total:`${q.toFixed(2)}`,carreras:le.length.toString(),tarjeta:me.length.toString(),propina:`${Q.toFixed(2)}`,totalTarjeta:`${me.reduce((ae,he)=>ae+he.cobrado,0).toFixed(2)}`,pendiente:ye,pendienteValor:de,horaInicio:Ce,horaTrabajo:Ve,kmsInicio:Be}},[le,u,h,x,E]),ie=q=>{if(n)return Sm;switch(q){case"Bizum":return yz;case"Vales":return wz;case"Tarjeta":return bz;case"Efectivo":default:return Sm}},J=q=>{switch(q){case"Efectivo":return"text-emerald-400";case"Tarjeta":return"text-blue-400";case"Bizum":return"text-purple-400";case"Vales":return"text-amber-300";default:return"text-zinc-300"}},Y=r?"bg-zinc-950":"bg-zinc-50",se=r?"text-zinc-100":"text-zinc-900",P=r?"bg-zinc-900":"bg-white",N=r?"border-zinc-800":"border-zinc-200",k=r?"hover:bg-zinc-800":"hover:bg-zinc-50",D=r?"bg-zinc-900/50":"bg-zinc-100/50";return l.jsxs("div",{className:`${Y} min-h-screen ${se} px-3 pt-3 pb-24 space-y-1.5`,children:[l.jsx(ia,{title:"Ingresos",navigateTo:e,backTarget:mt.Home,className:"mb-2",rightSlot:l.jsx("button",{onClick:()=>a(!n),className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors focus:outline-none","aria-label":n?"Mostrar valores":"Ocultar valores",children:n?l.jsx(vz,{className:"w-5 h-5"}):l.jsx(xz,{className:"w-5 h-5"})})}),l.jsxs("section",{className:`${D} border ${N} rounded-xl p-2 space-y-1.5`,children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(p3,{title:"Pendiente",value:n?"****":Z.pendiente,valueNumeric:Z.pendienteValor}),l.jsx(p3,{title:"TOTAL",value:n?"****":Z.total,valueNumeric:parseFloat(Z.total)})]}),l.jsxs("div",{className:`flex space-x-2 ${P} border ${N} rounded-lg p-1.5`,children:[l.jsx(cf,{title:"Carr.",value:n?"****":Z.carreras}),l.jsx(cf,{title:"Tarjeta",value:n?"****":Z.tarjeta}),l.jsx(cf,{title:"H.Inic.",value:n?"****":Z.horaInicio}),l.jsx(cf,{title:"H.Trab",value:n?"****":Z.horaTrabajo})]}),l.jsxs("div",{className:`flex space-x-2 ${P} border ${N} rounded-lg p-1.5`,children:[l.jsx(cf,{title:"Kms. Ini",value:n?"****":Z.kmsInicio}),parseFloat(Z.propina)>0&&l.jsx(cf,{title:"Propina",value:n?"****":Z.propina}),l.jsx(cf,{title:"Tarjeta",value:n?"****":Z.totalTarjeta})]})]}),l.jsxs("section",{children:[l.jsxs("div",{className:"border-b border-zinc-800 p-1 flex items-center text-zinc-400 font-semibold text-center text-sm",children:[l.jsx("span",{className:"flex-1 flex justify-center items-center",children:l.jsx(Sm,{className:"w-4 h-4"})}),l.jsx("span",{className:"flex-1 flex justify-center items-center",children:l.jsx(Sm,{className:"w-4 h-4"})}),l.jsx("span",{className:"flex-1",children:"Propinas"}),l.jsx("span",{className:"flex-1 flex justify-center items-center",title:"Emisora",children:l.jsx(m3,{className:"w-5 h-5 text-pink-400"})}),l.jsx("span",{className:"flex-1 flex justify-center items-center",title:"Interurbana / Aeropuerto / Estacin"}),l.jsx("span",{className:"flex-1 flex justify-center items-center",children:l.jsx(Tz,{className:"w-4 h-4"})})]}),g&&l.jsx("div",{className:"text-center p-2 text-zinc-400 text-base",children:"Cargando carreras..."}),w&&l.jsx("div",{className:"text-center p-2 text-red-400 text-base",children:w}),!g&&!w&&l.jsx("div",{className:"space-y-0.5 max-h-96 overflow-y-auto pt-0.5",children:le.map(q=>{const Q=ie(q.formaPago),me=q.cobrado-q.taximetro;return l.jsxs("div",{onClick:()=>t(q.id),className:`${P} border ${N} rounded-lg p-1.5 flex items-center text-center cursor-pointer ${k} transition-colors`,children:[l.jsx("span",{className:"flex-1 font-bold text-zinc-100 text-base",children:n?"****":`${q.cobrado.toFixed(2)}`}),l.jsx("span",{className:`flex-1 flex justify-center items-center ${J(q.formaPago)}`,children:l.jsx(Q,{className:"w-5 h-5"})}),l.jsx("span",{className:"flex-1 text-emerald-400 text-sm",children:me>0?n?"****":`${me.toFixed(2)}`:""}),l.jsx("span",{className:"flex-1 text-pink-400 flex justify-center items-center",children:q.emisora?l.jsx(m3,{className:"w-5 h-5 text-pink-400"}):null}),l.jsx("span",{className:"flex-1 flex justify-center items-center",children:(q.tipoCarrera||"Urbana")==="Interurbana"?l.jsx(_z,{className:"w-6 h-6 text-orange-400",title:"Interurbana"}):q.aeropuerto?l.jsx(Sz,{className:"w-6 h-6 text-blue-400",title:"Aeropuerto"}):q.estacion?l.jsx(Nz,{className:"w-6 h-6 text-amber-400",title:"Estacin"}):null}),l.jsx("span",{className:"flex-1 text-sm text-zinc-400",children:n?"****":R(q.fechaHora).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]},q.id)})})]}),l.jsxs("div",{className:"fixed bottom-2 left-6 z-20 flex gap-2",children:[l.jsx("button",{onClick:()=>e(mt.CerrarTurno),className:`${r?"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700":"bg-zinc-200 border-zinc-300 text-zinc-700 hover:bg-zinc-300"} border w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-colors`,title:"Cerrar Turno",children:l.jsx(Ez,{className:"w-5 h-5"})}),h&&l.jsx("button",{onClick:()=>{H(!O),X(!0)},className:`border w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-colors ${O?"bg-orange-500 text-white border-orange-400 animate-pulse":r?"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700":"bg-zinc-200 border-zinc-300 text-zinc-700 hover:bg-zinc-300"}`,title:O?"Reanudar Turno":"Pausar Turno",children:O?l.jsx(Cz,{className:"w-6 h-6"}):l.jsx(jz,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"fixed bottom-2 right-6 z-20",children:l.jsx("button",{onClick:()=>{if(O){C("Turno en pausa. Reanuda para aadir carreras.","warning");return}e(mt.IntroducirCarrera)},className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-colors ${O?"bg-zinc-700 text-zinc-500 cursor-not-allowed":"bg-zinc-50 text-zinc-900 hover:bg-zinc-200"}`,children:l.jsx(Az,{className:"w-6 h-6"})})}),L&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:`w-full max-w-sm rounded-3xl p-6 ${r?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-200"} shadow-2xl space-y-4`,children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:`text-xl font-black ${r?"text-zinc-100":"text-zinc-900"}`,children:K?"Iniciar Pausa":"Terminar Pausa"}),l.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Ingresa los kilmetros del vehculo"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(kz,{label:"Kilmetros Actuales",type:"number",value:I,onChange:q=>U(q.target.value),placeholder:"Ej: 154231",autoFocus:!0}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:()=>X(!1),className:`flex-1 py-3 rounded-xl font-bold ${r?"bg-zinc-800 text-zinc-300":"bg-zinc-100 text-zinc-600"}`,children:"CANCELAR"}),l.jsx("button",{onClick:oe,className:`flex-1 py-3 rounded-xl font-bold text-white shadow-lg ${K?"bg-orange-500 shadow-orange-500/20":"bg-blue-600 shadow-blue-600/20"}`,children:"CONFIRMAR"})]})]})]})})]})};var on;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const c of a)s[c]=c;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),c={};for(const u of s)c[u]=a[u];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.push(c);return s},e.find=(a,s)=>{for(const c of a)if(s(c))return c},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(on||(on={}));var bv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(bv||(bv={}));const $t=on.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nu=e=>{switch(typeof e){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return isNaN(e)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(e)?$t.array:e===null?$t.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$t.promise:typeof Map<"u"&&e instanceof Map?$t.map:typeof Set<"u"&&e instanceof Set?$t.set:typeof Date<"u"&&e instanceof Date?$t.date:$t.object;default:return $t.unknown}},kt=on.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Lz=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Qs extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const c of s.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,d=0;for(;d<c.path.length;){const h=c.path[d];d===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(r(c))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return a(this),n}static assert(t){if(!(t instanceof Qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,on.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qs.create=e=>new Qs(e);const od=(e,t)=>{let r;switch(e.code){case kt.invalid_type:e.received===$t.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case kt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,on.jsonStringifyReplacer)}`;break;case kt.unrecognized_keys:r=`Unrecognized key(s) in object: ${on.joinValues(e.keys,", ")}`;break;case kt.invalid_union:r="Invalid input";break;case kt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${on.joinValues(e.options)}`;break;case kt.invalid_enum_value:r=`Invalid enum value. Expected ${on.joinValues(e.options)}, received '${e.received}'`;break;case kt.invalid_arguments:r="Invalid function arguments";break;case kt.invalid_return_type:r="Invalid function return type";break;case kt.invalid_date:r="Invalid date";break;case kt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:on.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case kt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case kt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case kt.custom:r="Invalid input";break;case kt.invalid_intersection_types:r="Intersection results could not be merged";break;case kt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case kt.not_finite:r="Number must be finite";break;default:r=t.defaultError,on.assertNever(e)}return{message:r}};let X8=od;function zz(e){X8=e}function up(){return X8}const fp=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],c={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let u="";const d=n.filter(h=>!!h).slice().reverse();for(const h of d)u=h(c,{data:t,defaultError:u}).message;return{...a,path:s,message:u}},Fz=[];function Ht(e,t){const r=up(),n=fp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===od?void 0:od].filter(a=>!!a)});e.common.issues.push(n)}class Yi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Er;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,c=await a.value;n.push({key:s,value:c})}return Yi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:c}=a;if(s.status==="aborted"||c.status==="aborted")return Er;s.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(n[s.value]=c.value)}return{status:t.value,value:n}}}const Er=Object.freeze({status:"aborted"}),B0=e=>({status:"dirty",value:e}),ls=e=>({status:"valid",value:e}),yv=e=>e.status==="aborted",wv=e=>e.status==="dirty",Mh=e=>e.status==="valid",Ih=e=>typeof Promise<"u"&&e instanceof Promise;function dp(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function K8(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var cr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(cr||(cr={}));var mh,ph;class Ul{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const g3=(e,t)=>{if(Mh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qs(e.common.issues);return this._error=r,this._error}}};function Br(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(c,u)=>{var d,h;const{message:m}=e;return c.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(d=m??n)!==null&&d!==void 0?d:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(h=m??r)!==null&&h!==void 0?h:u.defaultError}},description:a}}class qr{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Nu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Nu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yi,ctx:{common:t.parent.common,data:t.data,parsedType:Nu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ih(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nu(t)},s=this._parseSync({data:t,path:a.path,parent:a});return g3(a,s)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nu(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(Ih(a)?a:Promise.resolve(a));return g3(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const c=t(a),u=()=>s.addIssue({code:kt.custom,...n(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new cl({schema:this,typeName:_r.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Bl.create(this,this._def)}nullable(){return Fu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ol.create(this,this._def)}promise(){return cd.create(this,this._def)}or(t){return Hh.create([this,t],this._def)}and(t){return Vh.create(this,t,this._def)}transform(t){return new cl({...Br(this._def),schema:this,typeName:_r.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Yh({...Br(this._def),innerType:this,defaultValue:r,typeName:_r.ZodDefault})}brand(){return new B5({typeName:_r.ZodBranded,type:this,...Br(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Xh({...Br(this._def),innerType:this,catchValue:r,typeName:_r.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return v1.create(this,t)}readonly(){return Kh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Oz=/^c[^\s-]{8,}$/i,Rz=/^[0-9a-z]+$/,Mz=/^[0-9A-HJKMNP-TV-Z]{26}$/,Iz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pz=/^[a-z0-9_-]{21}$/i,Bz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Uz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ux;const Vz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gz=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,qz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wz=new RegExp(`^${Z8}$`);function J8(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function $z(e){return new RegExp(`^${J8(e)}$`)}function Q8(e){let t=`${Z8}T${J8(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Yz(e,t){return!!((t==="v4"||!t)&&Vz.test(e)||(t==="v6"||!t)&&Gz.test(e))}class al extends qr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$t.string){const s=this._getOrReturnCtx(t);return Ht(s,{code:kt.invalid_type,expected:$t.string,received:s.parsedType}),Er}const n=new Yi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const c=t.data.length>s.value,u=t.data.length<s.value;(c||u)&&(a=this._getOrReturnCtx(t,a),c?Ht(a,{code:kt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&Ht(a,{code:kt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Uz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"email",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Ux||(Ux=new RegExp(Hz,"u")),Ux.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"emoji",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Iz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"uuid",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Pz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"nanoid",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Oz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"cuid",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Rz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"cuid2",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Mz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"ulid",code:kt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ht(a,{validation:"url",code:kt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"regex",code:kt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Q8(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Wz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?$z(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Bz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"duration",code:kt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Yz(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"ip",code:kt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?qz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ht(a,{validation:"base64",code:kt.invalid_string,message:s.message}),n.dirty()):on.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:kt.invalid_string,...cr.errToObj(n)})}_addCheck(t){return new al({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...cr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...cr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...cr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...cr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...cr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...cr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...cr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...cr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...cr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...cr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...cr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...cr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...cr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...cr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...cr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...cr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...cr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...cr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...cr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...cr.errToObj(r)})}nonempty(t){return this.min(1,cr.errToObj(t))}trim(){return new al({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new al({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new al({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}al.create=e=>{var t;return new al({checks:[],typeName:_r.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Br(e)})};function Xz(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=parseInt(e.toFixed(a).replace(".","")),c=parseInt(t.toFixed(a).replace(".",""));return s%c/Math.pow(10,a)}class Du extends qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$t.number){const s=this._getOrReturnCtx(t);return Ht(s,{code:kt.invalid_type,expected:$t.number,received:s.parsedType}),Er}let n;const a=new Yi;for(const s of this._def.checks)s.kind==="int"?on.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Xz(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.not_finite,message:s.message}),a.dirty()):on.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,cr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,cr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,cr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,cr.toString(r))}setLimit(t,r,n,a){return new Du({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:cr.toString(a)}]})}_addCheck(t){return new Du({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:cr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:cr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:cr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:cr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:cr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:cr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:cr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:cr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:cr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&on.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Du.create=e=>new Du({checks:[],typeName:_r.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Br(e)});class Lu extends qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==$t.bigint){const s=this._getOrReturnCtx(t);return Ht(s,{code:kt.invalid_type,expected:$t.bigint,received:s.parsedType}),Er}let n;const a=new Yi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ht(n,{code:kt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):on.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,cr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,cr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,cr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,cr.toString(r))}setLimit(t,r,n,a){return new Lu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:cr.toString(a)}]})}_addCheck(t){return new Lu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:cr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:cr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:cr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:cr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:cr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lu.create=e=>{var t;return new Lu({checks:[],typeName:_r.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Br(e)})};class Ph extends qr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$t.boolean){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.boolean,received:n.parsedType}),Er}return ls(t.data)}}Ph.create=e=>new Ph({typeName:_r.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Br(e)});class _f extends qr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$t.date){const s=this._getOrReturnCtx(t);return Ht(s,{code:kt.invalid_type,expected:$t.date,received:s.parsedType}),Er}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ht(s,{code:kt.invalid_date}),Er}const n=new Yi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),Ht(a,{code:kt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):on.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _f({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:cr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:cr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}_f.create=e=>new _f({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:_r.ZodDate,...Br(e)});class hp extends qr{_parse(t){if(this._getType(t)!==$t.symbol){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.symbol,received:n.parsedType}),Er}return ls(t.data)}}hp.create=e=>new hp({typeName:_r.ZodSymbol,...Br(e)});class Bh extends qr{_parse(t){if(this._getType(t)!==$t.undefined){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.undefined,received:n.parsedType}),Er}return ls(t.data)}}Bh.create=e=>new Bh({typeName:_r.ZodUndefined,...Br(e)});class Uh extends qr{_parse(t){if(this._getType(t)!==$t.null){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.null,received:n.parsedType}),Er}return ls(t.data)}}Uh.create=e=>new Uh({typeName:_r.ZodNull,...Br(e)});class ld extends qr{constructor(){super(...arguments),this._any=!0}_parse(t){return ls(t.data)}}ld.create=e=>new ld({typeName:_r.ZodAny,...Br(e)});class wf extends qr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ls(t.data)}}wf.create=e=>new wf({typeName:_r.ZodUnknown,...Br(e)});class Dc extends qr{_parse(t){const r=this._getOrReturnCtx(t);return Ht(r,{code:kt.invalid_type,expected:$t.never,received:r.parsedType}),Er}}Dc.create=e=>new Dc({typeName:_r.ZodNever,...Br(e)});class mp extends qr{_parse(t){if(this._getType(t)!==$t.undefined){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.void,received:n.parsedType}),Er}return ls(t.data)}}mp.create=e=>new mp({typeName:_r.ZodVoid,...Br(e)});class ol extends qr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==$t.array)return Ht(r,{code:kt.invalid_type,expected:$t.array,received:r.parsedType}),Er;if(a.exactLength!==null){const c=r.data.length>a.exactLength.value,u=r.data.length<a.exactLength.value;(c||u)&&(Ht(r,{code:c?kt.too_big:kt.too_small,minimum:u?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ht(r,{code:kt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ht(r,{code:kt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>a.type._parseAsync(new Ul(r,c,r.path,u)))).then(c=>Yi.mergeArray(n,c));const s=[...r.data].map((c,u)=>a.type._parseSync(new Ul(r,c,r.path,u)));return Yi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new ol({...this._def,minLength:{value:t,message:cr.toString(r)}})}max(t,r){return new ol({...this._def,maxLength:{value:t,message:cr.toString(r)}})}length(t,r){return new ol({...this._def,exactLength:{value:t,message:cr.toString(r)}})}nonempty(t){return this.min(1,t)}}ol.create=(e,t)=>new ol({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_r.ZodArray,...Br(t)});function D0(e){if(e instanceof da){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Bl.create(D0(n))}return new da({...e._def,shape:()=>t})}else return e instanceof ol?new ol({...e._def,type:D0(e.element)}):e instanceof Bl?Bl.create(D0(e.unwrap())):e instanceof Fu?Fu.create(D0(e.unwrap())):e instanceof Hl?Hl.create(e.items.map(t=>D0(t))):e}class da extends qr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=on.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==$t.object){const h=this._getOrReturnCtx(t);return Ht(h,{code:kt.invalid_type,expected:$t.object,received:h.parsedType}),Er}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Dc&&this._def.unknownKeys==="strip"))for(const h in a.data)c.includes(h)||u.push(h);const d=[];for(const h of c){const m=s[h],x=a.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new Ul(a,x,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof Dc){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(h==="strict")u.length>0&&(Ht(a,{code:kt.unrecognized_keys,keys:u}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of u){const x=a.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new Ul(a,x,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const x=await m.key,b=await m.value;h.push({key:x,value:b,alwaysSet:m.alwaysSet})}return h}).then(h=>Yi.mergeObjectSync(n,h)):Yi.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return cr.errToObj,new da({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s,c,u;const d=(c=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,r,n).message)!==null&&c!==void 0?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=cr.errToObj(t).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new da({...this._def,unknownKeys:"strip"})}passthrough(){return new da({...this._def,unknownKeys:"passthrough"})}extend(t){return new da({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new da({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:_r.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new da({...this._def,catchall:t})}pick(t){const r={};return on.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new da({...this._def,shape:()=>r})}omit(t){const r={};return on.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new da({...this._def,shape:()=>r})}deepPartial(){return D0(this)}partial(t){const r={};return on.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new da({...this._def,shape:()=>r})}required(t){const r={};return on.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Bl;)s=s._def.innerType;r[n]=s}}),new da({...this._def,shape:()=>r})}keyof(){return eT(on.objectKeys(this.shape))}}da.create=(e,t)=>new da({shape:()=>e,unknownKeys:"strip",catchall:Dc.create(),typeName:_r.ZodObject,...Br(t)});da.strictCreate=(e,t)=>new da({shape:()=>e,unknownKeys:"strict",catchall:Dc.create(),typeName:_r.ZodObject,...Br(t)});da.lazycreate=(e,t)=>new da({shape:e,unknownKeys:"strip",catchall:Dc.create(),typeName:_r.ZodObject,...Br(t)});class Hh extends qr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=s.map(u=>new Qs(u.ctx.common.issues));return Ht(r,{code:kt.invalid_union,unionErrors:c}),Er}if(r.common.async)return Promise.all(n.map(async s=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(a);{let s;const c=[];for(const d of n){const h={...r,common:{...r.common,issues:[]},parent:null},m=d._parseSync({data:r.data,path:r.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const u=c.map(d=>new Qs(d));return Ht(r,{code:kt.invalid_union,unionErrors:u}),Er}}get options(){return this._def.options}}Hh.create=(e,t)=>new Hh({options:e,typeName:_r.ZodUnion,...Br(t)});const wc=e=>e instanceof qh?wc(e.schema):e instanceof cl?wc(e.innerType()):e instanceof Wh?[e.value]:e instanceof zu?e.options:e instanceof $h?on.objectValues(e.enum):e instanceof Yh?wc(e._def.innerType):e instanceof Bh?[void 0]:e instanceof Uh?[null]:e instanceof Bl?[void 0,...wc(e.unwrap())]:e instanceof Fu?[null,...wc(e.unwrap())]:e instanceof B5||e instanceof Kh?wc(e.unwrap()):e instanceof Xh?wc(e._def.innerType):[];class $p extends qr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.object)return Ht(r,{code:kt.invalid_type,expected:$t.object,received:r.parsedType}),Er;const n=this.discriminator,a=r.data[n],s=this.optionsMap.get(a);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ht(r,{code:kt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Er)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const s of r){const c=wc(s.shape[t]);if(!c.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of c){if(a.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);a.set(u,s)}}return new $p({typeName:_r.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Br(n)})}}function Sv(e,t){const r=Nu(e),n=Nu(t);if(e===t)return{valid:!0,data:e};if(r===$t.object&&n===$t.object){const a=on.objectKeys(t),s=on.objectKeys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...t};for(const u of s){const d=Sv(e[u],t[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(r===$t.array&&n===$t.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const c=e[s],u=t[s],d=Sv(c,u);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===$t.date&&n===$t.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Vh extends qr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,c)=>{if(yv(s)||yv(c))return Er;const u=Sv(s.value,c.value);return u.valid?((wv(s)||wv(c))&&r.dirty(),{status:r.value,value:u.data}):(Ht(n,{code:kt.invalid_intersection_types}),Er)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,c])=>a(s,c)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Vh.create=(e,t,r)=>new Vh({left:e,right:t,typeName:_r.ZodIntersection,...Br(r)});class Hl extends qr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.array)return Ht(n,{code:kt.invalid_type,expected:$t.array,received:n.parsedType}),Er;if(n.data.length<this._def.items.length)return Ht(n,{code:kt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Er;!this._def.rest&&n.data.length>this._def.items.length&&(Ht(n,{code:kt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ul(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(s).then(c=>Yi.mergeArray(r,c)):Yi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Hl({...this._def,rest:t})}}Hl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hl({items:e,typeName:_r.ZodTuple,rest:null,...Br(t)})};class Gh extends qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.object)return Ht(n,{code:kt.invalid_type,expected:$t.object,received:n.parsedType}),Er;const a=[],s=this._def.keyType,c=this._def.valueType;for(const u in n.data)a.push({key:s._parse(new Ul(n,u,n.path,u)),value:c._parse(new Ul(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Yi.mergeObjectAsync(r,a):Yi.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof qr?new Gh({keyType:t,valueType:r,typeName:_r.ZodRecord,...Br(n)}):new Gh({keyType:al.create(),valueType:t,typeName:_r.ZodRecord,...Br(r)})}}class pp extends qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.map)return Ht(n,{code:kt.invalid_type,expected:$t.map,received:n.parsedType}),Er;const a=this._def.keyType,s=this._def.valueType,c=[...n.data.entries()].map(([u,d],h)=>({key:a._parse(new Ul(n,u,n.path,[h,"key"])),value:s._parse(new Ul(n,d,n.path,[h,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return Er;(h.status==="dirty"||m.status==="dirty")&&r.dirty(),u.set(h.value,m.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of c){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return Er;(h.status==="dirty"||m.status==="dirty")&&r.dirty(),u.set(h.value,m.value)}return{status:r.value,value:u}}}}pp.create=(e,t,r)=>new pp({valueType:t,keyType:e,typeName:_r.ZodMap,...Br(r)});class Tf extends qr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.set)return Ht(n,{code:kt.invalid_type,expected:$t.set,received:n.parsedType}),Er;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ht(n,{code:kt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ht(n,{code:kt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function c(d){const h=new Set;for(const m of d){if(m.status==="aborted")return Er;m.status==="dirty"&&r.dirty(),h.add(m.value)}return{status:r.value,value:h}}const u=[...n.data.values()].map((d,h)=>s._parse(new Ul(n,d,n.path,h)));return n.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(t,r){return new Tf({...this._def,minSize:{value:t,message:cr.toString(r)}})}max(t,r){return new Tf({...this._def,maxSize:{value:t,message:cr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Tf.create=(e,t)=>new Tf({valueType:e,minSize:null,maxSize:null,typeName:_r.ZodSet,...Br(t)});class W0 extends qr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.function)return Ht(r,{code:kt.invalid_type,expected:$t.function,received:r.parsedType}),Er;function n(u,d){return fp({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,up(),od].filter(h=>!!h),issueData:{code:kt.invalid_arguments,argumentsError:d}})}function a(u,d){return fp({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,up(),od].filter(h=>!!h),issueData:{code:kt.invalid_return_type,returnTypeError:d}})}const s={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof cd){const u=this;return ls(async function(...d){const h=new Qs([]),m=await u._def.args.parseAsync(d,s).catch(g=>{throw h.addIssue(n(d,g)),h}),x=await Reflect.apply(c,this,m);return await u._def.returns._def.type.parseAsync(x,s).catch(g=>{throw h.addIssue(a(x,g)),h})})}else{const u=this;return ls(function(...d){const h=u._def.args.safeParse(d,s);if(!h.success)throw new Qs([n(d,h.error)]);const m=Reflect.apply(c,this,h.data),x=u._def.returns.safeParse(m,s);if(!x.success)throw new Qs([a(m,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new W0({...this._def,args:Hl.create(t).rest(wf.create())})}returns(t){return new W0({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new W0({args:t||Hl.create([]).rest(wf.create()),returns:r||wf.create(),typeName:_r.ZodFunction,...Br(n)})}}class qh extends qr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}qh.create=(e,t)=>new qh({getter:e,typeName:_r.ZodLazy,...Br(t)});class Wh extends qr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ht(r,{received:r.data,code:kt.invalid_literal,expected:this._def.value}),Er}return{status:"valid",value:t.data}}get value(){return this._def.value}}Wh.create=(e,t)=>new Wh({value:e,typeName:_r.ZodLiteral,...Br(t)});function eT(e,t){return new zu({values:e,typeName:_r.ZodEnum,...Br(t)})}class zu extends qr{constructor(){super(...arguments),mh.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ht(r,{expected:on.joinValues(n),received:r.parsedType,code:kt.invalid_type}),Er}if(dp(this,mh)||K8(this,mh,new Set(this._def.values)),!dp(this,mh).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ht(r,{received:r.data,code:kt.invalid_enum_value,options:n}),Er}return ls(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return zu.create(t,{...this._def,...r})}exclude(t,r=this._def){return zu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}mh=new WeakMap;zu.create=eT;class $h extends qr{constructor(){super(...arguments),ph.set(this,void 0)}_parse(t){const r=on.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==$t.string&&n.parsedType!==$t.number){const a=on.objectValues(r);return Ht(n,{expected:on.joinValues(a),received:n.parsedType,code:kt.invalid_type}),Er}if(dp(this,ph)||K8(this,ph,new Set(on.getValidEnumValues(this._def.values))),!dp(this,ph).has(t.data)){const a=on.objectValues(r);return Ht(n,{received:n.data,code:kt.invalid_enum_value,options:a}),Er}return ls(t.data)}get enum(){return this._def.values}}ph=new WeakMap;$h.create=(e,t)=>new $h({values:e,typeName:_r.ZodNativeEnum,...Br(t)});class cd extends qr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.promise&&r.common.async===!1)return Ht(r,{code:kt.invalid_type,expected:$t.promise,received:r.parsedType}),Er;const n=r.parsedType===$t.promise?r.data:Promise.resolve(r.data);return ls(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cd.create=(e,t)=>new cd({type:e,typeName:_r.ZodPromise,...Br(t)});class cl extends qr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_r.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:c=>{Ht(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const c=a.transform(n.data,s);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return Er;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Er:d.status==="dirty"||r.value==="dirty"?B0(d.value):d});{if(r.value==="aborted")return Er;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?Er:u.status==="dirty"||r.value==="dirty"?B0(u.value):u}}if(a.type==="refinement"){const c=u=>{const d=a.refinement(u,s);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Er:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Er:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Mh(c))return c;const u=a.transform(c.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Mh(c)?Promise.resolve(a.transform(c.value,s)).then(u=>({status:r.value,value:u})):c);on.assertNever(a)}}cl.create=(e,t,r)=>new cl({schema:e,typeName:_r.ZodEffects,effect:t,...Br(r)});cl.createWithPreprocess=(e,t,r)=>new cl({schema:t,effect:{type:"preprocess",transform:e},typeName:_r.ZodEffects,...Br(r)});class Bl extends qr{_parse(t){return this._getType(t)===$t.undefined?ls(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bl.create=(e,t)=>new Bl({innerType:e,typeName:_r.ZodOptional,...Br(t)});class Fu extends qr{_parse(t){return this._getType(t)===$t.null?ls(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fu.create=(e,t)=>new Fu({innerType:e,typeName:_r.ZodNullable,...Br(t)});class Yh extends qr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===$t.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Yh.create=(e,t)=>new Yh({innerType:e,typeName:_r.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Br(t)});class Xh extends qr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ih(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Xh.create=(e,t)=>new Xh({innerType:e,typeName:_r.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Br(t)});class gp extends qr{_parse(t){if(this._getType(t)!==$t.nan){const n=this._getOrReturnCtx(t);return Ht(n,{code:kt.invalid_type,expected:$t.nan,received:n.parsedType}),Er}return{status:"valid",value:t.data}}}gp.create=e=>new gp({typeName:_r.ZodNaN,...Br(e)});const Kz=Symbol("zod_brand");class B5 extends qr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class v1 extends qr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Er:s.status==="dirty"?(r.dirty(),B0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Er:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new v1({in:t,out:r,typeName:_r.ZodPipeline})}}class Kh extends qr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Mh(a)&&(a.value=Object.freeze(a.value)),a);return Ih(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Kh.create=(e,t)=>new Kh({innerType:e,typeName:_r.ZodReadonly,...Br(t)});function tT(e,t={},r){return e?ld.create().superRefine((n,a)=>{var s,c;if(!e(n)){const u=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,d=(c=(s=u.fatal)!==null&&s!==void 0?s:r)!==null&&c!==void 0?c:!0,h=typeof u=="string"?{message:u}:u;a.addIssue({code:"custom",...h,fatal:d})}}):ld.create()}const Zz={object:da.lazycreate};var _r;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_r||(_r={}));const Jz=(e,t={message:`Input not instance of ${e.name}`})=>tT(r=>r instanceof e,t),rT=al.create,nT=Du.create,Qz=gp.create,eF=Lu.create,aT=Ph.create,tF=_f.create,rF=hp.create,nF=Bh.create,aF=Uh.create,iF=ld.create,sF=wf.create,oF=Dc.create,lF=mp.create,cF=ol.create,uF=da.create,fF=da.strictCreate,dF=Hh.create,hF=$p.create,mF=Vh.create,pF=Hl.create,gF=Gh.create,xF=pp.create,vF=Tf.create,bF=W0.create,yF=qh.create,wF=Wh.create,SF=zu.create,NF=$h.create,_F=cd.create,x3=cl.create,TF=Bl.create,AF=Fu.create,EF=cl.createWithPreprocess,jF=v1.create,CF=()=>rT().optional(),kF=()=>nT().optional(),DF=()=>aT().optional(),LF={string:(e=>al.create({...e,coerce:!0})),number:(e=>Du.create({...e,coerce:!0})),boolean:(e=>Ph.create({...e,coerce:!0})),bigint:(e=>Lu.create({...e,coerce:!0})),date:(e=>_f.create({...e,coerce:!0}))},zF=Er;var U0=Object.freeze({__proto__:null,defaultErrorMap:od,setErrorMap:zz,getErrorMap:up,makeIssue:fp,EMPTY_PATH:Fz,addIssueToContext:Ht,ParseStatus:Yi,INVALID:Er,DIRTY:B0,OK:ls,isAborted:yv,isDirty:wv,isValid:Mh,isAsync:Ih,get util(){return on},get objectUtil(){return bv},ZodParsedType:$t,getParsedType:Nu,ZodType:qr,datetimeRegex:Q8,ZodString:al,ZodNumber:Du,ZodBigInt:Lu,ZodBoolean:Ph,ZodDate:_f,ZodSymbol:hp,ZodUndefined:Bh,ZodNull:Uh,ZodAny:ld,ZodUnknown:wf,ZodNever:Dc,ZodVoid:mp,ZodArray:ol,ZodObject:da,ZodUnion:Hh,ZodDiscriminatedUnion:$p,ZodIntersection:Vh,ZodTuple:Hl,ZodRecord:Gh,ZodMap:pp,ZodSet:Tf,ZodFunction:W0,ZodLazy:qh,ZodLiteral:Wh,ZodEnum:zu,ZodNativeEnum:$h,ZodPromise:cd,ZodEffects:cl,ZodTransformer:cl,ZodOptional:Bl,ZodNullable:Fu,ZodDefault:Yh,ZodCatch:Xh,ZodNaN:gp,BRAND:Kz,ZodBranded:B5,ZodPipeline:v1,ZodReadonly:Kh,custom:tT,Schema:qr,ZodSchema:qr,late:Zz,get ZodFirstPartyTypeKind(){return _r},coerce:LF,any:iF,array:cF,bigint:eF,boolean:aT,date:tF,discriminatedUnion:hF,effect:x3,enum:SF,function:bF,instanceof:Jz,intersection:mF,lazy:yF,literal:wF,map:xF,nan:Qz,nativeEnum:NF,never:oF,null:aF,nullable:AF,number:nT,object:uF,oboolean:DF,onumber:kF,optional:TF,ostring:CF,pipeline:jF,preprocess:EF,promise:_F,record:gF,set:vF,strictObject:fF,string:rT,symbol:rF,transformer:x3,tuple:pF,undefined:nF,union:dF,unknown:sF,void:lF,NEVER:zF,ZodIssueCode:kt,quotelessJson:Lz,ZodError:Qs});function FF(e){const[t,r]=W.useState({}),[n,a]=W.useState({}),s=W.useCallback(b=>{try{return e.parse(b),r({}),!0}catch(g){if(g instanceof U0.ZodError){const T={};g.errors.forEach(w=>{if(w.path.length>0){const _=w.path[0];T[_]=w.message}}),r(T)}return!1}},[e]),c=W.useCallback((b,g)=>{var T;try{const w=(T=e.shape)==null?void 0:T[b];return w?(w.parse(g),r(_=>{const E={..._};return delete E[b],E}),!0):!1}catch(w){return w instanceof U0.ZodError&&r(_=>{var E;return{..._,[b]:((E=w.errors[0])==null?void 0:E.message)||"Campo invlido"}}),!1}},[e]),u=W.useCallback(b=>{a(g=>({...g,[b]:!0}))},[]),d=W.useCallback(()=>{r({}),a({})},[]),h=W.useCallback(b=>t[b],[t]),m=W.useCallback(b=>n[b]||!1,[n]),x=Object.keys(t).length>0;return{errors:t,touched:n,validate:s,validateField:c,setFieldTouched:u,reset:d,getFieldError:h,isFieldTouched:m,hasErrors:x}}const OF=e=>{const t={},r=e.toLowerCase(),n=/(\d+)(?:[.,](\d{1,2})| con (\d{1,2}))?/,a=r.match(n);if(a){const s=parseInt(a[1]),c=a[2]||a[3]||"0",u=parseFloat(`${s}.${c}`);t.taximetro=u,t.cobrado=u}return r.includes("tarjeta")?t.formaPago="Tarjeta":r.includes("bizum")?t.formaPago="Bizum":r.includes("vale")?t.formaPago="Vales":r.includes("efectivo")&&(t.formaPago="Efectivo"),r.includes("aeropuerto")&&(t.aeropuerto=!0,t.tipoCarrera="Interurbana"),(r.includes("estacin")||r.includes("estacion")||r.includes("sants")||r.includes("atocha"))&&(t.estacion=!0),(r.includes("emisora")||r.includes("radio")||r.includes("aplicacin")||r.includes("app"))&&(t.emisora=!0),t},RF=()=>{const[e,t]=W.useState(!1),[r,n]=W.useState(""),[a,s]=W.useState(null),c=W.useRef(null);W.useEffect(()=>("webkitSpeechRecognition"in window?(c.current=new window.webkitSpeechRecognition,c.current.continuous=!1,c.current.lang="es-ES",c.current.interimResults=!1,c.current.onstart=()=>{t(!0),s(null)},c.current.onend=()=>{t(!1)},c.current.onerror=m=>{console.error("Speech recognition error",m.error),s(m.error),t(!1)},c.current.onresult=m=>{const x=m.results[0][0].transcript;n(x)}):s("Voice recognition not supported in this browser."),()=>{c.current&&c.current.stop()}),[]);const u=W.useCallback(()=>{if(c.current&&!e)try{c.current.start()}catch(m){console.error(m)}},[e]),d=W.useCallback(()=>{c.current&&e&&c.current.stop()},[e]),h=W.useCallback(m=>OF(m),[]);return{isListening:e,transcript:r,error:a,startListening:u,stopListening:d,processCommand:h,supported:!!c.current}},MF=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[l.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),l.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),l.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),l.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),IF=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:l.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),PF=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1s.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77C18.09 17.91 16.61 18.5 15 18.5z"})}),BF=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),UF=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[l.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),l.jsx("path",{d:"M11.5 14.5h-1v-1h-1c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h2v-1h-3v-1.5h3v-1h1v1h1c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-2v1h3v1.5h-3v1z"})]}),HF=({className:e})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:l.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2h-2v2h2V4zM9 18H4v-2h5v2zm0-4H4v-2h5v2zm0-4H4V8h5v2zm7 8h-5v-2h5v2zm0-4h-5v-2h5v2zm0-4h-5V8h5v2z"})}),v3=({title:e,children:t,className:r})=>l.jsxs("div",{className:`bg-zinc-900 border border-zinc-800 rounded-xl p-4 space-y-4 ${r}`,children:[l.jsx("h2",{className:"text-lg font-bold text-zinc-100",children:e}),t]}),Nm=({label:e,children:t,className:r})=>l.jsxs("div",{className:r,children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:e}),t]}),ih=e=>l.jsx("input",{...e,className:`w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 ${e.className}`}),VF=({className:e="",...t})=>l.jsx("textarea",{...t,className:`w-full min-h-[90px] p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 resize-y ${e}`}),Hx=({label:e,checked:t,onChange:r})=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:r,className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-zinc-300",children:e})]}),GF=({children:e,onClick:t,className:r,disabled:n})=>l.jsx("button",{onClick:t,disabled:n,className:`w-full bg-blue-600 text-white px-3 py-3 rounded-lg font-bold flex items-center justify-center gap-1.5 text-base hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 ${r}`,children:e}),_m=({label:e,icon:t,selected:r,onClick:n})=>l.jsxs("button",{onClick:n,className:`flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-colors w-full aspect-square
            ${r?"bg-zinc-700 border-blue-500":"bg-zinc-800 border-zinc-700 hover:bg-zinc-700/50"}`,"aria-pressed":r,children:[l.jsx("div",{className:`w-7 h-7 mb-1 ${r?"text-blue-400":"text-zinc-400"}`,children:t}),l.jsx("span",{className:`text-xs font-semibold ${r?"text-zinc-50":"text-zinc-300"}`,children:e})]}),qF=U0.object({taximetro:U0.number().min(0,"El taxmetro debe ser mayor o igual a 0"),cobrado:U0.number().min(0,"El cobrado debe ser mayor o igual a 0"),formaPago:U0.enum(["Efectivo","Tarjeta","Bizum","Vales"])}).refine(e=>e.taximetro>0||e.cobrado>0,{message:"Debes ingresar al menos un valor en Taxmetro o Cobrado",path:["taximetro"]}),b3=({navigateTo:e,raceId:t,initialData:r})=>{var At,Yt;const n=t!==null,{showToast:a}=To(),{validate:s,getFieldError:c,isFieldTouched:u,setFieldTouched:d,validateField:h}=FF(qF),[m,x]=W.useState(((At=r==null?void 0:r.taximetro)==null?void 0:At.toString())||""),[b,g]=W.useState(((Yt=r==null?void 0:r.cobrado)==null?void 0:Yt.toString())||""),[T,w]=W.useState((r==null?void 0:r.formaPago)||"Efectivo"),[_,E]=W.useState((r==null?void 0:r.tipoCarrera)||"Urbana"),[F,C]=W.useState((r==null?void 0:r.aeropuerto)||!1),[L,X]=W.useState((r==null?void 0:r.estacion)||!1),[I,U]=W.useState((r==null?void 0:r.emisora)||!1),[K,H]=W.useState(!1),[oe,O]=W.useState(n),[R,V]=W.useState(!1),[re,le]=W.useState(!1),[Z,ie]=W.useState(""),[J,Y]=W.useState(!1),[se,P]=W.useState(""),[N,k]=W.useState(!1),[D,M]=W.useState({despacho:"",numeroAlbaran:"",empresa:"",codigoEmpresa:"",autoriza:""}),[q,Q]=W.useState(!1),[me,de]=W.useState([]),[ye,Ce]=W.useState(!1),[Ve,Be]=W.useState(""),{isListening:ae,startListening:he,stopListening:Ze,transcript:Oe,processCommand:Qe,supported:Ue}=RF();W.useEffect(()=>{if(!ae&&Oe){const De=Qe(Oe);Object.keys(De).length>0?(De.taximetro!==void 0&&(x(De.taximetro.toString()),!K||De.cobrado===void 0?g(De.cobrado!==void 0?De.cobrado.toString():De.taximetro.toString()):De.cobrado!==void 0&&g(De.cobrado.toString())),De.formaPago&&(w(De.formaPago),Ft(De.formaPago)),De.tipoCarrera&&E(De.tipoCarrera),De.aeropuerto!==void 0&&C(De.aeropuerto),De.emisora!==void 0&&U(De.emisora),De.estacion!==void 0&&X(De.estacion),a(`Datos detectados: ${Oe}`,"success")):a(`No se detectaron datos en: "${Oe}"`,"warning")}},[ae,Oe,Qe,a,K]);const[ct,rt]=W.useState(!1),Dt=W.useMemo(()=>Object.values(D).every(De=>De.trim().length>0),[D]),jt=W.useMemo(()=>{const De=D.codigoEmpresa.trim().toLowerCase();return De?me.filter(or=>or.codigoEmpresa.toLowerCase().includes(De)).slice(0,5):[]},[D.codigoEmpresa,me]);W.useEffect(()=>{n&&t&&(async or=>{O(!0);const Jt=await W_(or);Jt?(x(Jt.taximetro.toFixed(2)),g(Jt.cobrado.toFixed(2)),w(Jt.formaPago),E(Jt.tipoCarrera||"Urbana"),U(Jt.emisora||!1),C(Jt.aeropuerto||!1),X(Jt.estacion||!1),Be(Jt.notas||""),Jt.formaPago==="Vales"&&Jt.valeInfo?(M({despacho:Jt.valeInfo.despacho||"",numeroAlbaran:Jt.valeInfo.numeroAlbaran||"",empresa:Jt.valeInfo.empresa||"",codigoEmpresa:Jt.valeInfo.codigoEmpresa||"",autoriza:Jt.valeInfo.autoriza||""}),Ce(!1)):(M({despacho:"",numeroAlbaran:"",empresa:"",codigoEmpresa:"",autoriza:""}),Ce(!1)),Jt.cobrado!==Jt.taximetro&&H(!0)):(console.error("Race not found!"),e(mt.VistaCarreras)),O(!1)})(t)},[t,n,e]),W.useEffect(()=>{let De=!0;return(async()=>{try{const Jt=await Rh();if(!De)return;de(Jt)}catch(Jt){console.error("Error cargando el directorio de vales:",Jt)}})(),()=>{De=!1}},[]);const Ft=De=>{w(De),De==="Vales"?(Q(!1),k(!0)):k(!1)},it=(De,or)=>{if(De==="empresa"){Ce(!0),M(Jt=>({...Jt,empresa:or}));return}if(De==="codigoEmpresa"){let Jt=!1;M(pr=>{const rr={...pr,codigoEmpresa:or};rt(!0);const Tr=or.trim();if(!Tr)ye||(rr.empresa="",Jt=!0);else{const lr=me.find(ne=>ne.codigoEmpresa.toLowerCase().startsWith(Tr.toLowerCase()));lr&&(!ye||pr.empresa.trim().length===0||pr.codigoEmpresa!==Tr)&&(rr.empresa=lr.empresa,Jt=!0)}return rr}),Jt&&Ce(!1);return}M(Jt=>({...Jt,[De]:or}))},Ct=async()=>{Q(!0);const De={despacho:D.despacho.trim(),numeroAlbaran:D.numeroAlbaran.trim(),empresa:D.empresa.trim(),codigoEmpresa:D.codigoEmpresa.trim(),autoriza:D.autoriza.trim()};if(Object.values(De).some(pr=>pr.length===0))return;const Jt=me.some(pr=>pr.codigoEmpresa===De.codigoEmpresa);if(!Jt&&De.codigoEmpresa&&De.empresa)try{await R5({codigoEmpresa:De.codigoEmpresa,empresa:De.empresa});const pr=await Rh();de(pr)}catch(pr){console.error("Error auto-saving vale company:",pr)}else Jt&&De.codigoEmpresa&&De.empresa;M(De),Ce(!1),k(!1)},pt=De=>{M(or=>({...or,codigoEmpresa:De.codigoEmpresa,empresa:De.empresa})),Ce(!1),rt(!1)},vt=()=>{ie(m),le(!0)},ut=De=>{ie(or=>or===""||or==="0"?De:or+De)},Bt=()=>{ie(De=>De.includes(".")?De:De===""?"0.":De+".")},Lt=()=>{ie(De=>De.length<=1?"":De.slice(0,-1))},xr=()=>{ie("")},Fe=()=>{const De=Z||"0";x(De),d("taximetro"),h("taximetro",parseFloat(De)||0),K||(g(De),d("cobrado"),h("cobrado",parseFloat(De)||0)),le(!1)},ot=()=>{P(""),H(!0),Y(!0)},bt=De=>{P(or=>or===""||or==="0"?De:or+De)},Pt=()=>{P(De=>De.includes(".")?De:De===""?"0.":De+".")},Ut=()=>{P(De=>De.length<=1?"":De.slice(0,-1))},yr=()=>{P("")},tr=()=>{const De=se||"0";g(De),H(!0),d("cobrado"),h("cobrado",parseFloat(De)||0),Y(!1)},Dr=parseFloat(m)||0,jr=(parseFloat(b)||0)-Dr,Vt=async()=>{const De=parseFloat(m)||0,or=parseFloat(b)||0;if(!s({taximetro:De,cobrado:or||De,formaPago:T})){a("Por favor, corrige los errores en el formulario","warning"),d("taximetro"),d("cobrado");return}const pr={despacho:D.despacho.trim(),numeroAlbaran:D.numeroAlbaran.trim(),empresa:D.empresa.trim(),codigoEmpresa:D.codigoEmpresa.trim(),autoriza:D.autoriza.trim()},rr=T==="Vales",Tr=Ve.trim();if(rr){if(Object.values(pr).some(pe=>pe.length===0)){Q(!0),k(!0),a("Completa todos los datos del vale antes de registrar","warning");return}M(pr)}V(!0);let lr=r==null?void 0:r.turnoId;if(!t||!lr){const we=await d1();we&&(lr=we.id)}const ne={taximetro:De,cobrado:or||De,formaPago:T,tipoCarrera:_,emisora:I,aeropuerto:F,estacion:L,valeInfo:rr?pr:null,notas:Tr.length>0?Tr:null,turnoId:lr};try{n&&t?await Y_(t,{...ne,fechaHora:new Date}):await $_({...ne,fechaHora:new Date}),e(mt.VistaCarreras)}catch(we){sl.handle(we,"AddEditRaceScreen - handleSave")}finally{V(!1)}},mr=async()=>{if(n&&t){if(!window.confirm("Ests seguro de que quieres eliminar esta carrera?"))return;V(!0);try{await f1(t),a("Carrera eliminada correctamente","success"),e(mt.VistaCarreras)}catch(or){sl.handle(or,"AddEditRaceScreen - handleDelete")}finally{V(!1)}}},Cn=n?"Editar Carrera":"Introducir Carrera",Xe=l.jsx(ia,{title:Cn,navigateTo:e,backTarget:mt.VistaCarreras,className:"mb-4",rightSlot:l.jsxs("div",{className:"flex gap-2",children:[Ue&&l.jsx("button",{onClick:ae?Ze:he,className:`p-1.5 transition-colors rounded-full ${ae?"bg-red-500/20 text-red-400 animate-pulse ring-2 ring-red-500":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"}`,"aria-label":"Entrada de voz",children:l.jsx(MF,{className:"w-6 h-6"})}),n&&l.jsx("button",{onClick:mr,className:"p-1.5 text-zinc-900 hover:text-red-600 transition-colors","aria-label":"Eliminar carrera",children:l.jsx(IF,{})})]})});return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-24 space-y-4",children:[Xe,l.jsx(v3,{title:"Detalles de la Carrera",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Nm,{label:"Taxmetro",children:[l.jsx("button",{onClick:vt,className:`w-full p-2 border rounded-md text-left text-sm text-zinc-100 hover:border-blue-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${u("taximetro")&&c("taximetro")?"border-red-500 bg-red-900/20":"border-zinc-700 bg-zinc-800/50"}`,children:m||l.jsx("span",{className:"text-zinc-500",children:"0.00"})}),u("taximetro")&&c("taximetro")&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:c("taximetro")})]}),l.jsxs(Nm,{label:"Cobrado",children:[l.jsx("button",{onClick:ot,className:`w-full p-2 border rounded-md text-left text-sm text-zinc-100 hover:border-blue-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${u("cobrado")&&c("cobrado")?"border-red-500 bg-red-900/20":"border-zinc-700 bg-zinc-800/50"}`,children:b||l.jsx("span",{className:"text-zinc-500",children:"0.00"})}),u("cobrado")&&c("cobrado")&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:c("cobrado")}),jr>0&&l.jsx("div",{className:"mt-1 flex justify-end items-center px-1",children:l.jsxs("span",{className:"text-sm font-bold text-emerald-400 bg-emerald-900/20 px-3 py-1 rounded-full border border-emerald-900/50",children:["Propina: ",jr.toFixed(2)," "]})})]}),l.jsxs(Nm,{label:"Forma de Pago",className:"col-span-2",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsx(_m,{label:"Efectivo",icon:l.jsx(PF,{}),selected:T==="Efectivo",onClick:()=>Ft("Efectivo")}),l.jsx(_m,{label:"Tarjeta",icon:l.jsx(BF,{}),selected:T==="Tarjeta",onClick:()=>Ft("Tarjeta")}),l.jsx(_m,{label:"Bizum",icon:l.jsx(UF,{}),selected:T==="Bizum",onClick:()=>Ft("Bizum")}),l.jsx(_m,{label:"Vales",icon:l.jsx(HF,{}),selected:T==="Vales",onClick:()=>Ft("Vales")})]}),T==="Vales"&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>k(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:Dt?"Editar datos del vale":"Registrar datos del vale"}),l.jsx("p",{className:`text-xs ${Dt?"text-emerald-400":"text-amber-300"}`,children:Dt?"Datos del vale registrados.":"Faltan datos del vale por completar."})]})]}),l.jsx(Nm,{label:"Tipo de Carrera",className:"col-span-2",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"tipoCarrera",value:"Urbana",checked:_==="Urbana",onChange:De=>E(De.target.value),className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Urbana"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"tipoCarrera",value:"Interurbana",checked:_==="Interurbana",onChange:De=>E(De.target.value),className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Interurbana"})]})]})}),l.jsxs("div",{className:"col-span-2 flex justify-around items-center pt-2",children:[l.jsx(Hx,{label:"Emisora",checked:I,onChange:De=>U(De.target.checked)}),l.jsx(Hx,{label:"Aeropuerto",checked:F,onChange:De=>C(De.target.checked)}),l.jsx(Hx,{label:"Estacin",checked:L,onChange:De=>X(De.target.checked)})]})]})}),l.jsx("div",{className:"pt-4",children:l.jsx(GF,{onClick:Vt,disabled:R,children:R?"Guardando...":n?"Guardar Cambios":"Aadir Carrera"})}),l.jsx(v3,{title:"Notas",children:l.jsx(VF,{value:Ve,onChange:De=>Be(De.target.value),placeholder:"Aade observaciones adicionales sobre la carrera"})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 md:items-center",onClick:()=>k(!1),children:l.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl md:rounded-2xl shadow-2xl border border-zinc-800 p-5",onClick:De=>De.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Datos del Vale"}),l.jsx("button",{type:"button",onClick:()=>k(!1),className:"text-zinc-400 hover:text-zinc-200 transition-colors","aria-label":"Cerrar",children:""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Despacho"}),l.jsx(ih,{value:D.despacho,onChange:De=>it("despacho",De.target.value),placeholder:"Introduce el despacho"}),q&&D.despacho.trim().length===0&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"N de Albarn"}),l.jsx(ih,{value:D.numeroAlbaran,onChange:De=>it("numeroAlbaran",De.target.value),placeholder:"Introduce el nmero de albarn"}),q&&D.numeroAlbaran.trim().length===0&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Cd. Empresa"}),l.jsx(ih,{value:D.codigoEmpresa,onChange:De=>it("codigoEmpresa",De.target.value),placeholder:"Cdigo"}),ct&&jt.length>0&&l.jsx("div",{className:"absolute z-50 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-40 overflow-y-auto",children:jt.map(De=>l.jsxs("button",{type:"button",onClick:()=>pt(De),className:"w-full px-3 py-2 text-left text-xs text-zinc-200 hover:bg-zinc-700 transition-colors flex justify-between gap-2",children:[l.jsx("span",{className:"font-semibold",children:De.codigoEmpresa}),l.jsx("span",{className:"text-zinc-400 truncate",children:De.empresa||"Sin nombre"})]},De.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Empresa"}),l.jsx(ih,{value:D.empresa,onChange:De=>it("empresa",De.target.value),placeholder:"Introduce la empresa"}),q&&D.empresa.trim().length===0&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Autoriza"}),l.jsx(ih,{value:D.autoriza,onChange:De=>it("autoriza",De.target.value),placeholder:"Persona que autoriza"}),q&&D.autoriza.trim().length===0&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]})]}),l.jsxs("div",{className:"mt-5 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>k(!1),className:"w-1/2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 text-sm font-semibold px-3 py-2 rounded-lg transition-colors",children:"Cancelar"}),l.jsx("button",{type:"button",onClick:Ct,className:"w-1/2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Registrar"})]})]})}),re&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",onClick:()=>le(!1),children:l.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl shadow-2xl",onClick:De=>De.stopPropagation(),children:[l.jsxs("div",{className:"bg-zinc-800 p-6 border-b border-zinc-700",children:[l.jsx("div",{className:"text-zinc-400 text-sm mb-2",children:"Taxmetro"}),l.jsx("div",{className:"text-white text-4xl font-bold text-right min-h-[60px] flex items-center justify-end",children:Z||"0.00"})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsx("button",{onClick:()=>ut("7"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"7"}),l.jsx("button",{onClick:()=>ut("8"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"8"}),l.jsx("button",{onClick:()=>ut("9"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"9"}),l.jsx("button",{onClick:()=>ut("4"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"4"}),l.jsx("button",{onClick:()=>ut("5"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"5"}),l.jsx("button",{onClick:()=>ut("6"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"6"}),l.jsx("button",{onClick:()=>ut("1"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"1"}),l.jsx("button",{onClick:()=>ut("2"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"2"}),l.jsx("button",{onClick:()=>ut("3"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"3"}),l.jsx("button",{onClick:xr,className:"bg-red-600 hover:bg-red-700 text-white text-lg font-bold py-4 rounded-lg transition-colors active:bg-red-800",children:"C"}),l.jsx("button",{onClick:()=>ut("0"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"0"}),l.jsx("button",{onClick:Lt,className:"bg-zinc-700 hover:bg-zinc-600 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-500",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:Bt,className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"."}),l.jsx("button",{onClick:Fe,className:"bg-green-600 hover:bg-green-700 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-green-800",children:"OK"})]})]})]})}),J&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",onClick:()=>Y(!1),children:l.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl shadow-2xl",onClick:De=>De.stopPropagation(),children:[l.jsxs("div",{className:"bg-zinc-800 p-6 border-b border-zinc-700",children:[l.jsx("div",{className:"text-zinc-400 text-sm mb-2",children:"Cobrado"}),l.jsx("div",{className:"text-white text-4xl font-bold text-right min-h-[60px] flex items-center justify-end",children:se||"0.00"})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[l.jsx("button",{onClick:()=>bt("7"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"7"}),l.jsx("button",{onClick:()=>bt("8"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"8"}),l.jsx("button",{onClick:()=>bt("9"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"9"}),l.jsx("button",{onClick:()=>bt("4"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"4"}),l.jsx("button",{onClick:()=>bt("5"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"5"}),l.jsx("button",{onClick:()=>bt("6"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"6"}),l.jsx("button",{onClick:()=>bt("1"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"1"}),l.jsx("button",{onClick:()=>bt("2"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"2"}),l.jsx("button",{onClick:()=>bt("3"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"3"}),l.jsx("button",{onClick:yr,className:"bg-red-600 hover:bg-red-700 text-white text-lg font-bold py-4 rounded-lg transition-colors active:bg-red-800",children:"C"}),l.jsx("button",{onClick:()=>bt("0"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"0"}),l.jsx("button",{onClick:Ut,className:"bg-zinc-700 hover:bg-zinc-600 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-500",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:Pt,className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"."}),l.jsx("button",{onClick:tr,className:"bg-green-600 hover:bg-green-700 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-green-800",children:"OK"})]})]})]})})]})},U5="expenseTemplates",xp=()=>{try{const e=localStorage.getItem(U5);return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo plantillas:",e),[]}},WF=e=>{const t=xp(),r={...e,id:Date.now().toString(),createdAt:new Date().toISOString(),useCount:0};return t.push(r),localStorage.setItem(U5,JSON.stringify(t)),r.id},$F=e=>{const t=xp(),r=t.find(n=>n.id===e);r&&(r.useCount=(r.useCount||0)+1,r.lastUsed=new Date().toISOString(),localStorage.setItem(U5,JSON.stringify(t)))};var Vx={exports:{}},y3;function YF(){return y3||(y3=1,(function(e){var t=(function(r){var n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(Y,se,P){Y[se]=P.value},c,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",m=u.toStringTag||"@@toStringTag";function x(Y,se,P){return Object.defineProperty(Y,se,{value:P,enumerable:!0,configurable:!0,writable:!0}),Y[se]}try{x({},"")}catch{x=function(se,P,N){return se[P]=N}}function b(Y,se,P,N){var k=se&&se.prototype instanceof C?se:C,D=Object.create(k.prototype),M=new Z(N||[]);return s(D,"_invoke",{value:R(Y,P,M)}),D}r.wrap=b;function g(Y,se,P){try{return{type:"normal",arg:Y.call(se,P)}}catch(N){return{type:"throw",arg:N}}}var T="suspendedStart",w="suspendedYield",_="executing",E="completed",F={};function C(){}function L(){}function X(){}var I={};x(I,d,function(){return this});var U=Object.getPrototypeOf,K=U&&U(U(ie([])));K&&K!==n&&a.call(K,d)&&(I=K);var H=X.prototype=C.prototype=Object.create(I);L.prototype=X,s(H,"constructor",{value:X,configurable:!0}),s(X,"constructor",{value:L,configurable:!0}),L.displayName=x(X,m,"GeneratorFunction");function oe(Y){["next","throw","return"].forEach(function(se){x(Y,se,function(P){return this._invoke(se,P)})})}r.isGeneratorFunction=function(Y){var se=typeof Y=="function"&&Y.constructor;return se?se===L||(se.displayName||se.name)==="GeneratorFunction":!1},r.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,X):(Y.__proto__=X,x(Y,m,"GeneratorFunction")),Y.prototype=Object.create(H),Y},r.awrap=function(Y){return{__await:Y}};function O(Y,se){function P(D,M,q,Q){var me=g(Y[D],Y,M);if(me.type==="throw")Q(me.arg);else{var de=me.arg,ye=de.value;return ye&&typeof ye=="object"&&a.call(ye,"__await")?se.resolve(ye.__await).then(function(Ce){P("next",Ce,q,Q)},function(Ce){P("throw",Ce,q,Q)}):se.resolve(ye).then(function(Ce){de.value=Ce,q(de)},function(Ce){return P("throw",Ce,q,Q)})}}var N;function k(D,M){function q(){return new se(function(Q,me){P(D,M,Q,me)})}return N=N?N.then(q,q):q()}s(this,"_invoke",{value:k})}oe(O.prototype),x(O.prototype,h,function(){return this}),r.AsyncIterator=O,r.async=function(Y,se,P,N,k){k===void 0&&(k=Promise);var D=new O(b(Y,se,P,N),k);return r.isGeneratorFunction(se)?D:D.next().then(function(M){return M.done?M.value:D.next()})};function R(Y,se,P){var N=T;return function(D,M){if(N===_)throw new Error("Generator is already running");if(N===E){if(D==="throw")throw M;return J()}for(P.method=D,P.arg=M;;){var q=P.delegate;if(q){var Q=V(q,P);if(Q){if(Q===F)continue;return Q}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(N===T)throw N=E,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);N=_;var me=g(Y,se,P);if(me.type==="normal"){if(N=P.done?E:w,me.arg===F)continue;return{value:me.arg,done:P.done}}else me.type==="throw"&&(N=E,P.method="throw",P.arg=me.arg)}}}function V(Y,se){var P=se.method,N=Y.iterator[P];if(N===c)return se.delegate=null,P==="throw"&&Y.iterator.return&&(se.method="return",se.arg=c,V(Y,se),se.method==="throw")||P!=="return"&&(se.method="throw",se.arg=new TypeError("The iterator does not provide a '"+P+"' method")),F;var k=g(N,Y.iterator,se.arg);if(k.type==="throw")return se.method="throw",se.arg=k.arg,se.delegate=null,F;var D=k.arg;if(!D)return se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,F;if(D.done)se[Y.resultName]=D.value,se.next=Y.nextLoc,se.method!=="return"&&(se.method="next",se.arg=c);else return D;return se.delegate=null,F}oe(H),x(H,m,"Generator"),x(H,d,function(){return this}),x(H,"toString",function(){return"[object Generator]"});function re(Y){var se={tryLoc:Y[0]};1 in Y&&(se.catchLoc=Y[1]),2 in Y&&(se.finallyLoc=Y[2],se.afterLoc=Y[3]),this.tryEntries.push(se)}function le(Y){var se=Y.completion||{};se.type="normal",delete se.arg,Y.completion=se}function Z(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(re,this),this.reset(!0)}r.keys=function(Y){var se=Object(Y),P=[];for(var N in se)P.push(N);return P.reverse(),function k(){for(;P.length;){var D=P.pop();if(D in se)return k.value=D,k.done=!1,k}return k.done=!0,k}};function ie(Y){if(Y){var se=Y[d];if(se)return se.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var P=-1,N=function k(){for(;++P<Y.length;)if(a.call(Y,P))return k.value=Y[P],k.done=!1,k;return k.value=c,k.done=!0,k};return N.next=N}}return{next:J}}r.values=ie;function J(){return{value:c,done:!0}}return Z.prototype={constructor:Z,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(le),!Y)for(var se in this)se.charAt(0)==="t"&&a.call(this,se)&&!isNaN(+se.slice(1))&&(this[se]=c)},stop:function(){this.done=!0;var Y=this.tryEntries[0],se=Y.completion;if(se.type==="throw")throw se.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var se=this;function P(Q,me){return D.type="throw",D.arg=Y,se.next=Q,me&&(se.method="next",se.arg=c),!!me}for(var N=this.tryEntries.length-1;N>=0;--N){var k=this.tryEntries[N],D=k.completion;if(k.tryLoc==="root")return P("end");if(k.tryLoc<=this.prev){var M=a.call(k,"catchLoc"),q=a.call(k,"finallyLoc");if(M&&q){if(this.prev<k.catchLoc)return P(k.catchLoc,!0);if(this.prev<k.finallyLoc)return P(k.finallyLoc)}else if(M){if(this.prev<k.catchLoc)return P(k.catchLoc,!0)}else if(q){if(this.prev<k.finallyLoc)return P(k.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Y,se){for(var P=this.tryEntries.length-1;P>=0;--P){var N=this.tryEntries[P];if(N.tryLoc<=this.prev&&a.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var k=N;break}}k&&(Y==="break"||Y==="continue")&&k.tryLoc<=se&&se<=k.finallyLoc&&(k=null);var D=k?k.completion:{};return D.type=Y,D.arg=se,k?(this.method="next",this.next=k.finallyLoc,F):this.complete(D)},complete:function(Y,se){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&se&&(this.next=se),F},finish:function(Y){for(var se=this.tryEntries.length-1;se>=0;--se){var P=this.tryEntries[se];if(P.finallyLoc===Y)return this.complete(P.completion,P.afterLoc),le(P),F}},catch:function(Y){for(var se=this.tryEntries.length-1;se>=0;--se){var P=this.tryEntries[se];if(P.tryLoc===Y){var N=P.completion;if(N.type==="throw"){var k=N.arg;le(P)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(Y,se,P){return this.delegate={iterator:ie(Y),resultName:se,nextLoc:P},this.method==="next"&&(this.arg=c),F}},r})(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Vx)),Vx.exports}var Gx,w3;function H5(){return w3||(w3=1,Gx=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),Gx}var qx,S3;function iT(){if(S3)return qx;S3=1;const e=H5();let t=0;return qx=({id:r,action:n,payload:a={}})=>{let s=r;return typeof s>"u"&&(s=e("Job",t),t+=1),{id:s,action:n,payload:a}},qx}var sh={},N3;function V5(){if(N3)return sh;N3=1;let e=!1;return sh.logging=e,sh.setLogging=t=>{e=t},sh.log=(...t)=>e?console.log.apply(this,t):null,sh}var Wx,_3;function XF(){if(_3)return Wx;_3=1;const e=iT(),{log:t}=V5(),r=H5();let n=0;return Wx=()=>{const a=r("Scheduler",n),s={},c={};let u=[];n+=1;const d=()=>u.length,h=()=>Object.keys(s).length,m=()=>{if(u.length!==0){const w=Object.keys(s);for(let _=0;_<w.length;_+=1)if(typeof c[w[_]]>"u"){u[0](s[w[_]]);break}}},x=(w,_)=>new Promise((E,F)=>{const C=e({action:w,payload:_});u.push(async L=>{u.shift(),c[L.id]=C;try{E(await L[w].apply(this,[..._,C.id]))}catch(X){F(X)}finally{delete c[L.id],m()}}),t(`[${a}]: Add ${C.id} to JobQueue`),t(`[${a}]: JobQueue length=${u.length}`),m()});return{addWorker:w=>(s[w.id]=w,t(`[${a}]: Add ${w.id}`),t(`[${a}]: Number of workers=${h()}`),m(),w.id),addJob:async(w,..._)=>{if(h()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return x(w,_)},terminate:async()=>{Object.keys(s).forEach(async w=>{await s[w].terminate()}),u=[]},getQueueLen:d,getNumWorkers:h}},Wx}function KF(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $x,T3;function ZF(){return T3||(T3=1,$x=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof KF=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),$x}var Yx,A3;function JF(){if(A3)return Yx;A3=1;const t=ZF()("type")==="browser"?r=>new URL(r,window.location.href).href:r=>r;return Yx=r=>{const n={...r};return["corePath","workerPath","langPath"].forEach(a=>{r[a]&&(n[a]=t(n[a]))}),n},Yx}var Xx,E3;function sT(){return E3||(E3=1,Xx={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Xx}const QF="6.0.1",eO={version:QF};var Kx,j3;function tO(){return j3||(j3=1,Kx={workerBlobURL:!0,logger:()=>{}}),Kx}var Zx,C3;function rO(){if(C3)return Zx;C3=1;const e=eO.version;return Zx={...tO(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},Zx}var Jx,k3;function nO(){return k3||(k3=1,Jx=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const n=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(e);return r}),Jx}var Qx,D3;function aO(){return D3||(D3=1,Qx=e=>{e.terminate()}),Qx}var e2,L3;function iO(){return L3||(L3=1,e2=(e,t)=>{e.onmessage=({data:r})=>{t(r)}}),e2}var t2,z3;function sO(){return z3||(z3=1,t2=async(e,t)=>{e.postMessage(t)}),t2}var r2,F3;function oO(){if(F3)return r2;F3=1;const e=r=>new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{n(s.result)},s.onerror=({target:{error:{code:c}}})=>{a(Error(`File could not be read! Code=${c}`))},s.readAsArrayBuffer(r)}),t=async r=>{let n=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?n=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):n=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(n=await t(r.src)),r.tagName==="VIDEO"&&(n=await t(r.poster)),r.tagName==="CANVAS"&&await new Promise(a=>{r.toBlob(async s=>{n=await e(s),a()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const a=await r.convertToBlob();n=await e(a)}else(r instanceof File||r instanceof Blob)&&(n=await e(r));return new Uint8Array(n)};return r2=t,r2}var n2,O3;function lO(){if(O3)return n2;O3=1;const e=rO(),t=nO(),r=aO(),n=iO(),a=sO(),s=oO();return n2={defaultOptions:e,spawnWorker:t,terminateWorker:r,onMessage:n,send:a,loadImage:s},n2}var a2,R3;function oT(){if(R3)return a2;R3=1;const e=JF(),t=iT(),{log:r}=V5(),n=H5(),a=sT(),{defaultOptions:s,spawnWorker:c,terminateWorker:u,onMessage:d,loadImage:h,send:m}=lO();let x=0;return a2=async(b="eng",g=a.LSTM_ONLY,T={},w={})=>{const _=n("Worker",x),{logger:E,errorHandler:F,...C}=e({...s,...T}),L={},X=typeof b=="string"?b.split("+"):b;let I=g,U=w;const K=[a.DEFAULT,a.LSTM_ONLY].includes(g)&&!C.legacyCore;let H,oe;const O=new Promise((de,ye)=>{oe=de,H=ye}),R=de=>{H(de.message)};let V=c(C);V.onerror=R,x+=1;const re=({id:de,action:ye,payload:Ce})=>new Promise((Ve,Be)=>{r(`[${_}]: Start ${de}, action=${ye}`);const ae=`${ye}-${de}`;L[ae]={resolve:Ve,reject:Be},m(V,{workerId:_,jobId:de,action:ye,payload:Ce})}),le=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Z=de=>re(t({id:de,action:"load",payload:{options:{lstmOnly:K,corePath:C.corePath,logging:C.logging}}})),ie=(de,ye,Ce)=>re(t({id:Ce,action:"FS",payload:{method:"writeFile",args:[de,ye]}})),J=(de,ye)=>re(t({id:ye,action:"FS",payload:{method:"readFile",args:[de,{encoding:"utf8"}]}})),Y=(de,ye)=>re(t({id:ye,action:"FS",payload:{method:"unlink",args:[de]}})),se=(de,ye,Ce)=>re(t({id:Ce,action:"FS",payload:{method:de,args:ye}})),P=(de,ye)=>re(t({id:ye,action:"loadLanguage",payload:{langs:de,options:{langPath:C.langPath,dataPath:C.dataPath,cachePath:C.cachePath,cacheMethod:C.cacheMethod,gzip:C.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(I)&&!C.legacyLang}}})),N=(de,ye,Ce,Ve)=>re(t({id:Ve,action:"initialize",payload:{langs:de,oem:ye,config:Ce}})),k=(de="eng",ye,Ce,Ve)=>{if(K&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(ye))throw Error("Legacy model requested but code missing.");const Be=ye||I;I=Be;const ae=Ce||U;U=ae;const Ze=(typeof de=="string"?de.split("+"):de).filter(Oe=>!X.includes(Oe));return X.push(...Ze),Ze.length>0?P(Ze,Ve).then(()=>N(de,Be,ae,Ve)):N(de,Be,ae,Ve)},D=(de={},ye)=>re(t({id:ye,action:"setParameters",payload:{params:de}})),M=async(de,ye={},Ce={text:!0},Ve)=>re(t({id:Ve,action:"recognize",payload:{image:await h(de),options:ye,output:Ce}})),q=async(de,ye)=>{if(K)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return re(t({id:ye,action:"detect",payload:{image:await h(de)}}))},Q=async()=>(V!==null&&(u(V),V=null),Promise.resolve());d(V,({workerId:de,jobId:ye,status:Ce,action:Ve,data:Be})=>{const ae=`${Ve}-${ye}`;if(Ce==="resolve")r(`[${de}]: Complete ${ye}`),L[ae].resolve({jobId:ye,data:Be}),delete L[ae];else if(Ce==="reject")if(L[ae].reject(Be),delete L[ae],Ve==="load"&&H(Be),F)F(Be);else throw Error(Be);else Ce==="progress"&&E({...Be,userJobId:ye})});const me={id:_,worker:V,load:le,writeText:ie,readText:J,removeFile:Y,FS:se,reinitialize:k,setParameters:D,recognize:M,detect:q,terminate:Q};return Z().then(()=>P(b)).then(()=>N(b,g,w)).then(()=>oe(me)).catch(()=>{}),O},a2}var i2,M3;function cO(){if(M3)return i2;M3=1;const e=oT();return i2={recognize:async(n,a,s)=>{const c=await e(a,1,s);return c.recognize(n).finally(async()=>{await c.terminate()})},detect:async(n,a)=>{const s=await e("osd",0,a);return s.detect(n).finally(async()=>{await s.terminate()})}},i2}var s2,I3;function uO(){return I3||(I3=1,s2={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),s2}var o2,P3;function fO(){return P3||(P3=1,o2={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),o2}var l2,B3;function dO(){if(B3)return l2;B3=1,YF();const e=XF(),t=oT(),r=cO(),n=uO(),a=sT(),s=fO(),{setLogging:c}=V5();return l2={languages:n,OEM:a,PSM:s,createScheduler:e,createWorker:t,setLogging:c,...r},l2}var hO=dO();const mO=Hv(hO),pO=({onScanComplete:e,onClose:t})=>{const[r,n]=W.useState(!1),[a,s]=W.useState(null),c=W.useRef(null),u=W.useRef(null),d=g=>{var w;const T=(w=g.target.files)==null?void 0:w[0];if(T){const _=new FileReader;_.onload=E=>{var F;s((F=E.target)==null?void 0:F.result),h(T)},_.readAsDataURL(T)}},h=async g=>{n(!0);try{const w=(await mO.recognize(g,"spa",{logger:_=>console.log(_)})).data.text;console.log("OCR Result:",w),m(w)}catch(T){console.error(T),alert("Error al escanear la imagen."),n(!1)}},m=g=>{const T={},w=g.toLowerCase(),_=g.split(`
`).map(J=>J.trim()).filter(J=>J.length>0),E=/\b\d{1,3}(?:[.,]\d{3})*(?:[.,]\d{2})\b/g,F=[];let C;for(;(C=E.exec(g))!==null;){let J=parseFloat(C[0].replace(",","."));C[0].includes(".")&&C[0].includes(",")?C[0].lastIndexOf(",")>C[0].lastIndexOf(".")?J=parseFloat(C[0].replace(/\./g,"").replace(",",".")):J=parseFloat(C[0].replace(/,/g,"")):C[0].includes(",")&&(J=parseFloat(C[0].replace(",","."))),isNaN(J)||F.push({value:J,index:C.index,text:C[0]})}let L=0,X=-1e3;const I=["total","venta","importe","pagar","cobrado"],U=["preautorizado","subtotal","entregado","cambio","ahorro","descuento","base","iva","tarjeta","efectivo","restante","puntos","euros/l"];F.forEach(J=>{let Y=0;const se=Math.max(0,J.index-50),P=Math.min(g.length,J.index+J.text.length+20),N=g.substring(se,P).toLowerCase();I.some(k=>N.includes(k))&&(Y+=50),N.includes("total")&&N.indexOf("total")<J.index-se&&(Y+=30),U.some(k=>N.includes(k))&&(Y-=100),N.includes("preautorizado")&&(Y-=500),J.value<1&&(Y-=10),Y>X?(X=Y,L=J.value):Y===X&&J.value>L&&(L=J.value)}),L>0&&(T.importe=L);const K=/(\d+(?:[.,]\d{1,2})?)\s*(?:l|litros|ltrs|L)\b/i,H=g.match(K);H&&(T.litros=parseFloat(H[1].replace(",",".")));let oe=!1;const O=/(?:fecha|date)\s*[:.]?\s*(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{2,4})/i,R=/\b(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{2,4})\b/;for(const J of _){const Y=J.match(O);if(Y){const se=parseInt(Y[1]),P=parseInt(Y[2])-1;let N=parseInt(Y[3]);N<100&&(N+=2e3);const k=new Date(N,P,se);if(!isNaN(k.getTime())){T.fecha=k,oe=!0;break}}}if(!oe){const J=g.match(R);if(J){const Y=parseInt(J[1]),se=parseInt(J[2])-1;let P=parseInt(J[3]);P<100&&(P+=2e3);const N=new Date(P,se,Y);isNaN(N.getTime())||(T.fecha=N)}}const V=/\b([0-9]{8}[A-Z]|[A-Z][0-9]{8})\b/i,re=g.match(V);re&&(T.nif=re[0].toUpperCase());const le=/(?:factura|ticket|fra|n\.|numero)\s*(?:n|num|n\.)?[:.]?\s*([A-Za-z0-9\-\/]+)/i,Z=g.match(le);Z&&Z[1].length>3&&(T.numeroFactura=Z[1]);const ie=[{name:"Repsol",concept:"Combustible"},{name:"Cepsa",concept:"Combustible"},{name:"BP",concept:"Combustible"},{name:"Galp",concept:"Combustible"},{name:"Shell",concept:"Combustible"},{name:"Costco",concept:"Combustible"},{name:"Petroprix",concept:"Combustible"},{name:"Ballenoil",concept:"Combustible"},{name:"Plenoil",concept:"Combustible"},{name:"Carrefour",concept:"Combustible"},{name:"Mercadona",concept:"Supermercado"},{name:"Alcampo",concept:"Supermercado"},{name:"Lidl",concept:"Supermercado"}];for(const J of ie)if(w.includes(J.name.toLowerCase())){T.proveedor=J.name,T.concepto=J.concept;break}if(!T.proveedor){const J=_.find(Y=>Y.length>3&&/^[A-Z\s\.]+$/.test(Y)&&!Y.toLowerCase().includes("factura")&&!Y.toLowerCase().includes("ticket")&&!Y.toLowerCase().includes("cliente")&&!Y.match(/\d/));J&&(T.proveedor=J)}T.concepto||(w.includes("gasolina")||w.includes("liter")||w.includes("litros")||w.includes("db gasoleo")||w.includes("diesel")?T.concepto="Combustible":(w.includes("talle")||w.includes("reparacion")||w.includes("neumaticos"))&&(T.concepto="Mantenimiento")),n(!1),e(T)},x=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),l.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),b=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:l.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})});return l.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-zinc-900 rounded-xl max-w-sm w-full p-4 border border-zinc-700 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-zinc-100",children:"Escanear Ticket"}),l.jsx("button",{onClick:t,className:"text-zinc-400 hover:text-red-400",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[a?l.jsxs("div",{className:"relative rounded-lg overflow-hidden h-64 bg-black flex items-center justify-center border border-zinc-700",children:[l.jsx("img",{src:a,alt:"Preview",className:"max-h-full max-w-full object-contain"}),r&&l.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center backdrop-blur-sm",children:[l.jsx(sd,{size:"lg"}),l.jsx("p",{className:"mt-3 text-white font-semibold animate-pulse",children:"Analizando Ticket..."})]})]}):l.jsx("div",{className:"h-32 flex items-center justify-center border-2 border-dashed border-zinc-700 rounded-lg bg-zinc-800/30",children:l.jsx("p",{className:"text-zinc-500 text-sm p-4 text-center",children:"Selecciona una opcin abajo"})}),!r&&l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>{var g;return(g=c.current)==null?void 0:g.click()},className:"flex flex-col items-center justify-center p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors gap-2",children:[l.jsx(x,{}),l.jsx("span",{className:"font-semibold text-sm",children:"Cmara"})]}),l.jsxs("button",{onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},className:"flex flex-col items-center justify-center p-4 bg-zinc-700 hover:bg-zinc-600 text-zinc-100 rounded-lg transition-colors gap-2",children:[l.jsx(b,{}),l.jsx("span",{className:"font-semibold text-sm",children:"Galera"})]})]}),l.jsx("input",{type:"file",ref:c,accept:"image/*",capture:"environment",className:"hidden",onChange:d}),l.jsx("input",{type:"file",ref:u,accept:"image/*",className:"hidden",onChange:d}),a&&!r&&l.jsx("button",{onClick:()=>{s(null)},className:"w-full py-2 text-sm text-zinc-400 hover:text-white transition-colors",children:"Cancelar / Nueva Foto"})]})]})})},Tm=({label:e,placeholder:t,value:r,onChange:n,onSelect:a,items:s,onAddNew:c,readOnly:u,className:d=""})=>{const[h,m]=W.useState(!1),[x,b]=W.useState([]),g=W.useRef(null);W.useEffect(()=>{if(r.trim()==="")b([]),m(!1);else{const _=s.filter(F=>F.nombre.toLowerCase().includes(r.toLowerCase()));b(_);const E=s.some(F=>F.nombre.toLowerCase()===r.toLowerCase());m(_.length>0&&!E)}},[r,s]);const T=()=>{const _=s.some(E=>E.nombre.toLowerCase()===r.toLowerCase());x.length>0&&!_&&m(!0)},w=()=>{g.current=setTimeout(()=>{m(!1)},200)};return W.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]),l.jsxs("div",{className:`space-y-1.5 ${d}`,children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:e}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:t,value:r,onChange:_=>n(_.target.value),onFocus:T,onBlur:w,readOnly:u,className:`flex-grow p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 ${u?"bg-zinc-800 cursor-not-allowed":""}`}),c&&l.jsxs("button",{type:"button",onClick:c,className:"bg-blue-600 text-white px-3 py-2 rounded-lg font-semibold flex items-center justify-center gap-1.5 text-sm hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),l.jsx("span",{children:"Nuevo"})]})]}),h&&x.length>0&&l.jsx("div",{className:"absolute z-50 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-48 overflow-y-auto",onMouseDown:_=>_.preventDefault(),children:x.map(_=>l.jsx("button",{type:"button",onClick:()=>{a(_),m(!1)},className:"w-full text-left px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-700 transition-colors",children:_.nombre},_.id))})]})]})},Rl=({label:e,children:t})=>l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:e}),t]}),_c=e=>l.jsx("input",{...e,className:"w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500"}),gO=e=>l.jsx("textarea",{...e,className:"w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500"}),G5=({children:e,onClick:t,disabled:r,className:n=""})=>l.jsx("button",{onClick:t,disabled:r,className:`bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold flex items-center justify-center gap-1.5 text-sm hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 ${n}`,children:e}),q5=({title:e,onClose:t,children:r})=>l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-4",children:e}),r,l.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-zinc-500 hover:text-zinc-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),xO=({onClose:e,onSave:t,initialName:r=""})=>{const[n,a]=Vi.useState(r),[s,c]=Vi.useState(""),[u,d]=Vi.useState(""),[h,m]=Vi.useState(""),[x,b]=Vi.useState(!1),g=async()=>{if(!n.trim()){alert("El nombre es obligatorio");return}b(!0);try{await t({nombre:n,direccion:s,telefono:u,nif:h}),e()}catch(T){console.error(T)}finally{b(!1)}};return l.jsx(q5,{title:"Nuevo Proveedor",onClose:e,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Rl,{label:"Nombre *",children:l.jsx(_c,{value:n,onChange:T=>a(T.target.value),autoFocus:!0})}),l.jsx(Rl,{label:"Direccin",children:l.jsx(_c,{value:s,onChange:T=>c(T.target.value)})}),l.jsx(Rl,{label:"Telfono",children:l.jsx(_c,{value:u,onChange:T=>d(T.target.value)})}),l.jsx(Rl,{label:"NIF",children:l.jsx(_c,{value:h,onChange:T=>m(T.target.value)})}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(G5,{onClick:g,disabled:x,className:"flex-1",children:x?"Guardando...":"Guardar"}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})})},vO=({onClose:e,onSave:t,initialName:r=""})=>{const[n,a]=Vi.useState(r),[s,c]=Vi.useState(""),[u,d]=Vi.useState(""),[h,m]=Vi.useState(!1),x=async()=>{if(!n.trim()){alert("El nombre es obligatorio");return}m(!0);try{await t({nombre:n,descripcion:s,categoria:u}),e()}catch(b){console.error(b)}finally{m(!1)}};return l.jsx(q5,{title:"Nuevo Concepto",onClose:e,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Rl,{label:"Nombre *",children:l.jsx(_c,{value:n,onChange:b=>a(b.target.value),autoFocus:!0})}),l.jsx(Rl,{label:"Descripcin",children:l.jsx(gO,{rows:3,value:s,onChange:b=>c(b.target.value)})}),l.jsx(Rl,{label:"Categora",children:l.jsx(_c,{value:u,onChange:b=>d(b.target.value)})}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(G5,{onClick:x,disabled:h,className:"flex-1",children:h?"Guardando...":"Guardar"}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})})},bO=({onClose:e,onSave:t,initialName:r=""})=>{const[n,a]=Vi.useState(r),[s,c]=Vi.useState(""),[u,d]=Vi.useState(""),[h,m]=Vi.useState(!1),x=async()=>{if(!n.trim()){alert("El nombre es obligatorio");return}m(!0);try{await t({nombre:n,direccion:s,telefono:u}),e()}catch(b){console.error(b)}finally{m(!1)}};return l.jsx(q5,{title:"Nuevo Taller",onClose:e,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Rl,{label:"Nombre *",children:l.jsx(_c,{value:n,onChange:b=>a(b.target.value),autoFocus:!0})}),l.jsx(Rl,{label:"Direccin",children:l.jsx(_c,{value:s,onChange:b=>c(b.target.value)})}),l.jsx(Rl,{label:"Telfono",children:l.jsx(_c,{value:u,onChange:b=>d(b.target.value)})}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(G5,{onClick:x,disabled:h,className:"flex-1",children:h?"Guardando...":"Guardar"}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})})},Ja=gr,oh=({title:e,children:t,className:r=""})=>l.jsxs("div",{className:`bg-zinc-900 border border-zinc-800 rounded-xl p-3 space-y-2 ${r}`,children:[l.jsx("h2",{className:"text-sm font-black text-zinc-400 uppercase tracking-wider",children:e}),t]}),Ii=({label:e,children:t,className:r=""})=>l.jsxs("div",{className:r,children:[l.jsx("label",{className:"block text-[10px] font-black text-zinc-500 uppercase mb-1 ml-1",children:e}),t]}),Qa=({readOnly:e,className:t="",...r})=>l.jsx("input",{...r,readOnly:e,className:`w-full py-1.5 px-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-600 ${e?"bg-zinc-900/50 border-zinc-800 text-zinc-400":""} ${t}`}),N0=({children:e,onClick:t,className:r="",disabled:n,variant:a="primary"})=>{const s={primary:"bg-blue-600 hover:bg-blue-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white",outline:"bg-zinc-800 hover:bg-zinc-700 text-zinc-300 border border-zinc-700"};return l.jsx("button",{onClick:t,disabled:n,className:`${s[a]} px-3 py-2 rounded-lg font-semibold flex items-center justify-center gap-1.5 text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${r}`,children:e})},U3=({navigateTo:e,gastoId:t})=>{const r=!!t,{showToast:n}=To(),[a,s]=W.useState("actividad"),[c,u]=W.useState(r),[d,h]=W.useState(!1),[m,x]=W.useState(null),[b,g]=W.useState(new Date().toISOString().split("T")[0]),[T,w]=W.useState(""),[_,E]=W.useState(""),[F,C]=W.useState("Efectivo"),[L,X]=W.useState(""),[I,U]=W.useState(""),[K,H]=W.useState(""),[oe,O]=W.useState(!0),[R,V]=W.useState("21"),[re,le]=W.useState(""),[Z,ie]=W.useState(""),[J,Y]=W.useState(""),[se,P]=W.useState(""),[N,k]=W.useState(""),[D,M]=W.useState([{}]),[q,Q]=W.useState(""),[me,de]=W.useState(""),[ye,Ce]=W.useState(""),[Ve,Be]=W.useState(""),[ae,he]=W.useState({proveedores:[],conceptos:[],talleres:[]}),[Ze,Oe]=W.useState({proveedor:!1,concepto:!1,taller:!1}),[Qe,Ue]=W.useState(!1),[ct,rt]=W.useState(!1),[Dt,jt]=W.useState(!1),[Ft,it]=W.useState(""),[Ct,pt]=W.useState([]);W.useEffect(()=>{const Fe=parseFloat(_)||0,ot=parseFloat(ye)||0,bt=parseFloat(R)||0,Pt=Fe-ot;if(Be(Pt.toFixed(2)),oe&&bt>0){const Ut=Fe/(1+bt/100);Q(Ut.toFixed(2)),de((Fe-Ut).toFixed(2))}else Q(Fe.toFixed(2)),de("0.00")},[_,R,oe,ye]),W.useEffect(()=>{const Fe=Ja(J),ot=Ja(_);Fe>0&&ot>0?P((ot/Fe).toFixed(3)):P("")},[J,_]);const vt=W.useMemo(()=>{const Fe=Ja(J),ot=Ja(Z);return Fe>0&&ot>0?(Fe/ot*100).toFixed(2):null},[J,Z]),ut=W.useCallback(async()=>{try{const[Fe,ot,bt]=await Promise.all([h1(),Gp(),m1()]);he({proveedores:Fe,conceptos:ot,talleres:bt}),pt(xp())}catch(Fe){console.error("Error loading initial lists:",Fe)}},[]);W.useEffect(()=>{ut()},[ut]),W.useEffect(()=>{if(!r||!t)return;(async()=>{var ot,bt,Pt,Ut,yr,tr,Dr;u(!0);try{const nr=await X_(t);if(nr){const jr=nr.fecha instanceof Date?nr.fecha:new Date(nr.fecha);g(jr.toISOString().split("T")[0]),w(nr.numeroFactura||""),E(((ot=nr.importe)==null?void 0:ot.toString())||""),C(nr.formaPago||"Efectivo"),s(nr.tipo||"actividad"),U(nr.proveedor||""),H(nr.concepto||""),k(nr.taller||""),le(((bt=nr.kilometros)==null?void 0:bt.toString())||""),ie(((Pt=nr.kmParciales)==null?void 0:Pt.toString())||""),Y(((Ut=nr.litros)==null?void 0:Ut.toString())||""),V(((yr=nr.ivaPorcentaje)==null?void 0:yr.toString())||"21"),O(!!(nr.ivaPorcentaje&&nr.ivaPorcentaje>0)),M((tr=nr.servicios)!=null&&tr.length?nr.servicios:[{}]),Ce(((Dr=nr.descuento)==null?void 0:Dr.toString())||""),X(nr.notas||"")}}catch(nr){console.error("Error loading expense:",nr),x("Error al cargar el gasto")}finally{u(!1)}})()},[r,t]);const Bt=async()=>{const Fe=Ja(_);if(Fe<=0){x("El importe total debe ser mayor a 0");return}h(!0),x(null);try{const ot={importe:Fe,fecha:b?new Date(b):new Date,formaPago:F,tipo:a,numeroFactura:T.trim()||null,baseImponible:Ja(q)||null,ivaImporte:Ja(me)||null,ivaPorcentaje:Ja(R)||null,descuento:Ja(ye)||null,notas:L.trim()||null,kilometros:Ja(re)||null};a==="actividad"?(ot.proveedor=I.trim()||null,ot.concepto=K.trim()||null,ot.kmParciales=Ja(Z)||null,ot.litros=Ja(J)||null,ot.precioPorLitro=Ja(se)||null):(ot.taller=N.trim()||null,ot.concepto=K.trim()||null,ot.servicios=(D||[]).filter(bt=>bt.referencia||bt.importe||bt.descripcion).map(bt=>({...bt,importe:Ja(String(bt.importe)),cantidad:Ja(String(bt.cantidad)),descuentoPorcentaje:Ja(String(bt.descuentoPorcentaje))})),(K.toLowerCase().includes("carburante")||K.toLowerCase().includes("combustible"))&&(ot.kilometrosVehiculo=Ja(re)||null)),r&&t?await Z_(t,ot):await K_(ot),n(`Gasto ${r?"actualizado":"guardado"} correctamente`,"success"),e(mt.ResumenGastosMensual)}catch(ot){console.error("Error saving expense:",ot),x("Error al guardar el gasto")}finally{h(!1)}},Lt=async()=>{if(!(!r||!t||!confirm("Eliminar este gasto?"))){h(!0);try{await _5(t),n("Gasto eliminado","success"),e(mt.ResumenGastosMensual)}catch{x("Error al eliminar el gasto")}finally{h(!1)}}},xr=Fe=>{Fe.importe&&E(Fe.importe.toString()),Fe.formaPago&&C(Fe.formaPago),Fe.proveedor&&U(Fe.proveedor),Fe.concepto&&H(Fe.concepto),Fe.taller&&k(Fe.taller),Fe.ivaPorcentaje&&V(Fe.ivaPorcentaje.toString()),Fe.tipo&&s(Fe.tipo),$F(Fe.id),rt(!1),n("Plantilla aplicada","success")};return c?l.jsx("div",{className:"bg-zinc-950 min-h-screen flex items-center justify-center text-zinc-400",children:l.jsx("div",{className:"animate-pulse",children:"Cargando..."})}):l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-2 pb-6",children:[l.jsx(ia,{title:r?"Editar Gasto":"Gastos",navigateTo:e,backTarget:r?mt.ResumenGastosMensual:mt.Home,className:"mb-2"}),l.jsxs("div",{className:"space-y-2.5 max-w-lg mx-auto",children:[l.jsxs(oh,{title:"Datos de la Factura",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Ii,{label:"Fecha",children:l.jsx(Qa,{type:"date",value:b,onChange:Fe=>g(Fe.target.value),className:"border-blue-500/30"})}),l.jsx(Ii,{label:"N Factura",children:l.jsx(Qa,{placeholder:"Ej: 2024/001",value:T,onChange:Fe=>w(Fe.target.value)})}),l.jsx(Ii,{label:"Importe Total",children:l.jsxs("div",{className:"relative flex gap-1",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(Qa,{type:"number",placeholder:"0.00",value:_,onChange:Fe=>E(Fe.target.value),className:"pl-6 font-bold text-base"}),l.jsx("span",{className:"absolute left-2.5 top-2 text-zinc-500 font-bold text-xs",children:""})]}),l.jsx("button",{onClick:()=>Ue(!0),className:"px-2 bg-zinc-800 border border-zinc-700 rounded-lg text-blue-400 hover:bg-zinc-700 transition-colors",title:"Escanear Ticket",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18",viewBox:"0 0 24 24",width:"18",fill:"currentColor",children:l.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})})})]})}),l.jsx(Ii,{label:"Kilmetros",children:l.jsx(Qa,{type:"number",placeholder:"Km totales",value:re,onChange:Fe=>le(Fe.target.value)})})]}),l.jsx(Ii,{label:"Forma de Pago",children:l.jsx("select",{value:F,onChange:Fe=>C(Fe.target.value),className:"w-full py-1.5 px-2 bg-zinc-800/50 border border-zinc-700 rounded-md text-sm text-zinc-100 focus:ring-blue-500 focus:border-blue-500",children:["Efectivo","Tarjeta","Bizum","Domiciliado","Transferencia"].map(Fe=>l.jsx("option",{children:Fe},Fe))})})]}),l.jsx("div",{className:"flex gap-1 p-1 bg-zinc-900 border border-zinc-800 rounded-xl",children:["actividad","vehiculo"].map(Fe=>l.jsx("button",{onClick:()=>s(Fe),className:`flex-1 py-1.5 rounded-lg font-black text-xs uppercase tracking-tight transition-all ${a===Fe?"bg-blue-600 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300"}`,children:Fe==="actividad"?" Actividad":" Vehculo"},Fe))}),a==="actividad"?l.jsxs(oh,{title:"Detalles del Gasto",children:[l.jsx(Tm,{label:"Proveedor / Empresa",placeholder:"Ej: Repsol, Gestora...",value:I,items:ae.proveedores,onChange:U,onSelect:Fe=>U(Fe.nombre),onAddNew:()=>Oe(Fe=>({...Fe,proveedor:!0}))}),l.jsx(Tm,{label:"Concepto",placeholder:"Ej: Combustible, Cuota...",value:K,items:ae.conceptos,onChange:H,onSelect:Fe=>H(Fe.nombre),onAddNew:()=>Oe(Fe=>({...Fe,concepto:!0}))}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[l.jsx(Ii,{label:"Desgrava IVA?",children:l.jsx("button",{onClick:()=>O(!oe),className:`w-full py-2 rounded-lg border text-sm font-bold transition-colors ${oe?"bg-blue-900/30 border-blue-500 text-blue-200":"bg-zinc-800 border-zinc-700 text-zinc-500"}`,children:oe?"S (21%)":"NO"})}),oe&&l.jsx(Ii,{label:"Porcentaje IVA",children:l.jsx(Qa,{type:"number",value:R,onChange:Fe=>V(Fe.target.value)})})]}),(K.toLowerCase().includes("combustible")||K.toLowerCase().includes("carburante")||K.toLowerCase().includes("gasolin")||K.toLowerCase().includes("gasoil")||K.toLowerCase().includes("disel")||K.toLowerCase().includes("diesel")||K.toLowerCase().includes("repost")||Ja(J)>0||Ja(Z)>0)&&l.jsxs("div",{className:"pt-4 mt-2 border-t border-zinc-800 space-y-4",children:[l.jsx("h3",{className:"text-xs font-black text-blue-500 uppercase",children:"Datos de Repostaje"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Ii,{label:"KM Parciales",children:l.jsx(Qa,{type:"number",placeholder:"Ej: 450",value:Z,onChange:Fe=>ie(Fe.target.value)})}),l.jsx(Ii,{label:"Litros",children:l.jsx(Qa,{type:"number",placeholder:"0.00",value:J,onChange:Fe=>Y(Fe.target.value)})})]}),se&&l.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg flex justify-between items-center",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-blue-400 font-black uppercase",children:"Precio/L"}),l.jsxs("span",{className:"text-lg font-black text-blue-100",children:[se," /L"]})]}),vt&&l.jsxs("div",{className:"flex flex-col items-end border-l border-blue-500/20 pl-4",children:[l.jsx("span",{className:"text-[10px] text-emerald-400 font-black uppercase",children:"Consumo"}),l.jsxs("span",{className:"text-lg font-black text-emerald-100",children:[vt," L/100"]})]})]})]})]}):l.jsxs(oh,{title:"Detalles del Vehculo",children:[l.jsx(Tm,{label:"Taller",placeholder:"Ej: Talleres Manolo...",value:N,items:ae.talleres,onChange:k,onSelect:Fe=>k(Fe.nombre),onAddNew:()=>Oe(Fe=>({...Fe,taller:!0}))}),l.jsx(Tm,{label:"Motivo General",placeholder:"Ej: Revisin 60k...",value:K,items:ae.conceptos,onChange:H,onSelect:Fe=>H(Fe.nombre),onAddNew:()=>Oe(Fe=>({...Fe,concepto:!0}))}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[l.jsx(Ii,{label:"Desgrava IVA?",children:l.jsx("button",{onClick:()=>O(!oe),className:`w-full py-2 rounded-lg border text-sm font-bold transition-colors ${oe?"bg-blue-900/30 border-blue-500 text-blue-200":"bg-zinc-800 border-zinc-700 text-zinc-500"}`,children:oe?"S (21%)":"NO"})}),oe&&l.jsx(Ii,{label:"Porcentaje IVA",children:l.jsx(Qa,{type:"number",value:R,onChange:Fe=>V(Fe.target.value)})})]}),l.jsxs("div",{className:"pt-2 border-t border-zinc-800",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-xs font-black text-zinc-500 uppercase",children:"Desglose de Servicios"}),l.jsx("button",{onClick:()=>M([...D,{}]),className:"text-blue-400 text-xs font-bold hover:bg-blue-400/10 px-2 py-1 rounded transition-colors",children:"+ Aadir Lnea"})]}),l.jsx("div",{className:"space-y-3",children:D.map((Fe,ot)=>l.jsxs("div",{className:"p-3 bg-zinc-800/30 rounded-xl border border-zinc-800 space-y-2 relative group",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Qa,{placeholder:"Referencia",value:Fe.referencia||"",onChange:bt=>{const Pt=[...D];Pt[ot].referencia=bt.target.value,M(Pt)}}),l.jsx(Qa,{type:"number",placeholder:"Importe",value:Fe.importe||"",onChange:bt=>{const Pt=[...D];Pt[ot].importe=parseFloat(bt.target.value)||0,M(Pt)}})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Qa,{type:"number",placeholder:"Cantidad",value:Fe.cantidad||"",onChange:bt=>{const Pt=[...D];Pt[ot].cantidad=parseFloat(bt.target.value)||0,M(Pt)}}),l.jsx(Qa,{type:"number",placeholder:"Desc. %",value:Fe.descuentoPorcentaje||"",onChange:bt=>{const Pt=[...D];Pt[ot].descuentoPorcentaje=parseFloat(bt.target.value)||0,M(Pt)}})]}),l.jsx(Qa,{placeholder:"Servicio",value:Fe.descripcion||"",onChange:bt=>{const Pt=[...D];Pt[ot].descripcion=bt.target.value,M(Pt)}}),D.length>1&&l.jsx("button",{onClick:()=>M(D.filter((bt,Pt)=>Pt!==ot)),className:"absolute -top-1.5 -right-1.5 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-[10px] shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},ot))})]})]}),l.jsx(oh,{title:"Resumen de Totales",children:l.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[l.jsx(Ii,{label:"Base",children:l.jsx(Qa,{readOnly:!0,value:q,className:"text-center font-bold"})}),l.jsx(Ii,{label:"Iva %",children:l.jsx(Qa,{readOnly:!0,value:R,className:"text-center font-bold"})}),l.jsx(Ii,{label:"Iva ()",children:l.jsx(Qa,{readOnly:!0,value:me,className:"text-center font-bold text-blue-400"})}),l.jsx(Ii,{label:"Desc.",children:l.jsx(Qa,{type:"number",placeholder:"0.00",value:ye,onChange:Fe=>Ce(Fe.target.value),className:"text-center"})}),l.jsx(Ii,{label:"TOTAL",children:l.jsx(Qa,{readOnly:!0,value:Ve,className:"text-center font-black bg-blue-500/10 border-blue-500/30 text-blue-300"})})]})}),l.jsx(oh,{title:"Informacin Adicional",children:l.jsx("textarea",{rows:2,value:L,onChange:Fe=>X(Fe.target.value),className:"w-full p-2 bg-zinc-800/50 border border-zinc-700 rounded-lg text-sm text-zinc-100 placeholder:text-zinc-600 focus:ring-blue-500",placeholder:"Anotaciones extra sobre el gasto..."})}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs("div",{className:"flex gap-3",children:[!r&&l.jsx(N0,{variant:"outline",onClick:()=>rt(!0),className:"flex-1 py-3",children:" Gastos Rpidos"}),l.jsx(N0,{onClick:Bt,disabled:d,className:"flex-[2] py-3 text-base shadow-lg shadow-blue-900/20",children:d?" Procesando...":r?" Actualizar Cambios":" Guardar Gasto"})]}),l.jsx("div",{className:"flex gap-3",children:r?l.jsx(N0,{variant:"danger",onClick:Lt,className:"flex-1 py-2 text-zinc-100",children:" Eliminar Definitivamente"}):l.jsx(N0,{variant:"outline",onClick:()=>jt(!0),className:"w-full py-2",children:" Guardar como Plantilla nueva"})})]}),m&&l.jsxs("div",{className:"p-4 bg-red-950/50 border border-red-500/50 text-red-100 text-sm rounded-xl text-center font-bold",children:[" ",m]})]}),Ze.proveedor&&l.jsx(xO,{initialName:I,onClose:()=>Oe(Fe=>({...Fe,proveedor:!1})),onSave:async Fe=>{await n8(Fe),await ut(),U(Fe.nombre)}}),Ze.concepto&&l.jsx(vO,{initialName:K,onClose:()=>Oe(Fe=>({...Fe,concepto:!1})),onSave:async Fe=>{await s8(Fe),await ut(),H(Fe.nombre)}}),Ze.taller&&l.jsx(bO,{initialName:N,onClose:()=>Oe(Fe=>({...Fe,taller:!1})),onSave:async Fe=>{await c8(Fe),await ut(),k(Fe.nombre)}}),Qe&&l.jsx(pO,{onScanComplete:Fe=>{Fe.importe&&E(Fe.importe.toString()),Fe.litros&&Y(Fe.litros.toString()),Fe.fecha&&g(Fe.fecha.toISOString().split("T")[0]),Fe.numeroFactura&&w(Fe.numeroFactura),Fe.proveedor&&(a==="actividad"?U(Fe.proveedor):k(Fe.proveedor)),Ue(!1),n("Ticket analizado correctamente","success")},onClose:()=>Ue(!1)}),ct&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 w-full max-w-sm max-h-[80vh] flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"font-black text-xl text-zinc-100",children:"Plantillas Guardadas"}),l.jsx("button",{onClick:()=>rt(!1),className:"text-zinc-500 text-2xl",children:""})]}),l.jsx("div",{className:"overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:Ct.length===0?l.jsx("div",{className:"text-center py-10 text-zinc-600 italic",children:"No hay plantillas guardadas."}):Ct.map(Fe=>{var ot;return l.jsxs("button",{onClick:()=>xr(Fe),className:"w-full p-4 bg-zinc-800/50 rounded-xl text-left border border-zinc-800 hover:border-blue-500/50 hover:bg-zinc-800 transition-all group",children:[l.jsx("div",{className:"font-black text-blue-400 group-hover:text-blue-300",children:Fe.nombre}),l.jsxs("div",{className:"text-xs text-zinc-500 mt-2 flex justify-between",children:[l.jsx("span",{children:Fe.concepto||"Sin concepto"}),l.jsxs("span",{className:"font-bold text-zinc-300",children:[(ot=Fe.importe)==null?void 0:ot.toFixed(2)," "]})]})]},Fe.id)})})]})}),Dt&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[l.jsx("h3",{className:"font-black text-xl mb-6 text-zinc-100",children:"Nueva Plantilla"}),l.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Se guardarn los datos actuales (proveedor, concepto, importe, etc.) como una plantilla rpida."}),l.jsx(Qa,{placeholder:"Nombre de la plantilla (ej: Repsol Disel)",value:Ft,onChange:Fe=>it(Fe.target.value),className:"mb-6 py-3",autoFocus:!0}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(N0,{className:"flex-[2] py-3 shadow-lg shadow-blue-900/20",onClick:()=>{if(!Ft.trim())return alert("Ponle un nombre a la plantilla");WF({nombre:Ft,importe:parseFloat(_),proveedor:I,concepto:K,taller:N,tipo:a,formaPago:F,ivaPorcentaje:parseFloat(R)}),pt(xp()),jt(!1),it(""),n("Plantilla guardada con xito","success")},children:" Guardar Plantilla"}),l.jsx(N0,{variant:"outline",className:"flex-1 py-3",onClick:()=>jt(!1),children:"Cancelar"})]})]})})]})},lh={tarifa1:4.4,tarifa2:5.47,tarifa3:6.85,tarifaAeropuertoDia:25.72,tarifaAeropuertoNoche:28.67},lT=()=>({tarifa1:parseFloat(localStorage.getItem("tarifa1")||lh.tarifa1.toString()),tarifa2:parseFloat(localStorage.getItem("tarifa2")||lh.tarifa2.toString()),tarifa3:parseFloat(localStorage.getItem("tarifa3")||lh.tarifa3.toString()),tarifaAeropuertoDia:parseFloat(localStorage.getItem("tarifaAeropuertoDia")||lh.tarifaAeropuertoDia.toString()),tarifaAeropuertoNoche:parseFloat(localStorage.getItem("tarifaAeropuertoNoche")||lh.tarifaAeropuertoNoche.toString())}),yO=(e=new Date)=>{const t=lT(),r=e.getDay(),n=e.getHours(),a=r===5&&n>=22,s=r===6&&n>=22,c=r===0&&n>=22,u=r===6&&n<6,d=r===0&&n<6;if(a||s||c||u||d)return{amount:t.tarifa3,tariffName:"Tarifa 3",isAeropuerto:!1,isNight:!0};const h=(r===6||r===0)&&n>=7&&n<22,m=r>=1&&r<=5&&(n<7||n>=21);return h||m?{amount:t.tarifa2,tariffName:"Tarifa 2",isAeropuerto:!1,isNight:!0}:{amount:t.tarifa1,tariffName:"Tarifa 1",isAeropuerto:!1,isNight:!1}},wO=(e=new Date)=>{const t=lT(),r=e.getDay(),n=e.getHours(),a=r===0||r===6,s=n<7||n>=21;return a||s?{amount:t.tarifaAeropuertoNoche,tariffName:"Tarifa 5",isAeropuerto:!0,isNight:!0}:{amount:t.tarifaAeropuertoDia,tariffName:"Tarifa 4",isAeropuerto:!0,isNight:!1}},rl=({children:e,className:t=""})=>l.jsx("div",{className:`glass-card rounded-xl border border-white/5 shadow-xl ${t}`,children:e}),H3=({label:e,...t})=>l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-sm font-medium text-zinc-400",children:e}),l.jsx("input",{...t,className:"block w-full px-3 py-2 text-sm text-zinc-100 bg-zinc-900 rounded-md border border-zinc-700 appearance-none focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),V3=({navigateTo:e})=>{var ie;const{isDark:t}=to(),{showToast:r}=To(),[n,a]=W.useState(null),[s,c]=W.useState([]),[u,d]=W.useState(""),[h,m]=W.useState(!0),[x,b]=W.useState(!0),[g,T]=W.useState(null),[w,_]=W.useState(!1),[E,F]=W.useState(!1),[C,L]=W.useState(""),[X,I]=W.useState(!0),U=J=>{if(!J)return new Date;if(J instanceof Date)return isNaN(J.getTime())?new Date:J;const Y=new Date(J);return isNaN(Y.getTime())?new Date:Y},K=J=>{const Y=U(J),se=String(Y.getDate()).padStart(2,"0"),P=String(Y.getMonth()+1).padStart(2,"0"),N=Y.getFullYear();return`${se}/${P}/${N}`},H=J=>{const Y=U(J),se=String(Y.getHours()).padStart(2,"0"),P=String(Y.getMinutes()).padStart(2,"0");return`${se}:${P}`},oe=Vi.useCallback(async()=>{try{b(!0);const J=await yf(10);c(J)}catch(J){console.error("Error loading recent turnos:",J)}finally{b(!1)}},[]);W.useEffect(()=>{(async()=>{try{m(!0);const Y=await d1();a(Y);const se=g1(P=>{a(P),P||oe()});return()=>se()}catch(Y){console.error("Error loading turno:",Y),T("Error al cargar el turno activo")}finally{m(!1)}})()},[oe]),W.useEffect(()=>{oe()},[oe]);const O=async()=>{if(!u){T("Por favor, ingresa los kilmetros iniciales");return}const J=parseFloat(u);if(isNaN(J)||J<=0){T("Por favor, ingresa un valor vlido de kilmetros");return}if(n){T("Ya existe un turno activo. Debes cerrarlo antes de crear uno nuevo.");return}try{const Y=await O5(),P=(await Cs()).filter(M=>(M.concepto||"").toLowerCase().includes("aceite")||(M.concepto||"").toLowerCase().includes("rueda")||(M.concepto||"").toLowerCase().includes("neumatico")||(M.concepto||"").toLowerCase().includes("filtro")||(M.concepto||"").toLowerCase().includes("pastilla")||(M.concepto||"").toLowerCase().includes("freno")),N=[],k=100,D=(M,q,Q)=>{const me=P.filter(de=>M.some(ye=>(de.concepto||"").toLowerCase().includes(ye))).sort((de,ye)=>(ye.kilometrosVehiculo||0)-(de.kilometrosVehiculo||0))[0];if(me&&me.kilometrosVehiculo){const de=me.kilometrosVehiculo+q;J>=de-k&&N.push(`OJO! ${Q} toca pronto (Lmite: ${de} km)`)}};if(D(["aceite"],Y.aceite,"Aceite"),D(["rueda","neumatico"],Y.ruedas,"Neumticos"),D(["filtro"],Y.filtros,"Filtros"),D(["pastilla","freno"],Y.frenos,"Frenos"),N.length>0&&!window.confirm(`${N.join(`
`)}

Quieres iniciar el turno de todas formas?`))return}catch(Y){console.error("Error checking maintenance:",Y)}_(!0),T(null);try{await Q_({fechaInicio:new Date,kilometrosInicio:J}),d(""),e(mt.VistaCarreras)}catch(Y){console.error("Error creating turno:",Y),T("Error al crear el turno. Por favor, intntalo de nuevo.")}finally{_(!1)}},R=async J=>{try{await h8(J),r("Turno reabierto con xito","success")}catch{r("Error al reabrir el turno","error")}},V=async()=>{if(!C)return;const J=parseFloat(C);if(isNaN(J)){r("Ingresa un valor numrico vlido","warning");return}try{X?(await T5(n.id,J),r("Pausa iniciada","success")):(await A5(n.id,J),r("Pausa terminada","success")),F(!1),L("")}catch{r("Error al procesar la pausa","error")}},re=(ie=n==null?void 0:n.descansos)==null?void 0:ie.find(J=>!J.fechaFin),le=async J=>{if(window.confirm("Ests seguro de que quieres eliminar este turno? Esta accin no se puede deshacer."))try{await t8(J),oe(),r("Turno eliminado correctamente","success")}catch(Y){sl.handle(Y,"ShiftsScreen - handleDeleteTurno")}},Z=l.jsx(ia,{title:"Gestin de Turnos",navigateTo:e,backTarget:mt.Home,className:"mb-4"});return h?l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[Z,l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(sd,{text:"Cargando turnos...",size:"lg"})})]}):l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[Z,l.jsx(rl,{children:n?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-zinc-800/50",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-lg font-black ${t?"text-zinc-100":"text-zinc-900"}`,children:re?"TURNO EN PAUSA":"TURNO ACTIVO"}),l.jsxs("p",{className:"text-[10px] text-zinc-500 uppercase font-black tracking-widest",children:["Desde ",H(n.fechaInicio),"  ",K(n.fechaInicio)]})]}),l.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${re?"bg-orange-500":"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}`})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:`p-3 rounded-xl ${t?"bg-zinc-800/50 border border-zinc-700":"bg-zinc-50 border border-zinc-100"}`,children:[l.jsx("p",{className:"text-[8px] uppercase font-bold text-zinc-500 mb-0.5",children:"KM Inicio"}),l.jsxs("p",{className:"text-sm font-black",children:[n.kilometrosInicio," km"]})]}),l.jsxs("div",{className:`p-3 rounded-xl ${t?"bg-zinc-800/50 border border-zinc-700":"bg-zinc-50 border border-zinc-100"}`,children:[l.jsx("p",{className:"text-[8px] uppercase font-bold text-zinc-500 mb-0.5",children:"Km Parciales"}),l.jsx("p",{className:"text-sm font-black text-emerald-400",children:"En desarrollo..."})]})]}),l.jsxs("div",{className:"flex gap-2",children:[re?l.jsxs("button",{onClick:()=>{I(!1),F(!0)},className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold transition-all active:scale-95 flex items-center justify-center gap-1.5 text-xs shadow-lg shadow-emerald-900/20",children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"REANUDAR"]}):l.jsxs("button",{onClick:()=>{I(!0),F(!0)},className:"flex-1 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold transition-all active:scale-95 flex items-center justify-center gap-1.5 text-xs shadow-lg shadow-orange-900/20",children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),l.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"PAUSAR"]}),l.jsxs("button",{onClick:()=>e(mt.CerrarTurno),className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold transition-all active:scale-95 flex items-center justify-center gap-1.5 text-xs shadow-lg shadow-red-900/20",children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),"TERMINAR"]})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(H3,{label:"Kilmetros iniciales",type:"number",value:u,onChange:J=>{d(J.target.value),T(null)},placeholder:"Ej: 45000"}),g&&l.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:g}),l.jsx("button",{onClick:O,disabled:!u||w,className:`w-full p-3 font-bold rounded-lg transition-colors ${t?"bg-zinc-100 text-zinc-900 hover:bg-zinc-200":"bg-blue-600 text-white hover:bg-blue-700"} disabled:bg-zinc-800 disabled:text-zinc-500`,children:w?"Creando turno...":"Iniciar turno"})]})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-zinc-100 text-lg font-bold mb-2 tracking-tight",children:"Turnos recientes"}),x?l.jsx("div",{className:"flex items-center justify-center p-4",children:l.jsx(sd,{text:"Cargando turnos...",size:"sm"})}):s.length===0?l.jsx("div",{className:"text-center p-4 text-zinc-500 text-sm",children:"No hay turnos cerrados an"}):l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:s.map((J,Y)=>{const se=J.fechaInicio instanceof Date?J.fechaInicio:new Date(J.fechaInicio),P=J.fechaFin instanceof Date?J.fechaFin:J.fechaFin?new Date(J.fechaFin):null;return l.jsx(rl,{className:"p-3 text-sm",children:l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"text-xs font-black text-zinc-400",children:K(se)}),Y===0&&J.fechaFin&&l.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 uppercase font-black",children:"Reciente"})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1.5",children:[l.jsx("span",{className:"text-base font-black text-zinc-100",children:H(se)}),l.jsx("span",{className:"text-zinc-600 text-[10px] font-bold",children:""}),l.jsx("span",{className:`text-sm font-black ${P?"text-zinc-400":"text-emerald-400"}`,children:P?H(P):"ACTIVO"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[7px] uppercase text-zinc-500 font-bold",children:"Ruta"}),l.jsxs("span",{className:"text-[10px] font-black text-zinc-300",children:[J.kilometrosInicio," - ",J.kilometrosFin||"..."," km"]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[7px] uppercase text-zinc-500 font-bold",children:"Total"}),l.jsxs("span",{className:"text-[10px] font-black text-emerald-500/80",children:[(J.kilometrosFin||0)-J.kilometrosInicio," km"]})]})]})]}),l.jsx("div",{className:"flex gap-1.5 flex-col",children:l.jsxs("div",{className:"flex gap-1.5",children:[Y===0&&J.fechaFin&&l.jsx("button",{onClick:()=>R(J.id),className:"p-2 rounded-lg bg-blue-600/10 text-blue-500 hover:bg-blue-600/20 transition-all active:scale-90",title:"Reabrir",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),l.jsx("path",{d:"M21 3v5h-5"})]})}),l.jsx("button",{onClick:()=>e(mt.EditarTurno,J.id),className:"p-2 rounded-lg bg-zinc-800 text-zinc-400 hover:text-zinc-100 hover:bg-zinc-700 transition-all active:scale-90",title:"Editar",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),l.jsx("button",{onClick:()=>le(J.id),className:"p-2 rounded-lg bg-red-600/10 text-red-400 hover:bg-red-600/20 transition-all active:scale-90",title:"Eliminar",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"3 6 5 6 21 6"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]})},J.id)})})]}),E&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:`w-full max-w-sm rounded-3xl p-6 ${t?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-200"} shadow-2xl space-y-4`,children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:`text-xl font-black ${t?"text-zinc-100":"text-zinc-900"}`,children:X?"Iniciar Pausa":"Terminar Pausa"}),l.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"Ingresa los kilmetros del vehculo"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(H3,{label:"Kilmetros Actuales",type:"number",value:C,onChange:J=>L(J.target.value),placeholder:"Ej: 154231",autoFocus:!0}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:()=>F(!1),className:`flex-1 py-3 rounded-xl font-bold ${t?"bg-zinc-800 text-zinc-300":"bg-zinc-100 text-zinc-600"}`,children:"CANCELAR"}),l.jsx("button",{onClick:V,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-600/20",children:"CONFIRMAR"})]})]})]})})]})},cT=({title:e})=>l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-[var(--text-primary)]",children:e}),SO=({navigateTo:e})=>{const[t,r]=W.useState(null),[n,a]=W.useState(""),[s,c]=W.useState(!1),[u,d]=W.useState(null),[h,m]=W.useState(!0),x=w=>{if(!w)return new Date;if(w instanceof Date)return isNaN(w.getTime())?new Date:w;const _=new Date(w);return isNaN(_.getTime())?new Date:_},b=w=>{if(!w)return 0;const _=w.replace(",",".").replace(/[^\d.-]/g,"");return parseFloat(_)||0};W.useEffect(()=>{(async()=>{try{m(!0);const _=await d1();if(r(_),_){const E=g1(F=>{r(F)});return()=>E()}}catch(_){console.error("Error loading turno:",_),d("Error al cargar el turno activo")}finally{m(!1)}})()},[]);const g=async()=>{if(!t){d("No hay un turno activo para cerrar");return}const w=b(n);if(!n||w<=0){d("Por favor, ingresa un valor vlido de kilmetros finales");return}if(w<=t.kilometrosInicio){d("Los kilmetros finales deben ser mayores a los iniciales");return}c(!0),d(null);try{await d8(t.id,w),e(mt.VistaCarreras)}catch(_){console.error("Error closing turno:",_),d("Error al cerrar el turno. Por favor, intntalo de nuevo.")}finally{c(!1)}},T=()=>{if(h)return l.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando turno activo..."});if(!t)return l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 text-center",children:[l.jsx("p",{className:"text-zinc-400 mb-4",children:"No hay un turno activo para cerrar"}),l.jsx("button",{onClick:()=>e(mt.VistaCarreras),className:"px-4 py-2 bg-zinc-800 text-zinc-100 rounded-lg hover:bg-zinc-700 transition-colors",children:"Volver"})]});const w=x(t.fechaInicio),_=w.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),E=w.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-bold text-zinc-100",children:"Informacin del Turno"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Estado:"}),l.jsx("span",{className:"text-emerald-400 font-semibold",children:"Activo"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Fecha inicio:"}),l.jsx("span",{className:"text-zinc-100",children:_})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Hora inicio:"}),l.jsx("span",{className:"text-zinc-100",children:E})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Kilmetros iniciales:"}),l.jsx("span",{className:"text-zinc-100 font-semibold",children:t.kilometrosInicio})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Kilmetros finales *"}),l.jsx("input",{type:"number",value:n,onChange:F=>{a(F.target.value),d(null)},placeholder:`Mnimo: ${t.kilometrosInicio+1}`,min:t.kilometrosInicio+1,className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u&&l.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:u}),l.jsx("button",{onClick:g,disabled:s||!n,className:"w-full py-4 px-4 rounded-lg bg-blue-600 text-white font-bold text-lg hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 disabled:cursor-not-allowed",children:s?"Cerrando turno...":"Cerrar Turno"})]})};return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-4",children:[l.jsx(ia,{title:"Cerrar Turno",navigateTo:e,backTarget:mt.VistaCarreras}),l.jsx(cT,{title:"Cerrar Turno"}),T()]})},_0=({label:e,...t})=>l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsx("label",{className:"text-sm font-medium text-zinc-400",children:e}),l.jsx("input",{...t,className:"block w-full px-3 py-2 text-sm text-zinc-100 bg-zinc-900 rounded-md border border-zinc-700 appearance-none focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),NO=({navigateTo:e,turnoId:t})=>{const[r,n]=W.useState(null),[a,s]=W.useState(!0),[c,u]=W.useState(null),[d,h]=W.useState(!1),m=R=>{if(!R)return new Date;if(R instanceof Date)return isNaN(R.getTime())?new Date:R;const V=new Date(R);return isNaN(V.getTime())?new Date:V},x=R=>{if(!R)return 0;const V=R.replace(",",".").replace(/[^\d.-]/g,"");return parseFloat(V)||0},[b,g]=W.useState(""),[T,w]=W.useState(""),[_,E]=W.useState(""),[F,C]=W.useState(""),[L,X]=W.useState(""),[I,U]=W.useState(""),K=R=>{const V=m(R),re=V.getFullYear(),le=String(V.getMonth()+1).padStart(2,"0"),Z=String(V.getDate()).padStart(2,"0");return`${re}-${le}-${Z}`},H=R=>{const V=m(R),re=String(V.getDate()).padStart(2,"0"),le=String(V.getMonth()+1).padStart(2,"0"),Z=V.getFullYear(),ie=String(V.getHours()).padStart(2,"0"),J=String(V.getMinutes()).padStart(2,"0");return`${re}/${le}/${Z} ${ie}:${J}`};W.useEffect(()=>{(async()=>{try{s(!0);const V=await J_(t);if(!V){u("Turno no encontrado");return}n(V);const re=m(V.fechaInicio),le=K(re),Z=`${String(re.getHours()).padStart(2,"0")}:${String(re.getMinutes()).padStart(2,"0")}`;if(g(le),w(Z),E(V.kilometrosInicio.toString()),V.fechaFin){const ie=m(V.fechaFin),J=K(ie),Y=`${String(ie.getHours()).padStart(2,"0")}:${String(ie.getMinutes()).padStart(2,"0")}`;C(J),X(Y)}V.kilometrosFin!==void 0&&U(V.kilometrosFin.toString())}catch(V){console.error("Error loading turno:",V),u("Error al cargar el turno")}finally{s(!1)}})()},[t]);const oe=async()=>{if(!r)return;const R=x(_);if(R<=0){u("Los kilmetros iniciales deben ser un valor vlido mayor a 0");return}let V;if(I.trim()!==""){if(V=x(I),V<=0){u("Los kilmetros finales deben ser un valor vlido mayor a 0");return}if(V<R){u("Los kilmetros finales deben ser mayores o iguales a los iniciales");return}}const re=new Date(`${b}T${T}`);if(isNaN(re.getTime())){u("La fecha y hora de inicio no son vlidas");return}let le;if(F.trim()!==""&&L.trim()!==""){if(le=new Date(`${F}T${L}`),isNaN(le.getTime())){u("La fecha y hora de fin no son vlidas");return}if(le<re){u("La fecha de fin debe ser posterior a la fecha de inicio");return}}h(!0),u(null);try{await e8(t,{fechaInicio:re,kilometrosInicio:R,fechaFin:le,kilometrosFin:V}),e(mt.Turnos)}catch(Z){console.error("Error updating turno:",Z),u("Error al actualizar el turno. Por favor, intntalo de nuevo.")}finally{h(!1)}},O=()=>a?l.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando turno..."}):r?l.jsx(rl,{children:l.jsxs("div",{className:"space-y-4",children:[r&&l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3 mb-4 text-xs",children:[l.jsx("p",{className:"text-zinc-400 mb-1",children:"Informacin actual:"}),l.jsxs("p",{className:"text-zinc-300",children:[l.jsx("span",{className:"font-semibold",children:"Inicio:"})," ",H(r.fechaInicio)]}),r.fechaFin&&l.jsxs("p",{className:"text-zinc-300",children:[l.jsx("span",{className:"font-semibold",children:"Fin:"})," ",H(r.fechaFin)]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-zinc-100 font-semibold mb-3 text-sm",children:"Inicio del Turno"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(_0,{label:"Fecha inicio",type:"date",value:b,onChange:R=>g(R.target.value)}),l.jsx(_0,{label:"Hora inicio",type:"time",value:T,onChange:R=>w(R.target.value)})]}),l.jsx("div",{className:"mt-3",children:l.jsx(_0,{label:"Kilmetros inicio",type:"number",value:_,onChange:R=>E(R.target.value),placeholder:"Ej: 45000"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-zinc-100 font-semibold mb-3 text-sm",children:"Fin del Turno (opcional)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(_0,{label:"Fecha fin",type:"date",value:F,onChange:R=>C(R.target.value),placeholder:"Opcional"}),l.jsx(_0,{label:"Hora fin",type:"time",value:L,onChange:R=>X(R.target.value),placeholder:"Opcional"})]}),l.jsx("div",{className:"mt-3",children:l.jsx(_0,{label:"Kilmetros fin",type:"number",value:I,onChange:R=>U(R.target.value),placeholder:"Opcional"})})]}),c&&l.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:c}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,disabled:d,className:"flex-1 p-3 bg-blue-600 text-white font-bold rounded-lg disabled:bg-zinc-800 disabled:text-zinc-500 disabled:cursor-not-allowed transition-colors hover:bg-blue-700",children:d?"Guardando...":"Guardar Cambios"}),l.jsx("button",{onClick:()=>e(mt.Turnos),className:"px-4 py-3 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})}):l.jsx(rl,{children:l.jsx("div",{className:"text-center p-4 text-zinc-400",children:c||"Turno no encontrado"})});return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-4",children:[l.jsx(ia,{title:"Editar Turno",navigateTo:e,backTarget:mt.Turnos}),l.jsx(cT,{title:"Editar Turno"}),O()]})},G3=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),_O=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c2.16-.43 3.5-1.77 3.5-3.6 0-2.13-1.87-3.29-4.7-4.15z"})}),TO=({navigateTo:e})=>{const[t,r]=W.useState("turnos"),n=_=>{if(!_)return new Date;if(_ instanceof Date)return isNaN(_.getTime())?new Date:_;const E=new Date(_);return isNaN(E.getTime())?new Date:E},a=_=>{const E=n(_),F=String(E.getDate()).padStart(2,"0"),C=String(E.getMonth()+1).padStart(2,"0"),L=E.getFullYear(),X=String(E.getHours()).padStart(2,"0"),I=String(E.getMinutes()).padStart(2,"0");return`${F}/${C}/${L} ${X}:${I}`},[s,c]=W.useState([]),[u,d]=W.useState([]),[h,m]=W.useState([]),[x,b]=W.useState(!0);W.useEffect(()=>{(async()=>{try{b(!0);const[E,F,C]=await Promise.all([yf(50),w8(300),Cs()]);c(E||[]),d(F||[]),m(C||[])}catch(E){console.error("Error loading historical data:",E),c([]),d([]),m([])}finally{b(!1)}})()},[]);const g=Vi.useMemo(()=>{const _={};return u.forEach(E=>{E.turnoId&&(_[E.turnoId]||(_[E.turnoId]=[]),_[E.turnoId].push(E))}),_},[u]),T=_=>(g[_]||[]).reduce((F,C)=>F+C.cobrado,0),w=[{id:"turnos",label:"Turnos",icon:l.jsx(G3,{})},{id:"carreras",label:"Carreras",icon:l.jsx(G3,{})},{id:"gastos",label:"Gastos",icon:l.jsx(_O,{})}];return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[l.jsx(ia,{title:"Histrico",navigateTo:e,backTarget:mt.Home}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(_=>l.jsxs("button",{onClick:()=>r(_.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${t===_.id?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:[l.jsx("span",{className:"w-4 h-4",children:_.icon}),_.label]},_.id))}),x?l.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>l.jsxs(rl,{className:"p-4 animate-pulse bg-zinc-800 border border-zinc-700",children:[l.jsx("div",{className:"h-3 w-1/3 bg-zinc-700 rounded mb-3"}),l.jsx("div",{className:"h-2 w-full bg-zinc-700 rounded mb-1.5"}),l.jsx("div",{className:"h-2 w-2/3 bg-zinc-700 rounded"})]},_))}):l.jsxs("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:[t==="turnos"&&l.jsx(l.Fragment,{children:s.length===0?l.jsx(rl,{className:"p-4 text-center text-zinc-400",children:"No hay turnos en el histrico"}):s.map(_=>{const E=T(_.id),F=_.kilometrosFin&&_.kilometrosInicio?_.kilometrosFin-_.kilometrosInicio:null;return l.jsx(rl,{className:"p-3 text-sm",children:l.jsx("div",{className:"flex justify-between items-start mb-2",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-semibold text-zinc-100 mb-1",children:["Inicio: ",a(_.fechaInicio)]}),_.fechaFin&&l.jsxs("p",{className:"text-zinc-400 text-xs mb-1",children:["Fin: ",a(_.fechaFin)]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-500 text-xs",children:"Kms"}),l.jsxs("p",{className:"text-zinc-300 text-sm font-medium",children:[_.kilometrosInicio," ",_.kilometrosFin?` ${_.kilometrosFin}`:""]}),F!==null&&l.jsxs("p",{className:"text-zinc-500 text-xs",children:["(",F," km)"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-500 text-xs",children:"Total"}),l.jsxs("p",{className:"text-emerald-400 text-sm font-bold",children:[E.toFixed(2),""]})]})]})]})})},_.id)})}),t==="carreras"&&l.jsx(l.Fragment,{children:u.length===0?l.jsx(rl,{className:"p-4 text-center text-zinc-400",children:"No hay carreras en el histrico"}):u.slice(0,100).map(_=>{const E=n(_.fechaHora).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=_.cobrado-_.taximetro;return l.jsx(rl,{className:"p-3 text-sm",children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-zinc-100 mb-1",children:E}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-500 text-xs",children:"Taxmetro"}),l.jsxs("p",{className:"text-zinc-300 text-sm font-medium",children:[_.taximetro.toFixed(2),""]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-500 text-xs",children:"Cobrado"}),l.jsxs("p",{className:"text-emerald-400 text-sm font-bold",children:[_.cobrado.toFixed(2),""]})]}),F>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-zinc-500 text-xs",children:"Propina"}),l.jsxs("p",{className:"text-pink-400 text-sm font-medium",children:["+",F.toFixed(2),""]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${_.formaPago==="Efectivo"?"bg-green-900/50 text-green-300":_.formaPago==="Tarjeta"?"bg-blue-900/50 text-blue-300":_.formaPago==="Bizum"?"bg-purple-900/50 text-purple-300":"bg-yellow-900/50 text-yellow-300"}`,children:_.formaPago}),_.emisora&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-pink-900/50 text-pink-300",children:"Emisora"}),_.aeropuerto&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-900/50 text-blue-300",children:"Aeropuerto"})]})]})})},_.id)})}),t==="gastos"&&l.jsx(l.Fragment,{children:h.length===0?l.jsx(rl,{className:"p-4 text-center text-zinc-400",children:"No hay gastos en el histrico"}):h.slice(0,100).map(_=>{const E=n(_.fecha).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return l.jsx(rl,{className:"p-3 text-sm",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-zinc-100 mb-1",children:E}),_.concepto&&l.jsx("p",{className:"text-zinc-400 text-xs mb-1",children:_.concepto}),_.proveedor&&l.jsxs("p",{className:"text-zinc-500 text-xs",children:["Proveedor: ",_.proveedor]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-red-400 text-sm font-bold",children:["-",_.importe.toFixed(2),""]}),_.formaPago&&l.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:_.formaPago})]})]})},_.id)})})]})]})},AO=e=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),l.jsx("line",{x1:"9",y1:"14",x2:"9",y2:"14",strokeWidth:"3"})]}),q3=e=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),l.jsx("line",{x1:"8",y1:"14",x2:"8",y2:"14",strokeWidth:"2"}),l.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"14",strokeWidth:"2"}),l.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"14",strokeWidth:"2"}),l.jsx("line",{x1:"8",y1:"18",x2:"8",y2:"18",strokeWidth:"2"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18",strokeWidth:"2"}),l.jsx("line",{x1:"16",y1:"18",x2:"16",y2:"18",strokeWidth:"2"})]}),EO=e=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),jO=e=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),l.jsx("rect",{x:"4",y:"4",width:"4",height:"4",fill:"currentColor",opacity:"0.3"})]}),CO=({navigateTo:e})=>{const t=({title:r,description:n,onClick:a,Icon:s})=>l.jsxs("button",{type:"button",onClick:a,className:"w-full text-left bg-zinc-900 border border-zinc-800 rounded-xl px-4 py-3 flex items-center gap-3 transition-all hover:border-cyan-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[l.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-zinc-800/70 text-cyan-400",children:l.jsx(s,{className:"w-5 h-5"})}),l.jsxs("span",{className:"flex-1 space-y-1",children:[l.jsx("span",{className:"block text-zinc-100 font-semibold text-base leading-tight",children:r}),n&&l.jsx("span",{className:"block text-zinc-400 text-sm leading-snug",children:n})]})]});return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 font-sans px-3 py-4 space-y-6",children:[l.jsx(ia,{title:"Resmenes",navigateTo:e,backTarget:mt.Home}),l.jsx("section",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(t,{title:"Resumen Diario",onClick:()=>e(mt.ResumenDiario),Icon:AO}),l.jsx(t,{title:"Resumen Mensual",onClick:()=>e(mt.ResumenMensualIngresos),Icon:q3}),l.jsx(t,{title:"Resumen Mensual Detallado",onClick:()=>e(mt.ResumenMensualDetallado),Icon:EO}),l.jsx(t,{title:"Resumen de Gastos Mensual",onClick:()=>e(mt.ResumenGastosMensual),Icon:q3}),l.jsx(t,{title:"Resumen Anual",onClick:()=>e(mt.ResumenMensual),Icon:jO})]})})]})},kO=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),DO=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),LO=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),zO=({navigateTo:e})=>{const[t,r]=W.useState(new Date),[n,a]=W.useState([]),[s,c]=W.useState([]),[u,d]=W.useState(0),[h,m]=W.useState(!0);W.useEffect(()=>{(async()=>{try{m(!0);const[U,K,H]=await Promise.all([r8(t),id(t),Vp(t)]);a(U),c(K);const oe=H.reduce((O,R)=>O+(Number(R.importe)||0),0);d(oe)}catch(U){console.error("Error loading daily summary:",U)}finally{m(!1)}})()},[t]);const x=W.useMemo(()=>[...n].sort((U,K)=>new Date(U.fechaInicio).getTime()-new Date(K.fechaInicio).getTime()).map((U,K)=>{const H=s.filter(J=>{if(J.turnoId)return J.turnoId===U.id;const Y=new Date(J.fechaHora),se=new Date(U.fechaInicio),P=U.fechaFin?new Date(U.fechaFin):new Date;return Y>=se&&Y<=P}),oe=H.reduce((J,Y)=>J+(Y.cobrado||0),0),O=H.filter(J=>J.formaPago==="Tarjeta").length,R=H.filter(J=>J.emisora===!0).length,V=H.filter(J=>J.formaPago==="Tarjeta").reduce((J,Y)=>J+(Y.cobrado||0),0),re=H.filter(J=>J.emisora===!0).reduce((J,Y)=>J+(Y.cobrado||0),0),le=H.filter(J=>J.formaPago==="Vales").length,Z=H.filter(J=>J.formaPago==="Vales").reduce((J,Y)=>J+(Y.cobrado||0),0),ie=U.numero??K+1;return{...U,total:oe,carreras:H.length,cTarjeta:O,cEmisora:R,sumaTarjetas:V,sumaEmisora:re,cVales:le,sumaVales:Z,turnoIndex:ie,kmTotal:U.kilometrosFin&&U.kilometrosInicio?U.kilometrosFin-U.kilometrosInicio:0,horasTotal:(()=>{if(!U.fechaFin)return"En curso";const J=new Date(U.fechaFin).getTime()-new Date(U.fechaInicio).getTime(),Y=Math.floor(J/(1e3*60*60)),se=Math.floor(J%(1e3*60*60)/(1e3*60));return`${Y}h ${se}m`})()}}),[n,s]),b=W.useMemo(()=>{const I=s.reduce((U,K)=>U+(K.cobrado||0),0);return{ingresos:I,gastos:u||0,balance:I-(u||0)}},[s,u]),g=W.useMemo(()=>{const I=t.getFullYear(),U=String(t.getMonth()+1).padStart(2,"0"),K=String(t.getDate()).padStart(2,"0");return`${I}-${U}-${K}`},[t]);W.useMemo(()=>b.balance>=0?"text-emerald-300":"text-rose-300",[b.balance]);const T=I=>I.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),w=I=>{const U=new Date(t);U.setDate(U.getDate()+I),r(U),r(U)},_=I=>{if(I instanceof Date)return I;if(!I)return new Date(0);if(typeof I=="string"&&I.includes("/")){const K=I.split("/");if(K.length===3){const H=parseInt(K[0],10),oe=parseInt(K[1],10)-1,O=parseInt(K[2],10);return new Date(O,oe,H)}}const U=new Date(I);return isNaN(U.getTime())?new Date(0):U},E=I=>{if(!I)return"";const U=_(I);return U.getTime()===0?"":U.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})},F=I=>I===0?" ":I.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}),C=I=>I===0?" ":I.toString(),L=W.useRef(null),X=()=>{L.current&&(typeof L.current.showPicker=="function"?L.current.showPicker():(L.current.focus(),L.current.click()))};return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 font-sans px-3 py-4 space-y-3",children:[l.jsx("div",{className:"relative",children:l.jsx(ia,{title:"Resumen Diario",navigateTo:e,backTarget:mt.Resumen,className:"mb-3",rightSlot:l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:X,className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors rounded","aria-label":"Seleccionar fecha",children:l.jsx(kO,{})}),l.jsx("input",{ref:L,type:"date",value:g,onChange:I=>{I.target.value&&r(new Date(`${I.target.value}T00:00:00`))},className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer -z-10",style:{visibility:"hidden",position:"absolute"}})]})})}),l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl py-1.5 px-3 flex items-center justify-between",children:[l.jsx("button",{onClick:()=>w(-1),className:"text-zinc-100 hover:bg-zinc-800 rounded p-1",children:l.jsx(DO,{})}),l.jsx("span",{className:"text-zinc-100 font-medium",children:T(t)}),l.jsx("button",{onClick:()=>w(1),className:"text-zinc-100 hover:bg-zinc-800 rounded p-1",children:l.jsx(LO,{})})]}),h?l.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando..."}):l.jsxs(l.Fragment,{children:[x.map(I=>l.jsxs("div",{className:"bg-blue-900 rounded-lg p-4 relative",children:[l.jsx("div",{className:"flex justify-center mb-2",children:l.jsx("div",{className:"bg-white rounded px-3 py-1 border border-blue-900",children:l.jsxs("span",{className:"text-blue-900 text-sm font-bold",children:["Turno ",I.turnoIndex||1]})})}),l.jsxs("div",{className:"space-y-1.5 text-white text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Carreras:"}),l.jsx("span",{className:"font-semibold",children:C(I.carreras)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"C. Tarjeta:"}),l.jsx("span",{className:"font-semibold",children:C(I.cTarjeta)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"C. Emisora:"}),l.jsx("span",{className:"font-semibold",children:C(I.cEmisora)})]}),I.cVales>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"C. Vales:"}),l.jsx("span",{className:"font-semibold",children:C(I.cVales)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Suma Tarjetas:"}),l.jsx("span",{className:"font-semibold",children:F(I.sumaTarjetas)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Suma Emisora:"}),l.jsx("span",{className:"font-semibold",children:F(I.sumaEmisora)})]}),I.cVales>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Suma Vales:"}),l.jsx("span",{className:"font-semibold",children:F(I.sumaVales)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Km inicial:"}),l.jsx("span",{className:"font-semibold",children:I.kilometrosInicio})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Km final:"}),l.jsx("span",{className:"font-semibold",children:I.kilometrosFin||0})]}),l.jsxs("div",{className:"flex justify-between text-emerald-300",children:[l.jsx("span",{children:"Km Total:"}),l.jsxs("span",{className:"font-semibold",children:[C(I.kmTotal)," km"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Hora Inicio:"}),l.jsx("span",{className:"font-semibold",children:E(I.fechaInicio)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Hora Fin:"}),l.jsx("span",{className:"font-semibold",children:E(I.fechaFin)})]}),l.jsxs("div",{className:"flex justify-between text-emerald-300",children:[l.jsx("span",{children:"Horas Total:"}),l.jsx("span",{className:"font-semibold",children:I.horasTotal})]})]}),l.jsx("div",{className:"mt-2 bg-white rounded border border-blue-900 p-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-blue-900 font-bold",children:"TOTAL"}),l.jsx("span",{className:"text-blue-900 font-bold",children:F(I.total)})]})})]},I.id)),x.length>0&&l.jsx("div",{className:"bg-blue-900 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-white font-bold",children:"TOTAL DA"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"text-white font-semibold",children:F(b.ingresos)}),l.jsx("span",{className:"text-red-300 font-semibold",children:F(b.gastos)}),l.jsx("span",{className:"text-white font-semibold",children:F(b.balance)})]})]})})]})]})};function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}var ul=Uint8Array,Js=Uint16Array,W5=Int32Array,$5=new ul([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y5=new ul([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W3=new ul([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uT=function(e,t){for(var r=new Js(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new W5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},fT=uT($5,2),FO=fT.b,Nv=fT.r;FO[28]=258,Nv[258]=28;var OO=uT(Y5,0),$3=OO.r,_v=new Js(32768);for(var Yn=0;Yn<32768;++Yn){var bu=(Yn&43690)>>1|(Yn&21845)<<1;bu=(bu&52428)>>2|(bu&13107)<<2,bu=(bu&61680)>>4|(bu&3855)<<4,_v[Yn]=((bu&65280)>>8|(bu&255)<<8)>>1}var Sh=(function(e,t,r){for(var n=e.length,a=0,s=new Js(t);a<n;++a)e[a]&&++s[e[a]-1];var c=new Js(t);for(a=1;a<t;++a)c[a]=c[a-1]+s[a-1]<<1;var u;if(r){u=new Js(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var h=a<<4|e[a],m=t-e[a],x=c[e[a]-1]++<<m,b=x|(1<<m)-1;x<=b;++x)u[_v[x]>>d]=h}else for(u=new Js(n),a=0;a<n;++a)e[a]&&(u[a]=_v[c[e[a]-1]++]>>15-e[a]);return u}),Af=new ul(288);for(var Yn=0;Yn<144;++Yn)Af[Yn]=8;for(var Yn=144;Yn<256;++Yn)Af[Yn]=9;for(var Yn=256;Yn<280;++Yn)Af[Yn]=7;for(var Yn=280;Yn<288;++Yn)Af[Yn]=8;var vp=new ul(32);for(var Yn=0;Yn<32;++Yn)vp[Yn]=5;var RO=Sh(Af,9,0),MO=Sh(vp,5,0),dT=function(e){return(e+7)/8|0},IO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ul(e.subarray(t,r))},bc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ch=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},c2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:mT,l:0};if(a==1){var c=new ul(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(X,I){return X.f-I.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],h=0,m=1,x=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};m!=a-1;)u=r[r[h].f<r[x].f?h++:x++],d=r[h!=m&&r[h].f<r[x].f?h++:x++],r[m++]={s:-1,f:u.f+d.f,l:u,r:d};for(var b=s[0].s,n=1;n<a;++n)s[n].s>b&&(b=s[n].s);var g=new Js(b+1),T=Tv(r[m-1],g,0);if(T>t){var n=0,w=0,_=T-t,E=1<<_;for(s.sort(function(I,U){return g[U.s]-g[I.s]||I.f-U.f});n<a;++n){var F=s[n].s;if(g[F]>t)w+=E-(1<<T-g[F]),g[F]=t;else break}for(w>>=_;w>0;){var C=s[n].s;g[C]<t?w-=1<<t-g[C]++-1:++n}for(;n>=0&&w;--n){var L=s[n].s;g[L]==t&&(--g[L],++w)}T=t}return{t:new ul(g),l:T}},Tv=function(e,t,r){return e.s==-1?Math.max(Tv(e.l,t,r+1),Tv(e.r,t,r+1)):t[e.s]=r},Y3=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Js(++t),n=0,a=e[0],s=1,c=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==a&&u!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(a),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(a);s=1,a=e[u]}return{c:r.subarray(0,n),n:t}},uh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},hT=function(e,t,r){var n=r.length,a=dT(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},X3=function(e,t,r,n,a,s,c,u,d,h,m){bc(t,m++,r),++a[256];for(var x=c2(a,15),b=x.t,g=x.l,T=c2(s,15),w=T.t,_=T.l,E=Y3(b),F=E.c,C=E.n,L=Y3(w),X=L.c,I=L.n,U=new Js(19),K=0;K<F.length;++K)++U[F[K]&31];for(var K=0;K<X.length;++K)++U[X[K]&31];for(var H=c2(U,7),oe=H.t,O=H.l,R=19;R>4&&!oe[W3[R-1]];--R);var V=h+5<<3,re=uh(a,Af)+uh(s,vp)+c,le=uh(a,b)+uh(s,w)+c+14+3*R+uh(U,oe)+2*U[16]+3*U[17]+7*U[18];if(d>=0&&V<=re&&V<=le)return hT(t,m,e.subarray(d,d+h));var Z,ie,J,Y;if(bc(t,m,1+(le<re)),m+=2,le<re){Z=Sh(b,g,0),ie=b,J=Sh(w,_,0),Y=w;var se=Sh(oe,O,0);bc(t,m,C-257),bc(t,m+5,I-1),bc(t,m+10,R-4),m+=14;for(var K=0;K<R;++K)bc(t,m+3*K,oe[W3[K]]);m+=3*R;for(var P=[F,X],N=0;N<2;++N)for(var k=P[N],K=0;K<k.length;++K){var D=k[K]&31;bc(t,m,se[D]),m+=oe[D],D>15&&(bc(t,m,k[K]>>5&127),m+=k[K]>>12)}}else Z=RO,ie=Af,J=MO,Y=vp;for(var K=0;K<u;++K){var M=n[K];if(M>255){var D=M>>18&31;ch(t,m,Z[D+257]),m+=ie[D+257],D>7&&(bc(t,m,M>>23&31),m+=$5[D]);var q=M&31;ch(t,m,J[q]),m+=Y[q],q>3&&(ch(t,m,M>>5&8191),m+=Y5[q])}else ch(t,m,Z[M]),m+=ie[M]}return ch(t,m,Z[256]),m+ie[256]},PO=new W5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mT=new ul(0),BO=function(e,t,r,n,a,s){var c=s.z||e.length,u=new ul(n+c+5*(1+Math.ceil(c/7e3))+a),d=u.subarray(n,u.length-a),h=s.l,m=(s.r||0)&7;if(t){m&&(d[0]=s.r>>3);for(var x=PO[t-1],b=x>>13,g=x&8191,T=(1<<r)-1,w=s.p||new Js(32768),_=s.h||new Js(T+1),E=Math.ceil(r/3),F=2*E,C=function(ae){return(e[ae]^e[ae+1]<<E^e[ae+2]<<F)&T},L=new W5(25e3),X=new Js(288),I=new Js(32),U=0,K=0,H=s.i||0,oe=0,O=s.w||0,R=0;H+2<c;++H){var V=C(H),re=H&32767,le=_[V];if(w[re]=le,_[V]=re,O<=H){var Z=c-H;if((U>7e3||oe>24576)&&(Z>423||!h)){m=X3(e,d,0,L,X,I,K,oe,R,H-R,m),oe=U=K=0,R=H;for(var ie=0;ie<286;++ie)X[ie]=0;for(var ie=0;ie<30;++ie)I[ie]=0}var J=2,Y=0,se=g,P=re-le&32767;if(Z>2&&V==C(H-P))for(var N=Math.min(b,Z)-1,k=Math.min(32767,H),D=Math.min(258,Z);P<=k&&--se&&re!=le;){if(e[H+J]==e[H+J-P]){for(var M=0;M<D&&e[H+M]==e[H+M-P];++M);if(M>J){if(J=M,Y=P,M>N)break;for(var q=Math.min(P,M-2),Q=0,ie=0;ie<q;++ie){var me=H-P+ie&32767,de=w[me],ye=me-de&32767;ye>Q&&(Q=ye,le=me)}}}re=le,le=w[re],P+=re-le&32767}if(Y){L[oe++]=268435456|Nv[J]<<18|$3[Y];var Ce=Nv[J]&31,Ve=$3[Y]&31;K+=$5[Ce]+Y5[Ve],++X[257+Ce],++I[Ve],O=H+J,++U}else L[oe++]=e[H],++X[e[H]]}}for(H=Math.max(H,O);H<c;++H)L[oe++]=e[H],++X[e[H]];m=X3(e,d,h,L,X,I,K,oe,R,H-R,m),h||(s.r=m&7|d[m/8|0]<<3,m-=7,s.h=_,s.p=w,s.i=H,s.w=O)}else{for(var H=s.w||0;H<c+h;H+=65535){var Be=H+65535;Be>=c&&(d[m/8|0]=h,Be=c),m=hT(d,m+1,e.subarray(H,Be))}s.i=c}return IO(u,0,n+dT(m)+a)},pT=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,c=0;c!=s;){for(var u=Math.min(c+2655,s);c<u;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},UO=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),c=new ul(s.length+e.length);c.set(s),c.set(e,s.length),e=c,a.w=s.length}return BO(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},gT=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},HO=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=pT();a.p(t.dictionary),gT(e,2,a.d())}};function Av(e,t){t||(t={});var r=pT();r.p(e);var n=UO(e,t,t.dictionary?6:2,4);return HO(n,t),gT(n,n.length-4,r.d()),n}var VO=typeof TextDecoder<"u"&&new TextDecoder,GO=0;try{VO.decode(mT,{stream:!0}),GO=1}catch{}function qO(e){if(Array.isArray(e))return e}function WO(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function K3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $O(e,t){if(e){if(typeof e=="string")return K3(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K3(e,t):void 0}}function YO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(e,t){return qO(e)||WO(e,t)||$O(e,t)||YO()}function J3(e,t="utf8"){return new TextDecoder(t).decode(e)}const XO=new TextEncoder;function KO(e){return XO.encode(e)}const ZO=1024*8,JO=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),u2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class X5{constructor(t=ZO,r={}){Nn(this,"buffer");Nn(this,"byteLength");Nn(this,"byteOffset");Nn(this,"length");Nn(this,"offset");Nn(this,"lastWrittenByte");Nn(this,"littleEndian");Nn(this,"_data");Nn(this,"_mark");Nn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof X5)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=u2[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===JO&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+n));u.reverse();const d=new u2[r](u.buffer);return this.offset+=n,d.reverse(),d}const c=new u2[r](s);return this.offset+=n,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return J3(this.readBytes(t))}decodeText(t=1,r="utf8"){return J3(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(KO(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gd(e){let t=e.length;for(;--t>=0;)e[t]=0}const QO=3,eR=258,xT=29,tR=256,rR=tR+1+xT,vT=30,nR=512,aR=new Array((rR+2)*2);gd(aR);const iR=new Array(vT*2);gd(iR);const sR=new Array(nR);gd(sR);const oR=new Array(eR-QO+1);gd(oR);const lR=new Array(xT);gd(lR);const cR=new Array(vT);gd(cR);const uR=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+t[n++]|0,s=s+a|0;while(--c);a%=65521,s%=65521}return a|s<<16|0};var Ev=uR;const fR=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},dR=new Uint32Array(fR()),hR=(e,t,r,n)=>{const a=dR,s=n+r;e^=-1;for(let c=n;c<s;c++)e=e>>>8^a[(e^t[c])&255];return e^-1};var Dl=hR,jv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mR=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var pR=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)mR(r,n)&&(e[n]=r[n])}}return e},gR=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let c=e[n];r.set(c,a),a+=c.length}return r},yT={assign:pR,flattenChunks:gR};let wT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wT=!1}const Zh=new Uint8Array(256);for(let e=0;e<256;e++)Zh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Zh[254]=Zh[254]=1;var xR=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,c=e.length,u=0;for(a=0;a<c;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),s=0,a=0;s<u;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const vR=(e,t)=>{if(t<65534&&e.subarray&&wT)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var bR=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let c=e[n++];if(c<128){s[a++]=c;continue}let u=Zh[c];if(u>4){s[a++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|e[n++]&63,u--;if(u>1){s[a++]=65533;continue}c<65536?s[a++]=c:(c-=65536,s[a++]=55296|c>>10&1023,s[a++]=56320|c&1023)}return vR(s,a)},yR=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Zh[e[r]]>t?r:t},Cv={string2buf:xR,buf2string:bR,utf8border:yR};function wR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var SR=wR;const Am=16209,NR=16191;var _R=function(t,r){let n,a,s,c,u,d,h,m,x,b,g,T,w,_,E,F,C,L,X,I,U,K,H,oe;const O=t.state;n=t.next_in,H=t.input,a=n+(t.avail_in-5),s=t.next_out,oe=t.output,c=s-(r-t.avail_out),u=s+(t.avail_out-257),d=O.dmax,h=O.wsize,m=O.whave,x=O.wnext,b=O.window,g=O.hold,T=O.bits,w=O.lencode,_=O.distcode,E=(1<<O.lenbits)-1,F=(1<<O.distbits)-1;e:do{T<15&&(g+=H[n++]<<T,T+=8,g+=H[n++]<<T,T+=8),C=w[g&E];t:for(;;){if(L=C>>>24,g>>>=L,T-=L,L=C>>>16&255,L===0)oe[s++]=C&65535;else if(L&16){X=C&65535,L&=15,L&&(T<L&&(g+=H[n++]<<T,T+=8),X+=g&(1<<L)-1,g>>>=L,T-=L),T<15&&(g+=H[n++]<<T,T+=8,g+=H[n++]<<T,T+=8),C=_[g&F];r:for(;;){if(L=C>>>24,g>>>=L,T-=L,L=C>>>16&255,L&16){if(I=C&65535,L&=15,T<L&&(g+=H[n++]<<T,T+=8,T<L&&(g+=H[n++]<<T,T+=8)),I+=g&(1<<L)-1,I>d){t.msg="invalid distance too far back",O.mode=Am;break e}if(g>>>=L,T-=L,L=s-c,I>L){if(L=I-L,L>m&&O.sane){t.msg="invalid distance too far back",O.mode=Am;break e}if(U=0,K=b,x===0){if(U+=h-L,L<X){X-=L;do oe[s++]=b[U++];while(--L);U=s-I,K=oe}}else if(x<L){if(U+=h+x-L,L-=x,L<X){X-=L;do oe[s++]=b[U++];while(--L);if(U=0,x<X){L=x,X-=L;do oe[s++]=b[U++];while(--L);U=s-I,K=oe}}}else if(U+=x-L,L<X){X-=L;do oe[s++]=b[U++];while(--L);U=s-I,K=oe}for(;X>2;)oe[s++]=K[U++],oe[s++]=K[U++],oe[s++]=K[U++],X-=3;X&&(oe[s++]=K[U++],X>1&&(oe[s++]=K[U++]))}else{U=s-I;do oe[s++]=oe[U++],oe[s++]=oe[U++],oe[s++]=oe[U++],X-=3;while(X>2);X&&(oe[s++]=oe[U++],X>1&&(oe[s++]=oe[U++]))}}else if((L&64)===0){C=_[(C&65535)+(g&(1<<L)-1)];continue r}else{t.msg="invalid distance code",O.mode=Am;break e}break}}else if((L&64)===0){C=w[(C&65535)+(g&(1<<L)-1)];continue t}else if(L&32){O.mode=NR;break e}else{t.msg="invalid literal/length code",O.mode=Am;break e}break}}while(n<a&&s<u);X=T>>3,n-=X,T-=X<<3,g&=(1<<T)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<u?257+(u-s):257-(s-u),O.hold=g,O.bits=T};const T0=15,Q3=852,eS=592,tS=0,f2=1,rS=2,TR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ER=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),CR=(e,t,r,n,a,s,c,u)=>{const d=u.bits;let h=0,m=0,x=0,b=0,g=0,T=0,w=0,_=0,E=0,F=0,C,L,X,I,U,K=null,H;const oe=new Uint16Array(T0+1),O=new Uint16Array(T0+1);let R=null,V,re,le;for(h=0;h<=T0;h++)oe[h]=0;for(m=0;m<n;m++)oe[t[r+m]]++;for(g=d,b=T0;b>=1&&oe[b]===0;b--);if(g>b&&(g=b),b===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,u.bits=1,0;for(x=1;x<b&&oe[x]===0;x++);for(g<x&&(g=x),_=1,h=1;h<=T0;h++)if(_<<=1,_-=oe[h],_<0)return-1;if(_>0&&(e===tS||b!==1))return-1;for(O[1]=0,h=1;h<T0;h++)O[h+1]=O[h]+oe[h];for(m=0;m<n;m++)t[r+m]!==0&&(c[O[t[r+m]]++]=m);if(e===tS?(K=R=c,H=20):e===f2?(K=TR,R=AR,H=257):(K=ER,R=jR,H=0),F=0,m=0,h=x,U=s,T=g,w=0,X=-1,E=1<<g,I=E-1,e===f2&&E>Q3||e===rS&&E>eS)return 1;for(;;){V=h-w,c[m]+1<H?(re=0,le=c[m]):c[m]>=H?(re=R[c[m]-H],le=K[c[m]-H]):(re=96,le=0),C=1<<h-w,L=1<<T,x=L;do L-=C,a[U+(F>>w)+L]=V<<24|re<<16|le|0;while(L!==0);for(C=1<<h-1;F&C;)C>>=1;if(C!==0?(F&=C-1,F+=C):F=0,m++,--oe[h]===0){if(h===b)break;h=t[r+c[m]]}if(h>g&&(F&I)!==X){for(w===0&&(w=g),U+=x,T=h-w,_=1<<T;T+w<b&&(_-=oe[T+w],!(_<=0));)T++,_<<=1;if(E+=1<<T,e===f2&&E>Q3||e===rS&&E>eS)return 1;X=F&I,a[X]=g<<24|T<<16|U-s|0}}return F!==0&&(a[U+F]=h-w<<24|64<<16|0),u.bits=g,0};var Nh=CR;const kR=0,ST=1,NT=2,{Z_FINISH:nS,Z_BLOCK:DR,Z_TREES:Em,Z_OK:Ef,Z_STREAM_END:LR,Z_NEED_DICT:zR,Z_STREAM_ERROR:No,Z_DATA_ERROR:_T,Z_MEM_ERROR:TT,Z_BUF_ERROR:FR,Z_DEFLATED:aS}=bT,Yp=16180,iS=16181,sS=16182,oS=16183,lS=16184,cS=16185,uS=16186,fS=16187,dS=16188,hS=16189,bp=16190,yc=16191,d2=16192,mS=16193,h2=16194,pS=16195,gS=16196,xS=16197,vS=16198,jm=16199,Cm=16200,bS=16201,yS=16202,wS=16203,SS=16204,NS=16205,m2=16206,_S=16207,TS=16208,na=16209,AT=16210,ET=16211,OR=852,RR=592,MR=15,IR=MR,AS=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function PR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Yp||t.mode>ET?1:0},jT=e=>{if(Lf(e))return No;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Yp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(OR),t.distcode=t.distdyn=new Int32Array(RR),t.sane=1,t.back=-1,Ef},CT=e=>{if(Lf(e))return No;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jT(e)},kT=(e,t)=>{let r;if(Lf(e))return No;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?No:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,CT(e))},DT=(e,t)=>{if(!e)return No;const r=new PR;e.state=r,r.strm=e,r.window=null,r.mode=Yp;const n=kT(e,t);return n!==Ef&&(e.state=null),n},BR=e=>DT(e,IR);let ES=!0,p2,g2;const UR=e=>{if(ES){p2=new Int32Array(512),g2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Nh(ST,e.lens,0,288,p2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Nh(NT,e.lens,0,32,g2,0,e.work,{bits:5}),ES=!1}e.lencode=p2,e.lenbits=9,e.distcode=g2,e.distbits=5},LT=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},HR=(e,t)=>{let r,n,a,s,c,u,d,h,m,x,b,g,T,w,_=0,E,F,C,L,X,I,U,K;const H=new Uint8Array(4);let oe,O;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lf(e)||!e.output||!e.input&&e.avail_in!==0)return No;r=e.state,r.mode===yc&&(r.mode=d2),c=e.next_out,a=e.output,d=e.avail_out,s=e.next_in,n=e.input,u=e.avail_in,h=r.hold,m=r.bits,x=u,b=d,K=Ef;e:for(;;)switch(r.mode){case Yp:if(r.wrap===0){r.mode=d2;break}for(;m<16;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,H[0]=h&255,H[1]=h>>>8&255,r.check=Dl(r.check,H,2,0),h=0,m=0,r.mode=iS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",r.mode=na;break}if((h&15)!==aS){e.msg="unknown compression method",r.mode=na;break}if(h>>>=4,m-=4,U=(h&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){e.msg="invalid window size",r.mode=na;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=h&512?hS:yc,h=0,m=0;break;case iS:for(;m<16;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(r.flags=h,(r.flags&255)!==aS){e.msg="unknown compression method",r.mode=na;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=na;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(H[0]=h&255,H[1]=h>>>8&255,r.check=Dl(r.check,H,2,0)),h=0,m=0,r.mode=sS;case sS:for(;m<32;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(H[0]=h&255,H[1]=h>>>8&255,H[2]=h>>>16&255,H[3]=h>>>24&255,r.check=Dl(r.check,H,4,0)),h=0,m=0,r.mode=oS;case oS:for(;m<16;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(H[0]=h&255,H[1]=h>>>8&255,r.check=Dl(r.check,H,2,0)),h=0,m=0,r.mode=lS;case lS:if(r.flags&1024){for(;m<16;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(H[0]=h&255,H[1]=h>>>8&255,r.check=Dl(r.check,H,2,0)),h=0,m=0}else r.head&&(r.head.extra=null);r.mode=cS;case cS:if(r.flags&1024&&(g=r.length,g>u&&(g=u),g&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+g),U)),r.flags&512&&r.wrap&4&&(r.check=Dl(r.check,n,g,s)),u-=g,s+=g,r.length-=g),r.length))break e;r.length=0,r.mode=uS;case uS:if(r.flags&2048){if(u===0)break e;g=0;do U=n[s+g++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&g<u);if(r.flags&512&&r.wrap&4&&(r.check=Dl(r.check,n,g,s)),u-=g,s+=g,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fS;case fS:if(r.flags&4096){if(u===0)break e;g=0;do U=n[s+g++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&g<u);if(r.flags&512&&r.wrap&4&&(r.check=Dl(r.check,n,g,s)),u-=g,s+=g,U)break e}else r.head&&(r.head.comment=null);r.mode=dS;case dS:if(r.flags&512){for(;m<16;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(r.wrap&4&&h!==(r.check&65535)){e.msg="header crc mismatch",r.mode=na;break}h=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=yc;break;case hS:for(;m<32;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}e.adler=r.check=AS(h),h=0,m=0,r.mode=bp;case bp:if(r.havedict===0)return e.next_out=c,e.avail_out=d,e.next_in=s,e.avail_in=u,r.hold=h,r.bits=m,zR;e.adler=r.check=1,r.mode=yc;case yc:if(t===DR||t===Em)break e;case d2:if(r.last){h>>>=m&7,m-=m&7,r.mode=m2;break}for(;m<3;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}switch(r.last=h&1,h>>>=1,m-=1,h&3){case 0:r.mode=mS;break;case 1:if(UR(r),r.mode=jm,t===Em){h>>>=2,m-=2;break e}break;case 2:r.mode=gS;break;case 3:e.msg="invalid block type",r.mode=na}h>>>=2,m-=2;break;case mS:for(h>>>=m&7,m-=m&7;m<32;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",r.mode=na;break}if(r.length=h&65535,h=0,m=0,r.mode=h2,t===Em)break e;case h2:r.mode=pS;case pS:if(g=r.length,g){if(g>u&&(g=u),g>d&&(g=d),g===0)break e;a.set(n.subarray(s,s+g),c),u-=g,s+=g,d-=g,c+=g,r.length-=g;break}r.mode=yc;break;case gS:for(;m<14;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(r.nlen=(h&31)+257,h>>>=5,m-=5,r.ndist=(h&31)+1,h>>>=5,m-=5,r.ncode=(h&15)+4,h>>>=4,m-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=na;break}r.have=0,r.mode=xS;case xS:for(;r.have<r.ncode;){for(;m<3;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.lens[R[r.have++]]=h&7,h>>>=3,m-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,oe={bits:r.lenbits},K=Nh(kR,r.lens,0,19,r.lencode,0,r.work,oe),r.lenbits=oe.bits,K){e.msg="invalid code lengths set",r.mode=na;break}r.have=0,r.mode=vS;case vS:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[h&(1<<r.lenbits)-1],E=_>>>24,F=_>>>16&255,C=_&65535,!(E<=m);){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(C<16)h>>>=E,m-=E,r.lens[r.have++]=C;else{if(C===16){for(O=E+2;m<O;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(h>>>=E,m-=E,r.have===0){e.msg="invalid bit length repeat",r.mode=na;break}U=r.lens[r.have-1],g=3+(h&3),h>>>=2,m-=2}else if(C===17){for(O=E+3;m<O;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}h>>>=E,m-=E,U=0,g=3+(h&7),h>>>=3,m-=3}else{for(O=E+7;m<O;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}h>>>=E,m-=E,U=0,g=11+(h&127),h>>>=7,m-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=na;break}for(;g--;)r.lens[r.have++]=U}}if(r.mode===na)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=na;break}if(r.lenbits=9,oe={bits:r.lenbits},K=Nh(ST,r.lens,0,r.nlen,r.lencode,0,r.work,oe),r.lenbits=oe.bits,K){e.msg="invalid literal/lengths set",r.mode=na;break}if(r.distbits=6,r.distcode=r.distdyn,oe={bits:r.distbits},K=Nh(NT,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,oe),r.distbits=oe.bits,K){e.msg="invalid distances set",r.mode=na;break}if(r.mode=jm,t===Em)break e;case jm:r.mode=Cm;case Cm:if(u>=6&&d>=258){e.next_out=c,e.avail_out=d,e.next_in=s,e.avail_in=u,r.hold=h,r.bits=m,_R(e,b),c=e.next_out,a=e.output,d=e.avail_out,s=e.next_in,n=e.input,u=e.avail_in,h=r.hold,m=r.bits,r.mode===yc&&(r.back=-1);break}for(r.back=0;_=r.lencode[h&(1<<r.lenbits)-1],E=_>>>24,F=_>>>16&255,C=_&65535,!(E<=m);){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(F&&(F&240)===0){for(L=E,X=F,I=C;_=r.lencode[I+((h&(1<<L+X)-1)>>L)],E=_>>>24,F=_>>>16&255,C=_&65535,!(L+E<=m);){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}h>>>=L,m-=L,r.back+=L}if(h>>>=E,m-=E,r.back+=E,r.length=C,F===0){r.mode=NS;break}if(F&32){r.back=-1,r.mode=yc;break}if(F&64){e.msg="invalid literal/length code",r.mode=na;break}r.extra=F&15,r.mode=bS;case bS:if(r.extra){for(O=r.extra;m<O;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=yS;case yS:for(;_=r.distcode[h&(1<<r.distbits)-1],E=_>>>24,F=_>>>16&255,C=_&65535,!(E<=m);){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if((F&240)===0){for(L=E,X=F,I=C;_=r.distcode[I+((h&(1<<L+X)-1)>>L)],E=_>>>24,F=_>>>16&255,C=_&65535,!(L+E<=m);){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}h>>>=L,m-=L,r.back+=L}if(h>>>=E,m-=E,r.back+=E,F&64){e.msg="invalid distance code",r.mode=na;break}r.offset=C,r.extra=F&15,r.mode=wS;case wS:if(r.extra){for(O=r.extra;m<O;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=na;break}r.mode=SS;case SS:if(d===0)break e;if(g=b-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=na;break}g>r.wnext?(g-=r.wnext,T=r.wsize-g):T=r.wnext-g,g>r.length&&(g=r.length),w=r.window}else w=a,T=c-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do a[c++]=w[T++];while(--g);r.length===0&&(r.mode=Cm);break;case NS:if(d===0)break e;a[c++]=r.length,d--,r.mode=Cm;break;case m2:if(r.wrap){for(;m<32;){if(u===0)break e;u--,h|=n[s++]<<m,m+=8}if(b-=d,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Dl(r.check,a,b,c-b):Ev(r.check,a,b,c-b)),b=d,r.wrap&4&&(r.flags?h:AS(h))!==r.check){e.msg="incorrect data check",r.mode=na;break}h=0,m=0}r.mode=_S;case _S:if(r.wrap&&r.flags){for(;m<32;){if(u===0)break e;u--,h+=n[s++]<<m,m+=8}if(r.wrap&4&&h!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=na;break}h=0,m=0}r.mode=TS;case TS:K=LR;break e;case na:K=_T;break e;case AT:return TT;case ET:default:return No}return e.next_out=c,e.avail_out=d,e.next_in=s,e.avail_in=u,r.hold=h,r.bits=m,(r.wsize||b!==e.avail_out&&r.mode<na&&(r.mode<m2||t!==nS))&&LT(e,e.output,e.next_out,b-e.avail_out),x-=e.avail_in,b-=e.avail_out,e.total_in+=x,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Dl(r.check,a,b,e.next_out-b):Ev(r.check,a,b,e.next_out-b)),e.data_type=r.bits+(r.last?64:0)+(r.mode===yc?128:0)+(r.mode===jm||r.mode===h2?256:0),(x===0&&b===0||t===nS)&&K===Ef&&(K=FR),K},VR=e=>{if(Lf(e))return No;let t=e.state;return t.window&&(t.window=null),e.state=null,Ef},GR=(e,t)=>{if(Lf(e))return No;const r=e.state;return(r.wrap&2)===0?No:(r.head=t,t.done=!1,Ef)},qR=(e,t)=>{const r=t.length;let n,a,s;return Lf(e)||(n=e.state,n.wrap!==0&&n.mode!==bp)?No:n.mode===bp&&(a=1,a=Ev(a,t,r,0),a!==n.check)?_T:(s=LT(e,t,r,r),s?(n.mode=AT,TT):(n.havedict=1,Ef))};var WR=CT,$R=kT,YR=jT,XR=BR,KR=DT,ZR=HR,JR=VR,QR=GR,eM=qR,tM="pako inflate (from Nodeca project)",Nc={inflateReset:WR,inflateReset2:$R,inflateResetKeep:YR,inflateInit:XR,inflateInit2:KR,inflate:ZR,inflateEnd:JR,inflateGetHeader:QR,inflateSetDictionary:eM,inflateInfo:tM};function rM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nM=rM;const zT=Object.prototype.toString,{Z_NO_FLUSH:aM,Z_FINISH:iM,Z_OK:Jh,Z_STREAM_END:x2,Z_NEED_DICT:v2,Z_STREAM_ERROR:sM,Z_DATA_ERROR:jS,Z_MEM_ERROR:oM}=bT;function b1(e){this.options=yT.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SR,this.strm.avail_out=0;let r=Nc.inflateInit2(this.strm,t.windowBits);if(r!==Jh)throw new Error(jv[r]);if(this.header=new nM,Nc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Cv.string2buf(t.dictionary):zT.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Nc.inflateSetDictionary(this.strm,t.dictionary),r!==Jh)))throw new Error(jv[r])}b1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,c,u;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?iM:aM,zT.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Nc.inflate(r,c),s===v2&&a&&(s=Nc.inflateSetDictionary(r,a),s===Jh?s=Nc.inflate(r,c):s===jS&&(s=v2));r.avail_in>0&&s===x2&&r.state.wrap>0&&e[r.next_in]!==0;)Nc.inflateReset(r),s=Nc.inflate(r,c);switch(s){case sM:case jS:case v2:case oM:return this.onEnd(s),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||s===x2))if(this.options.to==="string"){let d=Cv.utf8border(r.output,r.next_out),h=r.next_out-d,m=Cv.buf2string(r.output,d);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(d,d+h),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Jh&&u===0)){if(s===x2)return s=Nc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};b1.prototype.onData=function(e){this.chunks.push(e)};b1.prototype.onEnd=function(e){e===Jh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yT.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lM(e,t){const r=new b1(t);if(r.push(e),r.err)throw r.msg||jv[r.err];return r.result}var cM=b1,uM=lM,fM={Inflate:cM,inflate:uM};const{Inflate:dM,inflate:hM}=fM;var CS=dM,mM=hM;const FT=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;FT[e]=t}const kS=4294967295;function pM(e,t,r){let n=e;for(let a=0;a<r;a++)n=FT[(n^t[a])&255]^n>>>8;return n}function gM(e,t){return(pM(kS,e,t)^kS)>>>0}function DS(e,t,r){const n=e.readUint32(),a=gM(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function OT(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function RT(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function MT(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function IT(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function PT(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+xM(t[s-a],r[s],r[s-a])&255}}function xM(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),c=Math.abs(n-r);return a<=s&&a<=c?e:s<=c?t:r}function vM(e,t,r,n,a,s){switch(e){case 0:OT(t,r,a);break;case 1:RT(t,r,a,s);break;case 2:MT(t,r,n,a);break;case 3:IT(t,r,n,a,s);break;case 4:PT(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const bM=new Uint16Array([255]),yM=new Uint8Array(bM.buffer),wM=yM[0]===255;function SM(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*a,d=new Uint8Array(n*r*u);let h=0;for(let m=0;m<7;m++){const x=c[m],b=Math.ceil((r-x.x)/x.xStep),g=Math.ceil((n-x.y)/x.yStep);if(b<=0||g<=0)continue;const T=b*u,w=new Uint8Array(T);for(let _=0;_<g;_++){const E=t[h++],F=t.subarray(h,h+T);h+=T;const C=new Uint8Array(T);vM(E,F,C,w,T,u),w.set(C);for(let L=0;L<b;L++){const X=x.x+L*x.xStep,I=x.y+_*x.yStep;if(!(X>=r||I>=n))for(let U=0;U<u;U++)d[(I*r+X)*u+U]=C[L*u+U]}}}if(s===16){const m=new Uint16Array(d.buffer);if(wM)for(let x=0;x<m.length;x++)m[x]=NM(m[x]);return m}else return d}function NM(e){return(e&255)<<8|e>>8&255}const _M=new Uint16Array([255]),TM=new Uint8Array(_M.buffer),AM=TM[0]===255,EM=new Uint8Array(0);function LS(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,c=Math.ceil(s/8)*a,u=Math.ceil(s/8*a*r),d=new Uint8Array(n*u);let h=EM,m=0,x,b;for(let g=0;g<n;g++){switch(x=t.subarray(m+1,m+1+u),b=d.subarray(g*u,(g+1)*u),t[m]){case 0:OT(x,b,u);break;case 1:RT(x,b,u,c);break;case 2:MT(x,b,h,u);break;case 3:IT(x,b,h,u,c);break;case 4:PT(x,b,h,u,c);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}h=b,m+=u+1}if(s===16){const g=new Uint16Array(d.buffer);if(AM)for(let T=0;T<g.length;T++)g[T]=jM(g[T]);return g}else return d}function jM(e){return(e&255)<<8|e>>8&255}const Xm=Uint8Array.of(137,80,78,71,13,10,26,10);function zS(e){if(!CM(e.readBytes(Xm.length)))throw new Error("wrong PNG signature")}function CM(e){if(e.length<Xm.length)return!1;for(let t=0;t<Xm.length;t++)if(e[t]!==Xm[t])return!1;return!0}const kM="tEXt",DM=0,BT=new TextDecoder("latin1");function LM(e){if(FM(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const zM=/^[\u0000-\u00FF]*$/;function FM(e){if(!zM.test(e))throw new Error("invalid latin1 text")}function OM(e,t,r){const n=UT(t);e[n]=RM(t,r-n.length-1)}function UT(e){for(e.mark();e.readByte()!==DM;);const t=e.offset;e.reset();const r=BT.decode(e.readBytes(t-e.offset-1));return e.skip(1),LM(r),r}function RM(e,t){return BT.decode(e.readBytes(t))}const Ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},b2={UNKNOWN:-1,DEFLATE:0},FS={UNKNOWN:-1,ADAPTIVE:0},y2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},km={NONE:0,BACKGROUND:1,PREVIOUS:2},w2={SOURCE:0,OVER:1};class MM extends X5{constructor(r,n={}){super(r);Nn(this,"_checkCrc");Nn(this,"_inflator");Nn(this,"_png");Nn(this,"_apng");Nn(this,"_end");Nn(this,"_hasPalette");Nn(this,"_palette");Nn(this,"_hasTransparency");Nn(this,"_transparency");Nn(this,"_compressionMethod");Nn(this,"_filterMethod");Nn(this,"_interlaceMethod");Nn(this,"_colorType");Nn(this,"_isAnimated");Nn(this,"_numberOfFrames");Nn(this,"_numberOfPlays");Nn(this,"_frames");Nn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new CS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=b2.UNKNOWN,this._filterMethod=FS.UNKNOWN,this._interlaceMethod=y2.UNKNOWN,this._colorType=Ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zS(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(zS(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case kM:OM(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?DS(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?DS(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=IM(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ws.GREYSCALE:a=1;break;case Ws.TRUECOLOUR:a=3;break;case Ws.INDEXED_COLOUR:a=1;break;case Ws.GREYSCALE_ALPHA:a=2;break;case Ws.TRUECOLOUR_ALPHA:a=4;break;case Ws.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==b2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ws.GREYSCALE:case Ws.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ws.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ws.UNKNOWN:case Ws.GREYSCALE_ALPHA:case Ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=UT(this),a=this.readUint8();if(a!==b2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:mM(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=LS({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case km.NONE:break;case km.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let c=0;c<this._png.width;c++){const u=(s*r.width+c)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[u+d]=0}break;case km.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(c,u)=>{const d=((c+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,h=(c*n.width+u)*this._png.channels;return{index:d,frameIndex:h}};switch(n.blendOp){case w2.SOURCE:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:h}=s(c,u);for(let m=0;m<this._png.channels;m++)r.data[d+m]=n.data[h+m]}break;case w2.OVER:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:h}=s(c,u);for(let m=0;m<this._png.channels;m++){const x=n.data[h+this._png.channels-1]/a,b=m%(this._png.channels-1)===0?1:n.data[h+m],g=Math.floor(x*b+(1-x)*r.data[d+m]);r.data[d+m]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==FS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===y2.NO_INTERLACE)this._png.data=LS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===y2.ADAM7)this._png.data=SM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:km.NONE,blendOp:w2.SOURCE,data:r}),this._inflator=new CS,this._writingDataChunks=!1}}function IM(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var OS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(OS||(OS={}));function PM(e,t){return new MM(e,t).decode()}var kr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function S2(){kr.console&&typeof kr.console.log=="function"&&kr.console.log.apply(kr.console,arguments)}var Un={log:S2,warn:function(e){kr.console&&(typeof kr.console.warn=="function"?kr.console.warn.apply(kr.console,arguments):S2.call(null,arguments))},error:function(e){kr.console&&(typeof kr.console.error=="function"?kr.console.error.apply(kr.console,arguments):S2(e))}};function N2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hf(n.response,t,r)},n.onerror=function(){Un.error("could not download file")},n.send()}function RS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Dm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hf=kr.saveAs||((typeof window>"u"?"undefined":An(window))!=="object"||window!==kr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=kr.URL||kr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?RS(a.href)?N2(e,t,r):Dm(a,a.target="_blank"):Dm(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Dm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(RS(e))N2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Dm(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:An(s)!=="object"&&(Un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return N2(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(kr.HTMLElement)||kr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&(typeof FileReader>"u"?"undefined":An(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},u.readAsDataURL(e)}else{var d=kr.URL||kr.webkitURL,h=d.createObjectURL(e);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HT(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,c=a.exec(e);c&&(t=s(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+u+d+h}}var Km=kr.atob.bind(kr),MS=kr.btoa.bind(kr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _2(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Pi(r,n,a,s,t[0],7,-680876936),s=Pi(s,r,n,a,t[1],12,-389564586),a=Pi(a,s,r,n,t[2],17,606105819),n=Pi(n,a,s,r,t[3],22,-1044525330),r=Pi(r,n,a,s,t[4],7,-176418897),s=Pi(s,r,n,a,t[5],12,1200080426),a=Pi(a,s,r,n,t[6],17,-1473231341),n=Pi(n,a,s,r,t[7],22,-45705983),r=Pi(r,n,a,s,t[8],7,1770035416),s=Pi(s,r,n,a,t[9],12,-1958414417),a=Pi(a,s,r,n,t[10],17,-42063),n=Pi(n,a,s,r,t[11],22,-1990404162),r=Pi(r,n,a,s,t[12],7,1804603682),s=Pi(s,r,n,a,t[13],12,-40341101),a=Pi(a,s,r,n,t[14],17,-1502002290),r=Bi(r,n=Pi(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Bi(s,r,n,a,t[6],9,-1069501632),a=Bi(a,s,r,n,t[11],14,643717713),n=Bi(n,a,s,r,t[0],20,-373897302),r=Bi(r,n,a,s,t[5],5,-701558691),s=Bi(s,r,n,a,t[10],9,38016083),a=Bi(a,s,r,n,t[15],14,-660478335),n=Bi(n,a,s,r,t[4],20,-405537848),r=Bi(r,n,a,s,t[9],5,568446438),s=Bi(s,r,n,a,t[14],9,-1019803690),a=Bi(a,s,r,n,t[3],14,-187363961),n=Bi(n,a,s,r,t[8],20,1163531501),r=Bi(r,n,a,s,t[13],5,-1444681467),s=Bi(s,r,n,a,t[2],9,-51403784),a=Bi(a,s,r,n,t[7],14,1735328473),r=Ui(r,n=Bi(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ui(s,r,n,a,t[8],11,-2022574463),a=Ui(a,s,r,n,t[11],16,1839030562),n=Ui(n,a,s,r,t[14],23,-35309556),r=Ui(r,n,a,s,t[1],4,-1530992060),s=Ui(s,r,n,a,t[4],11,1272893353),a=Ui(a,s,r,n,t[7],16,-155497632),n=Ui(n,a,s,r,t[10],23,-1094730640),r=Ui(r,n,a,s,t[13],4,681279174),s=Ui(s,r,n,a,t[0],11,-358537222),a=Ui(a,s,r,n,t[3],16,-722521979),n=Ui(n,a,s,r,t[6],23,76029189),r=Ui(r,n,a,s,t[9],4,-640364487),s=Ui(s,r,n,a,t[12],11,-421815835),a=Ui(a,s,r,n,t[15],16,530742520),r=Hi(r,n=Ui(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Hi(s,r,n,a,t[7],10,1126891415),a=Hi(a,s,r,n,t[14],15,-1416354905),n=Hi(n,a,s,r,t[5],21,-57434055),r=Hi(r,n,a,s,t[12],6,1700485571),s=Hi(s,r,n,a,t[3],10,-1894986606),a=Hi(a,s,r,n,t[10],15,-1051523),n=Hi(n,a,s,r,t[1],21,-2054922799),r=Hi(r,n,a,s,t[8],6,1873313359),s=Hi(s,r,n,a,t[15],10,-30611744),a=Hi(a,s,r,n,t[6],15,-1560198380),n=Hi(n,a,s,r,t[13],21,1309151649),r=Hi(r,n,a,s,t[4],6,-145523070),s=Hi(s,r,n,a,t[11],10,-1120210379),a=Hi(a,s,r,n,t[2],15,718787259),n=Hi(n,a,s,r,t[9],21,-343485551),e[0]=_u(r,e[0]),e[1]=_u(n,e[1]),e[2]=_u(a,e[2]),e[3]=_u(s,e[3])}function Xp(e,t,r,n,a,s){return t=_u(_u(t,e),_u(n,s)),_u(t<<a|t>>>32-a,r)}function Pi(e,t,r,n,a,s,c){return Xp(t&r|~t&n,e,t,a,s,c)}function Bi(e,t,r,n,a,s,c){return Xp(t&n|r&~n,e,t,a,s,c)}function Ui(e,t,r,n,a,s,c){return Xp(t^r^n,e,t,a,s,c)}function Hi(e,t,r,n,a,s,c){return Xp(r^(t|~n),e,t,a,s,c)}function VT(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_2(n,BM(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(_2(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,_2(n,a),n}function BM(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var IS="0123456789abcdef".split("");function UM(e){for(var t="",r=0;r<4;r++)t+=IS[e>>8*r+4&15]+IS[e>>8*r&15];return t}function HM(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kv(e){return VT(e).map(HM).join("")}var VM=(function(e){for(var t=0;t<e.length;t++)e[t]=UM(e[t]);return e.join("")})(VT("hello"))!="5d41402abc4b2a76b9719d911017c592";function _u(e,t){if(VM){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dv(e,t){var r,n,a,s;if(e!==r){for(var c=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var h=0;for(d=0;d<256;d++){var m=u[d];h=(h+m+c.charCodeAt(d))%256,u[d]=u[h],u[h]=m}r=e,n=u}else u=n;var x=t.length,b=0,g=0,T="";for(d=0;d<x;d++)g=(g+(m=u[b=(b+1)%256]))%256,u[b]=u[g],u[g]=m,c=u[(u[b]+u[g])%256],T+=String.fromCharCode(t.charCodeAt(d)^c);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var PS={print:4,modify:8,copy:16,"annot-forms":32};function L0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(u){if(PS.perm!==void 0)throw new Error("Invalid permission: "+u);a+=PS[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^a)),this.encryptionKey=kv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dv(this.encryptionKey,this.padding)}function z0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function BS(e){if(An(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var c=t[r][s];try{c[0].apply(e,n)}catch(u){kr.console&&Un.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function yp(e){if(!(this instanceof yp))return new yp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function GT(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mf(e,t,r,n,a){if(!(this instanceof mf))return new mf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,GT.call(this,n,a)}function H0(e,t,r,n,a){if(!(this instanceof H0))return new H0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,GT.call(this,n,a)}function sr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],c=[],u=1,d=16,h="S",m=null;An(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),h=e.defaultPathOperation||"S"),c=e.filters||(s===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=BS;var T="1.3",w=g.__private__.getPdfVersion=function(){return T};g.__private__.setPdfVersion=function(j){T=j};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return _};var E=g.__private__.getPageFormat=function(j){return _[j]};a=a||"a4";var F="compat",C="advanced",L=F;function X(){this.saveGraphicsState(),he(new De(Bt,0,0,-Bt,0,Oo()*Bt).toString()+" cm"),this.setFontSize(this.getFontSize()/Bt),h="n",L=C}function I(){this.restoreGraphicsState(),h="S",L=F}var U=g.__private__.combineFontStyleAndFontWeight=function(j,ee){if(j=="bold"&&ee=="normal"||j=="bold"&&ee==400||j=="normal"&&ee=="italic"||j=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(j=ee==400||ee==="normal"?j==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||j!=="normal"?(ee==700?"bold":ee)+""+j:"bold"),j};g.advancedAPI=function(j){var ee=L===F;return ee&&X.call(this),typeof j!="function"||(j(this),ee&&I.call(this)),this},g.compatAPI=function(j){var ee=L===C;return ee&&I.call(this),typeof j!="function"||(j(this),ee&&X.call(this)),this},g.isAdvancedAPI=function(){return L===C};var K,H=function(j){if(L!==C)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=g.roundToPrecision=g.__private__.roundToPrecision=function(j,ee){var Te=t||ee;if(isNaN(j)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Te).replace(/0+$/,"")};K=g.hpf=g.__private__.hpf=typeof d=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,d)}:d==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(j,16)};var O=g.f2=g.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return oe(j,2)},R=g.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return oe(j,3)},V=g.scale=g.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return L===F?j*Bt:L===C?j:void 0},re=function(j){return V((function(ee){return L===F?Oo()-ee:L===C?ee:void 0})(j))};g.__private__.setPrecision=g.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var le,Z="00000000000000000000000000000000",ie=g.__private__.getFileId=function(){return Z},J=g.__private__.setFileId=function(j){return Z=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Hn=new L0(m.userPermissions,m.userPassword,m.ownerPassword,Z)),Z};g.setFileId=function(j){return J(j),this},g.getFileId=function(){return ie()};var Y=g.__private__.convertDateToPDFDate=function(j){var ee=j.getTimezoneOffset(),Te=ee<0?"+":"-",Ee=Math.floor(Math.abs(ee/60)),Re=Math.abs(ee%60),ft=[Te,D(Ee),"'",D(Re),"'"].join("");return["D:",j.getFullYear(),D(j.getMonth()+1),D(j.getDate()),D(j.getHours()),D(j.getMinutes()),D(j.getSeconds()),ft].join("")},se=g.__private__.convertPDFDateToDate=function(j){var ee=parseInt(j.substr(2,4),10),Te=parseInt(j.substr(6,2),10)-1,Ee=parseInt(j.substr(8,2),10),Re=parseInt(j.substr(10,2),10),ft=parseInt(j.substr(12,2),10),yt=parseInt(j.substr(14,2),10);return new Date(ee,Te,Ee,Re,ft,yt,0)},P=g.__private__.setCreationDate=function(j){var ee;if(j===void 0&&(j=new Date),j instanceof Date)ee=Y(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=j}return le=ee},N=g.__private__.getCreationDate=function(j){var ee=le;return j==="jsDate"&&(ee=se(le)),ee};g.setCreationDate=function(j){return P(j),this},g.getCreationDate=function(j){return N(j)};var k,D=g.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},M=g.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},q=0,Q=[],me=[],de=0,ye=[],Ce=[],Ve=!1,Be=me;g.__private__.setCustomOutputDestination=function(j){Ve=!0,Be=j};var ae=function(j){Ve||(Be=j)};g.__private__.resetCustomOutputDestination=function(){Ve=!1,Be=me};var he=g.__private__.out=function(j){return j=j.toString(),de+=j.length+1,Be.push(j),Be},Ze=g.__private__.write=function(j){return he(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Oe=g.__private__.getArrayBuffer=function(j){for(var ee=j.length,Te=new ArrayBuffer(ee),Ee=new Uint8Array(Te);ee--;)Ee[ee]=j.charCodeAt(ee);return Te},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Qe};var Ue=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(j){return Ue=L===C?j/Bt:j,this};var ct,rt=g.__private__.getFontSize=g.getFontSize=function(){return L===F?Ue:Ue*Bt},Dt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(j){return Dt=j,this},g.__private__.getR2L=g.getR2L=function(){return Dt};var jt,Ft=g.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))ct=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');ct=j}else ct=parseInt(j,10)};g.__private__.getZoomMode=function(){return ct};var it,Ct=g.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');jt=j};g.__private__.getPageMode=function(){return jt};var pt=g.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');it=j};g.__private__.getLayoutMode=function(){return it},g.__private__.setDisplayMode=g.setDisplayMode=function(j,ee,Te){return Ft(j),pt(ee),Ct(Te),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(j){if(Object.keys(vt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[j]},g.__private__.getDocumentProperties=function(){return vt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(j){for(var ee in vt)vt.hasOwnProperty(ee)&&j[ee]&&(vt[ee]=j[ee]);return this},g.__private__.setDocumentProperty=function(j,ee){if(Object.keys(vt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[j]=ee};var ut,Bt,Lt,xr,Fe,ot={},bt={},Pt=[],Ut={},yr={},tr={},Dr={},nr=null,jr=0,Vt=[],mr=new BS(g),Cn=e.hotfixes||[],Xe={},At={},Yt=[],De=function j(ee,Te,Ee,Re,ft,yt){if(!(this instanceof j))return new j(ee,Te,Ee,Re,ft,yt);isNaN(ee)&&(ee=1),isNaN(Te)&&(Te=0),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=1),isNaN(ft)&&(ft=0),isNaN(yt)&&(yt=0),this._matrix=[ee,Te,Ee,Re,ft,yt]};Object.defineProperty(De.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(De.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(De.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(De.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(De.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(De.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(De.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(De.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(De.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(De.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(De.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(De.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(De.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(De.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(De.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(De.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),De.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(j)},De.prototype.multiply=function(j){var ee=j.sx*this.sx+j.shy*this.shx,Te=j.sx*this.shy+j.shy*this.sy,Ee=j.shx*this.sx+j.sy*this.shx,Re=j.shx*this.shy+j.sy*this.sy,ft=j.tx*this.sx+j.ty*this.shx+this.tx,yt=j.tx*this.shy+j.ty*this.sy+this.ty;return new De(ee,Te,Ee,Re,ft,yt)},De.prototype.decompose=function(){var j=this.sx,ee=this.shy,Te=this.shx,Ee=this.sy,Re=this.tx,ft=this.ty,yt=Math.sqrt(j*j+ee*ee),Kt=(j/=yt)*Te+(ee/=yt)*Ee;Te-=j*Kt,Ee-=ee*Kt;var ar=Math.sqrt(Te*Te+Ee*Ee);return Kt/=ar,j*(Ee/=ar)<ee*(Te/=ar)&&(j=-j,ee=-ee,Kt=-Kt,yt=-yt),{scale:new De(yt,0,0,ar,0,0),translate:new De(1,0,0,1,Re,ft),rotate:new De(j,ee,-ee,j,0,0),skew:new De(1,0,Kt,1,0,0)}},De.prototype.toString=function(j){return this.join(" ")},De.prototype.inversed=function(){var j=this.sx,ee=this.shy,Te=this.shx,Ee=this.sy,Re=this.tx,ft=this.ty,yt=1/(j*Ee-ee*Te),Kt=Ee*yt,ar=-ee*yt,Sr=-Te*yt,Lr=j*yt;return new De(Kt,ar,Sr,Lr,-Kt*Re-Sr*ft,-ar*Re-Lr*ft)},De.prototype.applyToPoint=function(j){var ee=j.x*this.sx+j.y*this.shx+this.tx,Te=j.x*this.shy+j.y*this.sy+this.ty;return new ro(ee,Te)},De.prototype.applyToRectangle=function(j){var ee=this.applyToPoint(j),Te=this.applyToPoint(new ro(j.x+j.w,j.y+j.h));return new Lo(ee.x,ee.y,Te.x-ee.x,Te.y-ee.y)},De.prototype.clone=function(){var j=this.sx,ee=this.shy,Te=this.shx,Ee=this.sy,Re=this.tx,ft=this.ty;return new De(j,ee,Te,Ee,Re,ft)},g.Matrix=De;var or=g.matrixMult=function(j,ee){return ee.multiply(j)},Jt=new De(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Jt;var pr=function(j,ee){if(!yr[j]){var Te=(ee instanceof mf?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);ee.id=Te,yr[j]=Te,Ut[Te]=ee,mr.publish("addPattern",ee)}};g.ShadingPattern=mf,g.TilingPattern=H0,g.addShadingPattern=function(j,ee){return H("addShadingPattern()"),pr(j,ee),this},g.beginTilingPattern=function(j){H("beginTilingPattern()"),Kl(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},g.endTilingPattern=function(j,ee){H("endTilingPattern()"),ee.stream=Ce[k].join(`
`),pr(j,ee),mr.publish("endTilingPattern",ee),Yt.pop().restore()};var rr,Tr=g.__private__.newObject=function(){var j=lr();return ne(j,!0),j},lr=g.__private__.newObjectDeferred=function(){return q++,Q[q]=function(){return de},q},ne=function(j,ee){return ee=typeof ee=="boolean"&&ee,Q[j]=de,ee&&he(j+" 0 obj"),j},we=g.__private__.newAdditionalObject=function(){var j={objId:lr(),content:""};return ye.push(j),j},pe=lr(),xe=lr(),be=g.__private__.decodeColorString=function(j){var ee=j.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Te=parseFloat(ee[0]);ee=[Te,Te,Te,"r"]}for(var Ee="#",Re=0;Re<3;Re++)Ee+=("0"+Math.floor(255*parseFloat(ee[Re])).toString(16)).slice(-2);return Ee},Se=g.__private__.encodeColorString=function(j){var ee;typeof j=="string"&&(j={ch1:j});var Te=j.ch1,Ee=j.ch2,Re=j.ch3,ft=j.ch4,yt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var Kt=new HT(Te);if(Kt.ok)Te=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var ar=parseInt(Te.substr(1),16);Te=ar>>16&255,Ee=ar>>8&255,Re=255&ar}if(Ee===void 0||ft===void 0&&Te===Ee&&Ee===Re)ee=typeof Te=="string"?Te+" "+yt[0]:j.precision===2?O(Te/255)+" "+yt[0]:R(Te/255)+" "+yt[0];else if(ft===void 0||An(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",yt[1]].join(" ");ee=typeof Te=="string"?[Te,Ee,Re,yt[1]].join(" "):j.precision===2?[O(Te/255),O(Ee/255),O(Re/255),yt[1]].join(" "):[R(Te/255),R(Ee/255),R(Re/255),yt[1]].join(" ")}else ee=typeof Te=="string"?[Te,Ee,Re,ft,yt[2]].join(" "):j.precision===2?[O(Te),O(Ee),O(Re),O(ft),yt[2]].join(" "):[R(Te),R(Ee),R(Re),R(ft),yt[2]].join(" ");return ee},Ie=g.__private__.getFilters=function(){return c},et=g.__private__.putStream=function(j){var ee=(j=j||{}).data||"",Te=j.filters||Ie(),Ee=j.alreadyAppliedFilters||[],Re=j.addLength1||!1,ft=ee.length,yt=j.objectId,Kt=function(Ea){return Ea};if(m!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Kt=Hn.encryptor(yt,0));var ar={};Te===!0&&(Te=["FlateEncode"]);var Sr=j.additionalKeyValues||[],Lr=(ar=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(ee,Te):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(ar.data.length!==0&&(Sr.push({key:"Length",value:ar.data.length}),Re===!0&&Sr.push({key:"Length1",value:ft})),Lr.length!=0)if(Lr.split("/").length-1==1)Sr.push({key:"Filter",value:Lr});else{Sr.push({key:"Filter",value:"["+Lr+"]"});for(var ln=0;ln<Sr.length;ln+=1)if(Sr[ln].key==="DecodeParms"){for(var Vn=[],oa=0;oa<ar.reverseChain.split("/").length-1;oa+=1)Vn.push("null");Vn.push(Sr[ln].value),Sr[ln].value="["+Vn.join(" ")+"]"}}he("<<");for(var kn=0;kn<Sr.length;kn++)he("/"+Sr[kn].key+" "+Sr[kn].value);he(">>"),ar.data.length!==0&&(he("stream"),he(Kt(ar.data)),he("endstream"))},Ge=g.__private__.putPage=function(j){var ee=j.number,Te=j.data,Ee=j.objId,Re=j.contentsObjId;ne(Ee,!0),he("<</Type /Page"),he("/Parent "+j.rootDictionaryObjId+" 0 R"),he("/Resources "+j.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(K(j.mediaBox.bottomLeftX))+" "+parseFloat(K(j.mediaBox.bottomLeftY))+" "+K(j.mediaBox.topRightX)+" "+K(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&he("/CropBox ["+K(j.cropBox.bottomLeftX)+" "+K(j.cropBox.bottomLeftY)+" "+K(j.cropBox.topRightX)+" "+K(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&he("/BleedBox ["+K(j.bleedBox.bottomLeftX)+" "+K(j.bleedBox.bottomLeftY)+" "+K(j.bleedBox.topRightX)+" "+K(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&he("/TrimBox ["+K(j.trimBox.bottomLeftX)+" "+K(j.trimBox.bottomLeftY)+" "+K(j.trimBox.topRightX)+" "+K(j.trimBox.topRightY)+"]"),j.artBox!==null&&he("/ArtBox ["+K(j.artBox.bottomLeftX)+" "+K(j.artBox.bottomLeftY)+" "+K(j.artBox.topRightX)+" "+K(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&he("/UserUnit "+j.userUnit),mr.publish("putPage",{objId:Ee,pageContext:Vt[ee],pageNumber:ee,page:Te}),he("/Contents "+Re+" 0 R"),he(">>"),he("endobj");var ft=Te.join(`
`);return L===C&&(ft+=`
Q`),ne(Re,!0),et({data:ft,filters:Ie(),objectId:Re}),he("endobj"),Ee},qe=g.__private__.putPages=function(){var j,ee,Te=[];for(j=1;j<=jr;j++)Vt[j].objId=lr(),Vt[j].contentsObjId=lr();for(j=1;j<=jr;j++)Te.push(Ge({number:j,data:Ce[j],objId:Vt[j].objId,contentsObjId:Vt[j].contentsObjId,mediaBox:Vt[j].mediaBox,cropBox:Vt[j].cropBox,bleedBox:Vt[j].bleedBox,trimBox:Vt[j].trimBox,artBox:Vt[j].artBox,userUnit:Vt[j].userUnit,rootDictionaryObjId:pe,resourceDictionaryObjId:xe}));ne(pe,!0),he("<</Type /Pages");var Ee="/Kids [";for(ee=0;ee<jr;ee++)Ee+=Te[ee]+" 0 R ";he(Ee+"]"),he("/Count "+jr),he(">>"),he("endobj"),mr.publish("postPutPages")},We=function(j){mr.publish("putFont",{font:j,out:he,newObject:Tr,putStream:et}),j.isAlreadyPutted!==!0&&(j.objectNumber=Tr(),he("<<"),he("/Type /Font"),he("/BaseFont /"+z0(j.postScriptName)),he("/Subtype /Type1"),typeof j.encoding=="string"&&he("/Encoding /"+j.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},St=function(j){j.objectNumber=Tr();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[K(j.x),K(j.y),K(j.x+j.width),K(j.y+j.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Te=j.pages[1].join(`
`);et({data:Te,additionalKeyValues:ee,objectId:j.objectNumber}),he("endobj")},Et=function(j,ee){ee||(ee=21);var Te=Tr(),Ee=(function(yt,Kt){var ar,Sr=[],Lr=1/(Kt-1);for(ar=0;ar<1;ar+=Lr)Sr.push(ar);if(Sr.push(1),yt[0].offset!=0){var ln={offset:0,color:yt[0].color};yt.unshift(ln)}if(yt[yt.length-1].offset!=1){var Vn={offset:1,color:yt[yt.length-1].color};yt.push(Vn)}for(var oa="",kn=0,Ea=0;Ea<Sr.length;Ea++){for(ar=Sr[Ea];ar>yt[kn+1].offset;)kn++;var pa=yt[kn].offset,Va=(ar-pa)/(yt[kn+1].offset-pa),ds=yt[kn].color,Fi=yt[kn+1].color;oa+=M(Math.round((1-Va)*ds[0]+Va*Fi[0]).toString(16))+M(Math.round((1-Va)*ds[1]+Va*Fi[1]).toString(16))+M(Math.round((1-Va)*ds[2]+Va*Fi[2]).toString(16))}return oa.trim()})(j.colors,ee),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+ee+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:Ee,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),he("endobj"),j.objectNumber=Tr(),he("<< /ShadingType "+j.type),he("/ColorSpace /DeviceRGB");var ft="/Coords ["+K(parseFloat(j.coords[0]))+" "+K(parseFloat(j.coords[1]))+" ";j.type===2?ft+=K(parseFloat(j.coords[2]))+" "+K(parseFloat(j.coords[3])):ft+=K(parseFloat(j.coords[2]))+" "+K(parseFloat(j.coords[3]))+" "+K(parseFloat(j.coords[4]))+" "+K(parseFloat(j.coords[5])),he(ft+="]"),j.matrix&&he("/Matrix ["+j.matrix.toString()+"]"),he("/Function "+Te+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},It=function(j,ee){var Te=lr(),Ee=Tr();ee.push({resourcesOid:Te,objectOid:Ee}),j.objectNumber=Ee;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+j.boundingBox.map(K).join(" ")+"]"}),Re.push({key:"XStep",value:K(j.xStep)}),Re.push({key:"YStep",value:K(j.yStep)}),Re.push({key:"Resources",value:Te+" 0 R"}),j.matrix&&Re.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),et({data:j.stream,additionalKeyValues:Re,objectId:j.objectNumber}),he("endobj")},_t=function(j){for(var ee in j.objectNumber=Tr(),he("<<"),j)switch(ee){case"opacity":he("/ca "+O(j[ee]));break;case"stroke-opacity":he("/CA "+O(j[ee]))}he(">>"),he("endobj")},zt=function(j){ne(j.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in he("/Font <<"),ot)ot.hasOwnProperty(ee)&&(x===!1||x===!0&&b.hasOwnProperty(ee))&&he("/"+ee+" "+ot[ee].objectNumber+" 0 R");he(">>")})(),(function(){if(Object.keys(Ut).length>0){for(var ee in he("/Shading <<"),Ut)Ut.hasOwnProperty(ee)&&Ut[ee]instanceof mf&&Ut[ee].objectNumber>=0&&he("/"+ee+" "+Ut[ee].objectNumber+" 0 R");mr.publish("putShadingPatternDict"),he(">>")}})(),(function(ee){if(Object.keys(Ut).length>0){for(var Te in he("/Pattern <<"),Ut)Ut.hasOwnProperty(Te)&&Ut[Te]instanceof g.TilingPattern&&Ut[Te].objectNumber>=0&&Ut[Te].objectNumber<ee&&he("/"+Te+" "+Ut[Te].objectNumber+" 0 R");mr.publish("putTilingPatternDict"),he(">>")}})(j.objectOid),(function(){if(Object.keys(tr).length>0){var ee;for(ee in he("/ExtGState <<"),tr)tr.hasOwnProperty(ee)&&tr[ee].objectNumber>=0&&he("/"+ee+" "+tr[ee].objectNumber+" 0 R");mr.publish("putGStateDict"),he(">>")}})(),(function(){for(var ee in he("/XObject <<"),Xe)Xe.hasOwnProperty(ee)&&Xe[ee].objectNumber>=0&&he("/"+ee+" "+Xe[ee].objectNumber+" 0 R");mr.publish("putXobjectDict"),he(">>")})(),he(">>"),he("endobj")},Gt=function(j){bt[j.fontName]=bt[j.fontName]||{},bt[j.fontName][j.fontStyle]=j.id},rn=function(j,ee,Te,Ee,Re){var ft={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:j,fontName:ee,fontStyle:Te,encoding:Ee,isStandardFont:Re||!1,metadata:{}};return mr.publish("addFont",{font:ft,instance:this}),ot[ft.id]=ft,Gt(ft),ft.id},Fr=g.__private__.pdfEscape=g.pdfEscape=function(j,ee){return(function(Te,Ee){var Re,ft,yt,Kt,ar,Sr,Lr,ln,Vn;if(yt=(Ee=Ee||{}).sourceEncoding||"Unicode",ar=Ee.outputEncoding,(Ee.autoencode||ar)&&ot[ut].metadata&&ot[ut].metadata[yt]&&ot[ut].metadata[yt].encoding&&(Kt=ot[ut].metadata[yt].encoding,!ar&&ot[ut].encoding&&(ar=ot[ut].encoding),!ar&&Kt.codePages&&(ar=Kt.codePages[0]),typeof ar=="string"&&(ar=Kt[ar]),ar)){for(Lr=!1,Sr=[],Re=0,ft=Te.length;Re<ft;Re++)(ln=ar[Te.charCodeAt(Re)])?Sr.push(String.fromCharCode(ln)):Sr.push(Te[Re]),Sr[Re].charCodeAt(0)>>8&&(Lr=!0);Te=Sr.join("")}for(Re=Te.length;Lr===void 0&&Re!==0;)Te.charCodeAt(Re-1)>>8&&(Lr=!0),Re--;if(!Lr)return Te;for(Sr=Ee.noBOM?[]:[254,255],Re=0,ft=Te.length;Re<ft;Re++){if((Vn=(ln=Te.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+Te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(Vn),Sr.push(ln-(Vn<<8))}return String.fromCharCode.apply(void 0,Sr)})(j,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fn=g.__private__.beginPage=function(j){Ce[++jr]=[],Vt[jr]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Li(jr),ae(Ce[k])},sa=function(j,ee){var Te,Ee,Re;switch(r=ee||r,typeof j=="string"&&(Te=E(j.toLowerCase()),Array.isArray(Te)&&(Ee=Te[0],Re=Te[1])),Array.isArray(j)&&(Ee=j[0]*Bt,Re=j[1]*Bt),isNaN(Ee)&&(Ee=a[0],Re=a[1]),(Ee>14400||Re>14400)&&(Un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Re=Math.min(14400,Re)),a=[Ee,Re],r.substr(0,1)){case"l":Re>Ee&&(a=[Re,Ee]);break;case"p":Ee>Re&&(a=[Re,Ee])}fn(a),ze(ko),he(Zn),Uc!==0&&he(Uc+" J"),Fa!==0&&he(Fa+" j"),mr.publish("addPage",{pageNumber:jr})},Di=function(j){j>0&&j<=jr&&(Ce.splice(j,1),Vt.splice(j,1),jr--,k>jr&&(k=jr),this.setPage(k))},Li=function(j){j>0&&j<=jr&&(k=j)},ni=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},Os=function(j,ee,Te){var Ee,Re=void 0;return Te=Te||{},j=j!==void 0?j:ot[ut].fontName,ee=ee!==void 0?ee:ot[ut].fontStyle,Ee=j.toLowerCase(),bt[Ee]!==void 0&&bt[Ee][ee]!==void 0?Re=bt[Ee][ee]:bt[j]!==void 0&&bt[j][ee]!==void 0?Re=bt[j][ee]:Te.disableWarning===!1&&Un.warn("Unable to look up font label for font '"+j+"', '"+ee+"'. Refer to getFontList() for available fonts."),Re||Te.noFallback||(Re=bt.times[ee])==null&&(Re=bt.times.normal),Re},Kn=g.__private__.putInfo=function(){var j=Tr(),ee=function(Ee){return Ee};for(var Te in m!==null&&(ee=Hn.encryptor(j,0)),he("<<"),he("/Producer ("+Fr(ee("jsPDF "+sr.version))+")"),vt)vt.hasOwnProperty(Te)&&vt[Te]&&he("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Fr(ee(vt[Te]))+")");he("/CreationDate ("+Fr(ee(le))+")"),he(">>"),he("endobj")},Eo=g.__private__.putCatalog=function(j){var ee=(j=j||{}).rootDictionaryObjId||pe;switch(Tr(),he("<<"),he("/Type /Catalog"),he("/Pages "+ee+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+ct;Te.substr(Te.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&he("/OpenAction [3 0 R /XYZ null null "+O(ct)+"]")}switch(it||(it="continuous"),it){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}jt&&he("/PageMode /"+jt),mr.publish("putCatalog"),he(">>"),he("endobj")},dn=g.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(q+1)),he("/Root "+q+" 0 R"),he("/Info "+(q-1)+" 0 R"),m!==null&&he("/Encrypt "+Hn.oid+" 0 R"),he("/ID [ <"+Z+"> <"+Z+"> ]"),he(">>")},za=g.__private__.putHeader=function(){he("%PDF-"+T),he("%")},cs=g.__private__.putXRef=function(){var j="0000000000";he("xref"),he("0 "+(q+1)),he("0000000000 65535 f ");for(var ee=1;ee<=q;ee++)typeof Q[ee]=="function"?he((j+Q[ee]()).slice(-10)+" 00000 n "):Q[ee]!==void 0?he((j+Q[ee]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},us=g.__private__.buildDocument=function(){var j;q=0,de=0,me=[],Q=[],ye=[],pe=lr(),xe=lr(),ae(me),mr.publish("buildDocument"),za(),qe(),(function(){mr.publish("putAdditionalObjects");for(var Te=0;Te<ye.length;Te++){var Ee=ye[Te];ne(Ee.objId,!0),he(Ee.content),he("endobj")}mr.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var Te in ot)ot.hasOwnProperty(Te)&&(x===!1||x===!0&&b.hasOwnProperty(Te))&&We(ot[Te])})(),(function(){var Te;for(Te in tr)tr.hasOwnProperty(Te)&&_t(tr[Te])})(),(function(){for(var Te in Xe)Xe.hasOwnProperty(Te)&&St(Xe[Te])})(),(function(Te){var Ee;for(Ee in Ut)Ut.hasOwnProperty(Ee)&&(Ut[Ee]instanceof mf?Et(Ut[Ee]):Ut[Ee]instanceof H0&&It(Ut[Ee],Te))})(j),mr.publish("putResources"),j.forEach(zt),zt({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),mr.publish("postPutResources"),m!==null&&(Hn.oid=Tr(),he("<<"),he("/Filter /Standard"),he("/V "+Hn.v),he("/R "+Hn.r),he("/U <"+Hn.toHexString(Hn.U)+">"),he("/O <"+Hn.toHexString(Hn.O)+">"),he("/P "+Hn.P),he(">>"),he("endobj")),Kn(),Eo();var ee=de;return cs(),dn(),he("startxref"),he(""+ee),he("%%EOF"),ae(Ce[k]),me.join(`
`)},Rs=g.__private__.getBlob=function(j){return new Blob([Oe(j)],{type:"application/pdf"})},zi=g.output=g.__private__.output=(rr=function(j,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",j){case void 0:return us();case"save":g.save(ee.filename);break;case"arraybuffer":return Oe(us());case"blob":return Rs(us());case"bloburi":case"bloburl":if(kr.URL!==void 0&&typeof kr.URL.createObjectURL=="function")return kr.URL&&kr.URL.createObjectURL(Rs(us()))||void 0;Un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Ee=us();try{Te=MS(Ee)}catch{Te=MS(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Re=ee.pdfObjectUrl,ft="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Kt=kr.open();return Kt!==null&&Kt.document.write(yt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kr)==="[object Window]"){var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',Sr=kr.open();if(Sr!==null){Sr.document.write(ar);var Lr=this;Sr.document.documentElement.querySelector("#pdfViewer").onload=function(){Sr.document.title=ee.filename,Sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lr.output("bloburl"))}}return Sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Vn=kr.open();if(Vn!==null&&(Vn.document.write(ln),Vn.document.title=ee.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return kr.document.location.href=this.output("datauristring",ee);default:return null}},rr.foo=function(){try{return rr.apply(this,arguments)}catch(Te){var j=Te.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var ee="Error in function "+j.split(`
`)[0].split("<")[0]+": "+Te.message;if(!kr.console)throw new Error(ee);kr.console.error(ee,Te),kr.alert&&alert(ee)}},rr.foo.bar=rr,rr.foo),fs=function(j){return Array.isArray(Cn)===!0&&Cn.indexOf(j)>-1};switch(n){case"pt":Bt=1;break;case"mm":Bt=72/25.4;break;case"cm":Bt=72/2.54;break;case"in":Bt=72;break;case"px":Bt=fs("px_scaling")==1?.75:96/72;break;case"pc":case"em":Bt=12;break;case"ex":Bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Bt=n}var Hn=null;P(),J();var vr=g.__private__.getPageInfo=g.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[j].objId,pageNumber:j,pageContext:Vt[j]}},Xi=g.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Vt)if(Vt[ee].objId===j)break;return vr(ee)},Mc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Vt[k].objId,pageNumber:k,pageContext:Vt[k]}};g.addPage=function(){return sa.apply(this,arguments),this},g.setPage=function(){return Li.apply(this,arguments),ae.call(this,Ce[k]),this},g.insertPage=function(j){return this.addPage(),this.movePage(k,j),this},g.movePage=function(j,ee){var Te,Ee;if(j>ee){Te=Ce[j],Ee=Vt[j];for(var Re=j;Re>ee;Re--)Ce[Re]=Ce[Re-1],Vt[Re]=Vt[Re-1];Ce[ee]=Te,Vt[ee]=Ee,this.setPage(ee)}else if(j<ee){Te=Ce[j],Ee=Vt[j];for(var ft=j;ft<ee;ft++)Ce[ft]=Ce[ft+1],Vt[ft]=Vt[ft+1];Ce[ee]=Te,Vt[ee]=Ee,this.setPage(ee)}return this},g.deletePage=function(){return Di.apply(this,arguments),this},g.__private__.text=g.text=function(j,ee,Te,Ee,Re){var ft,yt,Kt,ar,Sr,Lr,ln,Vn,oa,kn=(Ee=Ee||{}).scope||this;if(typeof j=="number"&&typeof ee=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Ea=Te;Te=ee,ee=j,j=Ea}if(arguments[3]instanceof De==0?(Kt=arguments[4],ar=arguments[5],An(ln=arguments[3])==="object"&&ln!==null||(typeof Kt=="string"&&(ar=Kt,Kt=null),typeof ln=="string"&&(ar=ln,ln=null),typeof ln=="number"&&(Kt=ln,ln=null),Ee={flags:ln,angle:Kt,align:ar})):(H("The transform parameter of text() with a Matrix value"),oa=Re),isNaN(ee)||isNaN(Te)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return kn;var pa,Va="",ds=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Ms,Fi=kn.internal.scaleFactor;function Hf(cn){return cn=cn.split("	").join(Array(Ee.TabLen||9).join(" ")),Fr(cn,ln)}function Vc(cn){for(var en,Dn=cn.concat(),ca=[],fo=Dn.length;fo--;)typeof(en=Dn.shift())=="string"?ca.push(en):Array.isArray(cn)&&(en.length===1||en[1]===void 0&&en[2]===void 0)?ca.push(en[0]):ca.push([en[0],en[1],en[2]]);return ca}function Jl(cn,en){var Dn;if(typeof cn=="string")Dn=en(cn)[0];else if(Array.isArray(cn)){for(var ca,fo,Us=cn.concat(),tc=[],Wu=Us.length;Wu--;)typeof(ca=Us.shift())=="string"?tc.push(en(ca)[0]):Array.isArray(ca)&&typeof ca[0]=="string"&&(fo=en(ca[0],ca[1],ca[2]),tc.push([fo[0],fo[1],fo[2]]));Dn=tc}return Dn}var ao=!1,Is=!0;if(typeof j=="string")ao=!0;else if(Array.isArray(j)){var Ql=j.concat();yt=[];for(var ml,Ga=Ql.length;Ga--;)(typeof(ml=Ql.shift())!="string"||Array.isArray(ml)&&typeof ml[0]!="string")&&(Is=!1);ao=Is}if(ao===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var pl=Ue/kn.internal.scaleFactor,gl=pl*(ds-1);switch(Ee.baseline){case"bottom":Te-=gl;break;case"top":Te+=pl-gl;break;case"hanging":Te+=pl-2*gl;break;case"middle":Te+=pl/2-gl}if((Lr=Ee.maxWidth||0)>0&&(typeof j=="string"?j=kn.splitTextToSize(j,Lr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(cn,en){return cn.concat(kn.splitTextToSize(en,Lr))},[]))),ft={text:j,x:ee,y:Te,options:Ee,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:ot,activeFontSize:Ue}},mr.publish("preProcessText",ft),j=ft.text,Kt=(Ee=ft.options).angle,oa instanceof De==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,Ee.rotationDirection===0&&(Kt=-Kt),L===C&&(Kt=-Kt);var Gc=Math.cos(Kt),io=Math.sin(Kt);oa=new De(Gc,io,-io,Gc,0,0)}else Kt&&Kt instanceof De&&(oa=Kt);L!==C||oa||(oa=Jt),(Sr=Ee.charSpace||Do)!==void 0&&(Va+=K(V(Sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=Ee.horizontalScale)!==void 0&&(Va+=K(100*Vn)+` Tz
`),Ee.lang;var Jn=-1,Ro=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,qc=kn.internal.getCurrentPageInfo().pageContext;switch(Ro){case 0:case!1:case"fill":Jn=0;break;case 1:case!0:case"stroke":Jn=1;break;case 2:case"fillThenStroke":Jn=2;break;case 3:case"invisible":Jn=3;break;case 4:case"fillAndAddForClipping":Jn=4;break;case 5:case"strokeAndAddPathForClipping":Jn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jn=6;break;case 7:case"addToPathForClipping":Jn=7}var Gu=qc.usedRenderingMode!==void 0?qc.usedRenderingMode:-1;Jn!==-1?Va+=Jn+` Tr
`:Gu!==-1&&(Va+=`0 Tr
`),Jn!==-1&&(qc.usedRenderingMode=Jn),ar=Ee.align||"left";var Qi,Ps=Ue*ds,Mo=kn.internal.pageSize.getWidth(),qu=ot[ut];Sr=Ee.charSpace||Do,Lr=Ee.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Bs=[],xl=function(cn){return kn.getStringUnitWidth(cn,{font:qu,charSpace:Sr,fontSize:Ue,doKerning:!1})*Ue/Fi};if(Object.prototype.toString.call(j)==="[object Array]"){var Oi;yt=Vc(j),ar!=="left"&&(Qi=yt.map(xl));var bi,so=0;if(ar==="right"){ee-=Qi[0],j=[],Ga=yt.length;for(var oo=0;oo<Ga;oo++)oo===0?(bi=zr(ee),Oi=Hr(Te)):(bi=V(so-Qi[oo]),Oi=-Ps),j.push([yt[oo],bi,Oi]),so=Qi[oo]}else if(ar==="center"){ee-=Qi[0]/2,j=[],Ga=yt.length;for(var Io=0;Io<Ga;Io++)Io===0?(bi=zr(ee),Oi=Hr(Te)):(bi=V((so-Qi[Io])/2),Oi=-Ps),j.push([yt[Io],bi,Oi]),so=Qi[Io]}else if(ar==="left"){j=[],Ga=yt.length;for(var Wc=0;Wc<Ga;Wc++)j.push(yt[Wc])}else if(ar==="justify"&&qu.encoding==="Identity-H"){j=[],Ga=yt.length,Lr=Lr!==0?Lr:Mo;for(var $c=0,la=0;la<Ga;la++)if(Oi=la===0?Hr(Te):-Ps,bi=la===0?zr(ee):$c,la<Ga-1){var Vf=V((Lr-Qi[la])/(yt[la].split(" ").length-1)),lo=yt[la].split(" ");j.push([lo[0]+" ",bi,Oi]),$c=0;for(var co=1;co<lo.length;co++){var qa=(xl(lo[co-1]+" "+lo[co])-xl(lo[co]))*Fi+Vf;co==lo.length-1?j.push([lo[co],qa,0]):j.push([lo[co]+" ",qa,0]),$c-=qa}}else j.push([yt[la],bi,Oi]);j.push(["",$c,0])}else{if(ar!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ga=yt.length,Lr=Lr!==0?Lr:Mo,la=0;la<Ga;la++){Oi=la===0?Hr(Te):-Ps,bi=la===0?zr(ee):0;var Po=yt[la].split(" ").length-1,Yc=Po>0?(Lr-Qi[la])/Po:0;la<Ga-1?Bs.push(K(V(Yc))):Bs.push(0),j.push([yt[la],bi,Oi])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Dt)===!0&&(j=Jl(j,function(cn,en,Dn){return[cn.split("").reverse().join(""),en,Dn]})),ft={text:j,x:ee,y:Te,options:Ee,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:ot,activeFontSize:Ue}},mr.publish("postProcessText",ft),j=ft.text,pa=ft.mutex.isHex||!1;var Xc=ot[ut].encoding;Xc!=="WinAnsiEncoding"&&Xc!=="StandardEncoding"||(j=Jl(j,function(cn,en,Dn){return[Hf(cn),en,Dn]})),yt=Vc(j),j=[];for(var Bo,Uo,uo,ec=Array.isArray(yt[0])?1:0,es="",Ho=function(cn,en,Dn){var ca="";return Dn instanceof De?(Dn=typeof Ee.angle=="number"?or(Dn,new De(1,0,0,1,cn,en)):or(new De(1,0,0,1,cn,en),Dn),L===C&&(Dn=or(new De(1,0,0,-1,0,0),Dn)),ca=Dn.join(" ")+` Tm
`):ca=K(cn)+" "+K(en)+` Td
`,ca},ii=0;ii<yt.length;ii++){switch(es="",ec){case 1:uo=(pa?"<":"(")+yt[ii][0]+(pa?">":")"),Bo=parseFloat(yt[ii][1]),Uo=parseFloat(yt[ii][2]);break;case 0:uo=(pa?"<":"(")+yt[ii]+(pa?">":")"),Bo=zr(ee),Uo=Hr(Te)}Bs!==void 0&&Bs[ii]!==void 0&&(es=Bs[ii]+` Tw
`),ii===0?j.push(es+Ho(Bo,Uo,oa)+uo):ec===0?j.push(es+uo):ec===1&&j.push(es+Ho(Bo,Uo,oa)+uo)}j=ec===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var hs=`BT
/`;return hs+=ut+" "+Ue+` Tf
`,hs+=K(Ue*ds)+` TL
`,hs+=Pr+`
`,hs+=Va,hs+=j,he(hs+="ET"),b[ut]=!0,kn};var jo=g.__private__.clip=g.clip=function(j){return he(j==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return jo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return he("n"),this};var Ha=g.__private__.isValidStyle=function(j){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(ee=!0),ee};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(j){return Ha(j)&&(h=j),this};var ql=g.__private__.getStyle=g.getStyle=function(j){var ee=h;switch(j){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=j}return ee},Wl=g.close=function(){return he("h"),this};g.stroke=function(){return he("S"),this},g.fill=function(j){return xi("f",j),this},g.fillEvenOdd=function(j){return xi("f*",j),this},g.fillStroke=function(j){return xi("B",j),this},g.fillStrokeEvenOdd=function(j){return xi("B*",j),this};var xi=function(j,ee){An(ee)==="object"?Pc(ee,j):he(j)},$l=function(j){j===null||L===C&&j===void 0||(j=ql(j),he(j))};function Ic(j,ee,Te,Ee,Re){var ft=new H0(ee||this.boundingBox,Te||this.xStep,Ee||this.yStep,this.gState,Re||this.matrix);ft.stream=this.stream;var yt=j+"$$"+this.cloneIndex+++"$$";return pr(yt,ft),ft}var Pc=function(j,ee){var Te=yr[j.key],Ee=Ut[Te];if(Ee instanceof mf)he("q"),he(Yl(ee)),Ee.gState&&g.setGState(Ee.gState),he(j.matrix.toString()+" cm"),he("/"+Te+" sh"),he("Q");else if(Ee instanceof H0){var Re=new De(1,0,0,-1,0,Oo());j.matrix&&(Re=Re.multiply(j.matrix||Jt),Te=Ic.call(Ee,j.key,j.boundingBox,j.xStep,j.yStep,Re).id),he("q"),he("/Pattern cs"),he("/"+Te+" scn"),Ee.gState&&g.setGState(Ee.gState),he(ee),he("Q")}},Yl=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xl=g.moveTo=function(j,ee){return he(K(V(j))+" "+K(re(ee))+" m"),this},Co=g.lineTo=function(j,ee){return he(K(V(j))+" "+K(re(ee))+" l"),this},Ki=g.curveTo=function(j,ee,Te,Ee,Re,ft){return he([K(V(j)),K(re(ee)),K(V(Te)),K(re(Ee)),K(V(Re)),K(re(ft)),"c"].join(" ")),this};g.__private__.line=g.line=function(j,ee,Te,Ee,Re){if(isNaN(j)||isNaN(ee)||isNaN(Te)||isNaN(Ee)||!Ha(Re))throw new Error("Invalid arguments passed to jsPDF.line");return L===F?this.lines([[Te-j,Ee-ee]],j,ee,[1,1],Re||"S"):this.lines([[Te-j,Ee-ee]],j,ee,[1,1]).stroke()},g.__private__.lines=g.lines=function(j,ee,Te,Ee,Re,ft){var yt,Kt,ar,Sr,Lr,ln,Vn,oa,kn,Ea,pa,Va;if(typeof j=="number"&&(Va=Te,Te=ee,ee=j,j=Va),Ee=Ee||[1,1],ft=ft||!1,isNaN(ee)||isNaN(Te)||!Array.isArray(j)||!Array.isArray(Ee)||!Ha(Re)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xl(ee,Te),yt=Ee[0],Kt=Ee[1],Sr=j.length,Ea=ee,pa=Te,ar=0;ar<Sr;ar++)(Lr=j[ar]).length===2?(Ea=Lr[0]*yt+Ea,pa=Lr[1]*Kt+pa,Co(Ea,pa)):(ln=Lr[0]*yt+Ea,Vn=Lr[1]*Kt+pa,oa=Lr[2]*yt+Ea,kn=Lr[3]*Kt+pa,Ea=Lr[4]*yt+Ea,pa=Lr[5]*Kt+pa,Ki(ln,Vn,oa,kn,Ea,pa));return ft&&Wl(),$l(Re),this},g.path=function(j){for(var ee=0;ee<j.length;ee++){var Te=j[ee],Ee=Te.c;switch(Te.op){case"m":Xl(Ee[0],Ee[1]);break;case"l":Co(Ee[0],Ee[1]);break;case"c":Ki.apply(this,Ee);break;case"h":Wl()}}return this},g.__private__.rect=g.rect=function(j,ee,Te,Ee,Re){if(isNaN(j)||isNaN(ee)||isNaN(Te)||isNaN(Ee)||!Ha(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return L===F&&(Ee=-Ee),he([K(V(j)),K(re(ee)),K(V(Te)),K(V(Ee)),"re"].join(" ")),$l(Re),this},g.__private__.triangle=g.triangle=function(j,ee,Te,Ee,Re,ft,yt){if(isNaN(j)||isNaN(ee)||isNaN(Te)||isNaN(Ee)||isNaN(Re)||isNaN(ft)||!Ha(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-j,Ee-ee],[Re-Te,ft-Ee],[j-Re,ee-ft]],j,ee,[1,1],yt,!0),this},g.__private__.roundedRect=g.roundedRect=function(j,ee,Te,Ee,Re,ft,yt){if(isNaN(j)||isNaN(ee)||isNaN(Te)||isNaN(Ee)||isNaN(Re)||isNaN(ft)||!Ha(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*Te),ft=Math.min(ft,.5*Ee),this.lines([[Te-2*Re,0],[Re*Kt,0,Re,ft-ft*Kt,Re,ft],[0,Ee-2*ft],[0,ft*Kt,-Re*Kt,ft,-Re,ft],[2*Re-Te,0],[-Re*Kt,0,-Re,-ft*Kt,-Re,-ft],[0,2*ft-Ee],[0,-ft*Kt,Re*Kt,-ft,Re,-ft]],j+Re,ee,[1,1],yt,!0),this},g.__private__.ellipse=g.ellipse=function(j,ee,Te,Ee,Re){if(isNaN(j)||isNaN(ee)||isNaN(Te)||isNaN(Ee)||!Ha(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*Te,yt=4/3*(Math.SQRT2-1)*Ee;return Xl(j+Te,ee),Ki(j+Te,ee-yt,j+ft,ee-Ee,j,ee-Ee),Ki(j-ft,ee-Ee,j-Te,ee-yt,j-Te,ee),Ki(j-Te,ee+yt,j-ft,ee+Ee,j,ee+Ee),Ki(j+ft,ee+Ee,j+Te,ee+yt,j+Te,ee),$l(Re),this},g.__private__.circle=g.circle=function(j,ee,Te,Ee){if(isNaN(j)||isNaN(ee)||isNaN(Te)||!Ha(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,ee,Te,Te,Ee)},g.setFont=function(j,ee,Te){return Te&&(ee=U(ee,Te)),ut=Os(j,ee,{disableWarning:!1}),this};var Zi=g.__private__.getFont=g.getFont=function(){return ot[Os.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var j,ee,Te={};for(j in bt)if(bt.hasOwnProperty(j))for(ee in Te[j]=[],bt[j])bt[j].hasOwnProperty(ee)&&Te[j].push(ee);return Te},g.addFont=function(j,ee,Te,Ee,Re){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(Te=U(Te,Ee)),rn.call(this,j,ee,Te,Re=Re||"Identity-H")};var Ms,ko=e.lineWidth||.200025,hr=g.__private__.getLineWidth=g.getLineWidth=function(){return ko},ze=g.__private__.setLineWidth=g.setLineWidth=function(j){return ko=j,he(K(V(j))+" w"),this};g.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(j,ee){if(j=j||[],ee=ee||0,isNaN(ee)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Te){return K(V(Te))}).join(" "),ee=K(V(ee)),he("["+j+"] "+ee+" d"),this};var Nt=g.__private__.getLineHeight=g.getLineHeight=function(){return Ue*Ms};g.__private__.getLineHeight=g.getLineHeight=function(){return Ue*Ms};var Nr=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Ms=j),this},$r=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ms};Nr(e.lineHeight);var zr=g.__private__.getHorizontalCoordinate=function(j){return V(j)},Hr=g.__private__.getVerticalCoordinate=function(j){return L===C?j:Vt[k].mediaBox.topRightY-Vt[k].mediaBox.bottomLeftY-V(j)},ai=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(j){return K(zr(j))},vi=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(j){return K(Hr(j))},Zn=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return be(Zn)},g.__private__.setStrokeColor=g.setDrawColor=function(j,ee,Te,Ee){return Zn=Se({ch1:j,ch2:ee,ch3:Te,ch4:Ee,pdfColorType:"draw",precision:2}),he(Zn),this};var ma=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return be(ma)},g.__private__.setFillColor=g.setFillColor=function(j,ee,Te,Ee){return ma=Se({ch1:j,ch2:ee,ch3:Te,ch4:Ee,pdfColorType:"fill",precision:2}),he(ma),this};var Pr=e.textColor||"0 g",Mn=g.__private__.getTextColor=g.getTextColor=function(){return be(Pr)};g.__private__.setTextColor=g.setTextColor=function(j,ee,Te,Ee){return Pr=Se({ch1:j,ch2:ee,ch3:Te,ch4:Ee,pdfColorType:"text",precision:3}),this};var Do=e.charSpace,Bc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Do||0)};g.__private__.setCharSpace=g.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=j,this};var Uc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(j){var ee=g.CapJoinStyles[j];if(ee===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=ee,he(ee+" J"),this};var Fa=0;g.__private__.setLineJoin=g.setLineJoin=function(j){var ee=g.CapJoinStyles[j];if(ee===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fa=ee,he(ee+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(K(V(j))+" M"),this},g.GState=yp,g.setGState=function(j){(j=typeof j=="string"?tr[Dr[j]]:Ji(null,j)).equals(nr)||(he("/"+j.id+" gs"),nr=j)};var Ji=function(j,ee){if(!j||!Dr[j]){var Te=!1;for(var Ee in tr)if(tr.hasOwnProperty(Ee)&&tr[Ee].equals(ee)){Te=!0;break}if(Te)ee=tr[Ee];else{var Re="GS"+(Object.keys(tr).length+1).toString(10);tr[Re]=ee,ee.id=Re}return j&&(Dr[j]=ee.id),mr.publish("addGState",ee),ee}};g.addGState=function(j,ee){return Ji(j,ee),this},g.saveGraphicsState=function(){return he("q"),Pt.push({key:ut,size:Ue,color:Pr}),this},g.restoreGraphicsState=function(){he("Q");var j=Pt.pop();return ut=j.key,Ue=j.size,Pr=j.color,nr=null,this},g.setCurrentTransformationMatrix=function(j){return he(j.toString()+" cm"),this},g.comment=function(j){return he("#"+j),this};var ro=function(j,ee){var Te=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(ft){isNaN(ft)||(Te=parseFloat(ft))}});var Ee=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(ft){isNaN(ft)||(Ee=parseFloat(ft))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(ft){Re=ft.toString()}}),this},Lo=function(j,ee,Te,Ee){ro.call(this,j,ee),this.type="rect";var Re=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(yt){isNaN(yt)||(Re=parseFloat(yt))}});var ft=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(yt){isNaN(yt)||(ft=parseFloat(yt))}}),this},Hc=function(){this.page=jr,this.currentPage=k,this.pages=Ce.slice(0),this.pagesContext=Vt.slice(0),this.x=Lt,this.y=xr,this.matrix=Fe,this.width=hl(k),this.height=no(k),this.outputDestination=Be,this.id="",this.objectNumber=-1};Hc.prototype.restore=function(){jr=this.page,k=this.currentPage,Vt=this.pagesContext,Ce=this.pages,Lt=this.x,xr=this.y,Fe=this.matrix,Zl(k,this.width),Fo(k,this.height),Be=this.outputDestination};var Kl=function(j,ee,Te,Ee,Re){Yt.push(new Hc),jr=k=0,Ce=[],Lt=j,xr=ee,Fe=Re,fn([Te,Ee])};for(var zo in g.beginFormObject=function(j,ee,Te,Ee,Re){return Kl(j,ee,Te,Ee,Re),this},g.endFormObject=function(j){return(function(ee){if(At[ee])Yt.pop().restore();else{var Te=new Hc,Ee="Xo"+(Object.keys(Xe).length+1).toString(10);Te.id=Ee,At[ee]=Ee,Xe[Ee]=Te,mr.publish("addFormObject",Te),Yt.pop().restore()}})(j),this},g.doFormObject=function(j,ee){var Te=Xe[At[j]];return he("q"),he(ee.toString()+" cm"),he("/"+Te.id+" Do"),he("Q"),this},g.getFormObject=function(j){var ee=Xe[At[j]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},g.save=function(j,ee){return j=j||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(hf(Rs(us()),j),typeof hf.unload=="function"&&kr.setTimeout&&setTimeout(hf.unload,911),this):new Promise(function(Te,Ee){try{var Re=hf(Rs(us()),j);typeof hf.unload=="function"&&kr.setTimeout&&setTimeout(hf.unload,911),Te(Re)}catch(ft){Ee(ft.message)}})},sr.API)sr.API.hasOwnProperty(zo)&&(zo==="events"&&sr.API.events.length?(function(j,ee){var Te,Ee,Re;for(Re=ee.length-1;Re!==-1;Re--)Te=ee[Re][0],Ee=ee[Re][1],j.subscribe.apply(j,[Te].concat(typeof Ee=="function"?[Ee]:Ee))})(mr,sr.API.events):g[zo]=sr.API[zo]);function hl(j){return Vt[j].mediaBox.topRightX-Vt[j].mediaBox.bottomLeftX}function Zl(j,ee){Vt[j].mediaBox.topRightX=ee+Vt[j].mediaBox.bottomLeftX}function no(j){return Vt[j].mediaBox.topRightY-Vt[j].mediaBox.bottomLeftY}function Fo(j,ee){Vt[j].mediaBox.topRightY=ee+Vt[j].mediaBox.bottomLeftY}var Pf=g.getPageWidth=function(j){return hl(j=j||k)/Bt},Bf=g.setPageWidth=function(j,ee){Zl(j,ee*Bt)},Oo=g.getPageHeight=function(j){return no(j=j||k)/Bt},Uf=g.setPageHeight=function(j,ee){Fo(j,ee*Bt)};return g.internal={pdfEscape:Fr,getStyle:ql,getFont:Zi,getFontSize:rt,getCharSpace:Bc,getTextColor:Mn,getLineHeight:Nt,getLineHeightFactor:$r,getLineWidth:hr,write:Ze,getHorizontalCoordinate:zr,getVerticalCoordinate:Hr,getCoordinateString:ai,getVerticalCoordinateString:vi,collections:{},newObject:Tr,newAdditionalObject:we,newObjectDeferred:lr,newObjectDeferredBegin:ne,getFilters:Ie,putStream:et,events:mr,scaleFactor:Bt,pageSize:{getWidth:function(){return Pf(k)},setWidth:function(j){Bf(k,j)},getHeight:function(){return Oo(k)},setHeight:function(j){Uf(k,j)}},encryptionOptions:m,encryption:Hn,getEncryptor:function(j){return m!==null?Hn.encryptor(j,0):function(ee){return ee}},output:zi,getNumberOfPages:ni,pages:Ce,out:he,f2:O,f3:R,getPageInfo:vr,getPageInfoByObjId:Xi,getCurrentPageInfo:Mc,getPDFVersion:w,Point:ro,Rectangle:Lo,Matrix:De,hasHotfix:fs},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Pf(k)},set:function(j){Bf(k,j)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Oo(k)},set:function(j){Uf(k,j)},enumerable:!0,configurable:!0}),(function(j){for(var ee=0,Te=Qe.length;ee<Te;ee++){var Ee=rn.call(this,j[ee][0],j[ee][1],j[ee][2],Qe[ee][3],!0);x===!1&&(b[Ee]=!0);var Re=j[ee][0].split("-");Gt({id:Ee,fontName:Re[0],fontStyle:Re[1]||""})}mr.publish("addFonts",{fonts:ot,dictionary:bt})}).call(g,Qe),ut="F1",sa(a,r),mr.publish("initialized"),g}L0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},L0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},L0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},L0.prototype.processOwnerPassword=function(e,t){return Dv(kv(t).substr(0,5),e)},L0.prototype.encryptor=function(e,t){var r=kv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Dv(r,n)}},yp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||An(e)!==An(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.3";var Sa=sr.API,K5=1,zf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},A0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mr=function(e){return e.toFixed(2)},yu=function(e){return e.toFixed(5)};Sa.__acroform__={};var Fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},US=function(e){return e*K5},zl=function(e){var t=new WT,r=er.internal.getHeight(e)||0,n=er.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Mr(n)),Number(Mr(r))],t},GM=Sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},qM=Sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},WM=Sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ka=Sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WM(e,t-1)},Da=Sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GM(e,t-1)},La=Sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qM(e,t-1)},$M=Sa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],c=e[2],u=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(s+u)||0,d.upperRight_X=r(a+c)||0,d.upperRight_Y=n(s)||0,[Number(Mr(d.lowerLeft_X)),Number(Mr(d.lowerLeft_Y)),Number(Mr(d.upperRight_X)),Number(Mr(d.upperRight_Y))]},YM=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Lv(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Mr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=zl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Lv=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var s=r,c=er.internal.getHeight(e)||0;c=c<0?-c:c;var u=er.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(O,R,V){if(O+1<a.length){var re=R+" "+a[O+1][0];return Lm(re,e,V).width<=u-4}return!1};s++;e:for(;s>0;){t="",s--;var h,m,x=Lm("3",e,s).height,b=e.multiline?c-s:(c-x)/2,g=b+=2,T=0,w=0,_=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Lm(t,e,s=12).width+", FieldWidth:"+u+`
`;break}for(var E="",F=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var L=!1;if(a[C].length!==1&&_!==a[C].length-1){if((x+2)*(F+2)+2>c)continue e;E+=a[C][_],L=!0,w=C,C--}else{E=(E+=a[C][_]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var X=parseInt(C),I=d(X,E,s),U=C>=a.length-1;if(I&&!U){E+=" ",_=0;continue}if(I||U){if(U)w=X;else if(e.multiline&&(x+2)*(F+2)+2>c)continue e}else{if(!e.multiline||(x+2)*(F+2)+2>c)continue e;w=X}}for(var K="",H=T;H<=w;H++){var oe=a[H];if(e.multiline){if(H===w){K+=oe[_]+" ",_=(_+1)%oe.length;continue}if(H===T){K+=oe[oe.length-1]+" ";continue}}K+=oe[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,m=Lm(K,e,s).width,e.textAlign){case"right":h=u-m-2;break;case"center":h=(u-m)/2;break;default:h=2}t+=Mr(h)+" "+Mr(g)+` Td
`,t+="("+zf(K)+`) Tj
`,t+=-Mr(h)+` 0 Td
`,g=-(s+2),m=0,T=L?w:w+1,F++,E=""}break}return n.text=t,n.fontSize=s,n},Lm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},XM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KM=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},ZM=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XM)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $T,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&KM(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],d=[],h=u.Rect;if(u.Rect&&(u.Rect=$M(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=er.createDefaultAppearanceStream(u),An(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=YM(u);d.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var x="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var g=u.appearanceStreamContent[b];if(x+="/"+b+" ",x+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var T=g[c];typeof T=="function"&&(T=T.call(a,u)),x+="/"+c+" "+T+" ",a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T)}}else typeof(T=g)=="function"&&(T=T.call(a,u)),x+="/"+c+" "+T,a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}s&&(function(w,_){for(var E in w)if(w.hasOwnProperty(E)){var F=E,C=w[E];_.internal.newObjectDeferredBegin(C.objId,!0),An(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete w[F]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qT=Sa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),An(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+zf(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T2=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+zf(n(e))+")"},Ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ml.prototype.toString=function(){return this.objId+" 0 R"},Ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:qT(a,this.objId,this.scope)}):a instanceof Ml?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var WT=function(){Ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Fs(WT,Ml);var $T=function(){Ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+zf(r(e))+")"}},set:function(r){e=r}})};Fs($T,Ml);var fl=function e(){Ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ka(t,3)},set:function(E){E?this.F=Da(t,3):this.F=La(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof wp)return;s="FieldObject"+e.FieldNum++}var E=function(F){return F};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+zf(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/K5:h},set:function(E){h=E}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(E){m=E}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof wp||this instanceof Sf))return T2(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=E}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof hi==0?T2(b,this.objId,this.scope):b},set:function(E){E=E.toString(),b=this instanceof hi==0?E.substr(0,1)==="("?A0(E.substr(1,E.length-2)):A0(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?A0(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof hi==1?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof hi==0?T2(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof hi==0?E.substr(0,1)==="("?A0(E.substr(1,E.length-2)):A0(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?A0(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof hi==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(E){E=!!E,w=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(E){T=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,1)},set:function(E){E?this.Ff=Da(this.Ff,1):this.Ff=La(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,2)},set:function(E){E?this.Ff=Da(this.Ff,2):this.Ff=La(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,3)},set:function(E){E?this.Ff=Da(this.Ff,3):this.Ff=La(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');_=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(_){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Fs(fl,Ml);var $0=function(){fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qT(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,c,u){u||(u=1);for(var d,h=[];d=c.exec(s);)h.push(d[u]);return h})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,18)},set:function(r){r?this.Ff=Da(this.Ff,18):this.Ff=La(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Da(this.Ff,19):this.Ff=La(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,20)},set:function(r){r?(this.Ff=Da(this.Ff,20),t.sort()):this.Ff=La(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,22)},set:function(r){r?this.Ff=Da(this.Ff,22):this.Ff=La(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,23)},set:function(r){r?this.Ff=Da(this.Ff,23):this.Ff=La(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,27)},set:function(r){r?this.Ff=Da(this.Ff,27):this.Ff=La(this.Ff,27)}}),this.hasAppearanceStream=!1};Fs($0,fl);var Y0=function(){$0.call(this),this.fontName="helvetica",this.combo=!1};Fs(Y0,$0);var X0=function(){Y0.call(this),this.combo=!0};Fs(X0,Y0);var Zm=function(){X0.call(this),this.edit=!0};Fs(Zm,X0);var hi=function(){fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,15)},set:function(r){r?this.Ff=Da(this.Ff,15):this.Ff=La(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,16)},set:function(r){r?this.Ff=Da(this.Ff,16):this.Ff=La(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,17)},set:function(r){r?this.Ff=Da(this.Ff,17):this.Ff=La(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,26)},set:function(r){r?this.Ff=Da(this.Ff,26):this.Ff=La(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+zf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){An(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Fs(hi,fl);var Jm=function(){hi.call(this),this.pushButton=!0};Fs(Jm,hi);var K0=function(){hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fs(K0,hi);var wp=function(){var e,t;fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),n)c.push("/"+s+" ("+zf(a(n[s]))+")");return c.push(">>"),c.join(`
`)},set:function(a){An(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=er.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fs(wp,fl),K0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},K0.prototype.createOption=function(e){var t=new wp;return t.Parent=this,t.optionName=e,this.Kids.push(t),JM.call(this.scope,t),t};var Qm=function(){hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=er.CheckBox.createAppearanceStream()};Fs(Qm,hi);var Sf=function(){fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,13)},set:function(t){t?this.Ff=Da(this.Ff,13):this.Ff=La(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,21)},set:function(t){t?this.Ff=Da(this.Ff,21):this.Ff=La(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,23)},set:function(t){t?this.Ff=Da(this.Ff,23):this.Ff=La(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,24)},set:function(t){t?this.Ff=Da(this.Ff,24):this.Ff=La(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,25)},set:function(t){t?this.Ff=Da(this.Ff,25):this.Ff=La(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,26)},set:function(t){t?this.Ff=Da(this.Ff,26):this.Ff=La(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fs(Sf,fl);var ep=function(){Sf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ka(this.Ff,14)},set:function(e){e?this.Ff=Da(this.Ff,14):this.Ff=La(this.Ff,14)}}),this.password=!0};Fs(ep,Sf);var er={CheckBox:{createAppearanceStream:function(){return{N:{On:er.CheckBox.YesNormal},D:{On:er.CheckBox.YesPushDown,Off:er.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Lv(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Mr(er.internal.getWidth(e))+" "+Mr(er.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Mr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=zl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=er.internal.getHeight(e),c=er.internal.getWidth(e),u=Lv(e,e.caption);return a.push("1 g"),a.push("0 0 "+Mr(c)+" "+Mr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Mr(c-1)+" "+Mr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Mr(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mr(er.internal.getWidth(e))+" "+Mr(er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:er.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=er.RadioButton.Circle.YesNormal,t.D[e]=er.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=zl(e);t.scope=e.scope;var r=[],n=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=er.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yu(er.internal.getWidth(e)/2)+" "+yu(er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=[],n=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*er.internal.Bezier_C).toFixed(5)),c=Number((n*er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yu(er.internal.getWidth(e)/2)+" "+yu(er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yu(er.internal.getWidth(e)/2)+" "+yu(er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=[],n=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yu(er.internal.getWidth(e)/2)+" "+yu(er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:er.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=er.RadioButton.Cross.YesNormal,t.D[e]=er.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=zl(e);t.scope=e.scope;var r=[],n=er.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Mr(er.internal.getWidth(e)-2)+" "+Mr(er.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Mr(n.x1.x)+" "+Mr(n.x1.y)+" m"),r.push(Mr(n.x2.x)+" "+Mr(n.x2.y)+" l"),r.push(Mr(n.x4.x)+" "+Mr(n.x4.y)+" m"),r.push(Mr(n.x3.x)+" "+Mr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=er.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Mr(er.internal.getWidth(e))+" "+Mr(er.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Mr(er.internal.getWidth(e)-2)+" "+Mr(er.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Mr(r.x1.x)+" "+Mr(r.x1.y)+" m"),n.push(Mr(r.x2.x)+" "+Mr(r.x2.y)+" l"),n.push(Mr(r.x4.x)+" "+Mr(r.x4.y)+" m"),n.push(Mr(r.x3.x)+" "+Mr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=zl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mr(er.internal.getWidth(e))+" "+Mr(er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};er.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=er.internal.getWidth(e),r=er.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},er.internal.getWidth=function(e){var t=0;return An(e)==="object"&&(t=US(e.Rect[2])),t},er.internal.getHeight=function(e){var t=0;return An(e)==="object"&&(t=US(e.Rect[3])),t};var JM=Sa.addField=function(e){if(ZM(this,e),!(e instanceof fl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Sa.AcroFormChoiceField=$0,Sa.AcroFormListBox=Y0,Sa.AcroFormComboBox=X0,Sa.AcroFormEditBox=Zm,Sa.AcroFormButton=hi,Sa.AcroFormPushButton=Jm,Sa.AcroFormRadioButton=K0,Sa.AcroFormCheckBox=Qm,Sa.AcroFormTextField=Sf,Sa.AcroFormPasswordField=ep,Sa.AcroFormAppearance=er,Sa.AcroForm={ChoiceField:$0,ListBox:Y0,ComboBox:X0,EditBox:Zm,Button:hi,PushButton:Jm,RadioButton:K0,CheckBox:Qm,TextField:Sf,PasswordField:ep,Appearance:er},sr.AcroForm={ChoiceField:$0,ListBox:Y0,ComboBox:X0,EditBox:Zm,Button:hi,PushButton:Jm,RadioButton:K0,CheckBox:Qm,TextField:Sf,PasswordField:ep,Appearance:er};sr.AcroForm;function YT(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(O,R){var V,re,le,Z,ie,J=r;if((R=R||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(I(O))for(ie in n)for(le=n[ie],V=0;V<le.length;V+=1){for(Z=!0,re=0;re<le[V].length;re+=1)if(le[V][re]!==void 0&&le[V][re]!==O[re]){Z=!1;break}if(Z===!0){J=ie;break}}else for(ie in n)for(le=n[ie],V=0;V<le.length;V+=1){for(Z=!0,re=0;re<le[V].length;re+=1)if(le[V][re]!==void 0&&le[V][re]!==O.charCodeAt(re)){Z=!1;break}if(Z===!0){J=ie;break}}return J===r&&R!==r&&(J=R),J},s=function O(R){for(var V=this.internal.write,re=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:R.width}),Z.push({key:"Height",value:R.height}),R.colorSpace===E.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===E.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var ie="",J=0,Y=R.transparency.length;J<Y;J++)ie+=R.transparency[J]+" "+R.transparency[J]+" ";Z.push({key:"Mask",value:"["+ie+"]"})}R.sMask!==void 0&&Z.push({key:"SMask",value:R.objectId+1+" 0 R"});var se=R.filter!==void 0?["/"+R.filter]:void 0;if(re({data:R.data,additionalKeyValues:Z,alreadyAppliedFilters:se,objectId:R.objectId}),V("endobj"),"sMask"in R&&R.sMask!==void 0){var P,N=(P=R.sMaskBitsPerComponent)!==null&&P!==void 0?P:R.bitsPerComponent,k={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:R.sMask};"filter"in R&&(k.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(R.width),k.filter=R.filter),O.call(this,k)}if(R.colorSpace===E.INDEXED){var D=this.internal.newObject();re({data:K(new Uint8Array(R.palette)),objectId:D}),V("endobj")}},c=function(){var O=this.internal.collections[t+"images"];for(var R in O)s.call(this,O[R])},u=function(){var O,R=this.internal.collections[t+"images"],V=this.internal.write;for(var re in R)V("/I"+(O=R[re]).index,O.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var O=this.internal.collections[t+"images"];return d.call(this),O},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},x=function(O){return typeof e["process"+O.toUpperCase()]=="function"},b=function(O){return An(O)==="object"&&O.nodeType===1},g=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var V=""+O.getAttribute("src");if(V.indexOf("data:image/")===0)return Km(unescape(V).split("base64,").pop());var re=e.loadFile(V,!0);if(re!==void 0)return re}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var le;switch(R){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return Km(O.toDataURL(le,1).split("base64,").pop())}},T=function(O){var R=this.internal.collections[t+"images"];if(R){for(var V in R)if(O===R[V].alias)return R[V]}},w=function(O,R,V){return O||R||(O=-96,R=-96),O<0&&(O=-1*V.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*V.height*72/R/this.internal.scaleFactor),O===0&&(O=R*V.width/V.height),R===0&&(R=O*V.height/V.width),[O,R]},_=function(O,R,V,re,le,Z){var ie=w.call(this,V,re,le),J=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,se=h.call(this);if(V=ie[0],re=ie[1],se[le.index]=le,Z){Z*=Math.PI/180;var P=Math.cos(Z),N=Math.sin(Z),k=function(M){return M.toFixed(4)},D=[k(P),k(N),k(-1*N),k(P),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,J(O),Y(R+re),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([J(V),"0","0",J(re),"0","0","cm"].join(" "))):this.internal.write([J(V),"0","0",J(re),J(O),Y(R+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},E=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(O){var R,V,re=0;if(typeof O=="string")for(V=O.length,R=0;R<V;R++)re=(re<<5)-re+O.charCodeAt(R),re|=0;else if(I(O))for(V=O.byteLength/2,R=0;R<V;R++)re=(re<<5)-re+O[R],re|=0;return re},L=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},X=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var R=O.indexOf(",");return R<0?null:O.substring(0,R).trim().endsWith("base64")?O.substring(R+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,V=new Uint8Array(R),re=0;re<R;re++)V[re]=O.charCodeAt(re);return V},K=e.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",V=I(O)?O:new Uint8Array(O),re=0;re<V.length;re+=8192)R+=String.fromCharCode.apply(null,V.subarray(re,re+8192));return R};e.addImage=function(){var O,R,V,re,le,Z,ie,J,Y;if(typeof arguments[1]=="number"?(R=r,V=arguments[1],re=arguments[2],le=arguments[3],Z=arguments[4],ie=arguments[5],J=arguments[6],Y=arguments[7]):(R=arguments[1],V=arguments[2],re=arguments[3],le=arguments[4],Z=arguments[5],ie=arguments[6],J=arguments[7],Y=arguments[8]),An(O=arguments[0])==="object"&&!b(O)&&"imageData"in O){var se=O;O=se.imageData,R=se.format||R||r,V=se.x||V||0,re=se.y||re||0,le=se.w||se.width||le,Z=se.h||se.height||Z,ie=se.alias||ie,J=se.compression||J,Y=se.rotation||se.angle||Y}var P=this.internal.getFilters();if(J===void 0&&P.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(V)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var N=H.call(this,O,R,ie,J);return _.call(this,V,re,le,Z,N,Y),this};var H=function(O,R,V,re){var le,Z,ie;if(typeof O=="string"&&a(O)===r){O=unescape(O);var J=oe(O,!1);(J!==""||(J=e.loadFile(O,!0))!==void 0)&&(O=J)}if(b(O)&&(O=g(O,R)),R=a(O,R),!x(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ie=V)==null||ie.length===0)&&(V=(function(Y){return typeof Y=="string"||I(Y)?C(Y):I(Y.data)?C(Y.data):null})(O)),(le=T.call(this,V))||(O instanceof Uint8Array||R==="RGBA"||(Z=O,O=U(O)),le=this["process"+R.toUpperCase()](O,m.call(this),V,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:F.NONE})(re),Z)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},oe=e.__addimage__.convertBase64ToBinaryString=function(O,R){R=typeof R!="boolean"||R;var V,re="";if(typeof O=="string"){var le;V=(le=X(O))!==null&&le!==void 0?le:O;try{re=Km(V)}catch(Z){if(R)throw L(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};e.getImageProperties=function(O){var R,V,re="";if(b(O)&&(O=g(O)),typeof O=="string"&&a(O)===r&&((re=oe(O,!1))===""&&(re=e.loadFile(O)||""),O=re),V=a(O),!x(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(O instanceof Uint8Array||(O=U(O)),!(R=this["process"+V.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=V,R}})(sr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,m=!1,x=0;x<h.length&&!m;x++)switch((n=h[x]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){n=h[b];var g=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(w.objId),F=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+g(E(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+g(E(F))+") >>",w.content=s;var C=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(T(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(T(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var I=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+a),h:h(n+s)},options:c,type:"link"})},e.textWithLink=function(r,n,a,s){var c,u,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var m=this.splitTextToSize(r,u).length;c=Math.ceil(h*m)}else u=d,c=h;return this.text(r,n,a,s),a+=.2*h,s.align==="center"&&(n-=d/2),s.align==="right"&&(n-=d),this.link(n,a-h,u,c,s),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(sr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},u=e.__arabicParser__.isArabicEndLetter=function(w){return c(w)&&s(w)&&t[w.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(w){return c(w)&&a.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return c(w)&&s(w)&&t[w.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return c(w)&&s(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return c(w)&&s(w)&&t[w.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return c(w)&&s(w)&&t[w.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(w){var _=0,E=r,F="",C=0;for(_=0;_<w.length;_+=1)E[w.charCodeAt(_)]!==void 0?(C++,typeof(E=E[w.charCodeAt(_)])=="number"&&(F+=String.fromCharCode(E),E=r,C=0),_===w.length-1&&(E=r,F+=w.charAt(_-(C-1)),_-=C-1,C=0)):(E=r,F+=w.charAt(_-C),_-=C,C=0);return F};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(w,_,E){return c(w)?s(w)===!1?-1:!h(w)||!c(_)&&!c(E)||!c(E)&&u(_)||u(w)&&!c(_)||u(w)&&d(_)||u(w)&&u(_)?0:m(w)&&c(_)&&!u(_)&&c(E)&&h(E)?3:u(w)||!c(E)?1:2:-1},g=function(w){var _=0,E=0,F=0,C="",L="",X="",I=(w=w||"").split("\\s+"),U=[];for(_=0;_<I.length;_+=1){for(U.push(""),E=0;E<I[_].length;E+=1)C=I[_][E],L=I[_][E-1],X=I[_][E+1],c(C)?(F=b(C,L,X),U[_]+=F!==-1?String.fromCharCode(t[C.charCodeAt(0)][F]):C):U[_]+=C;U[_]=x(U[_])}return U.join(" ")},T=e.__arabicParser__.processArabic=e.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(_)){var F=0;for(E=[],F=0;F<_.length;F+=1)Array.isArray(_[F])?E.push([g(_[F][0]),_[F][1],_[F][2]]):E.push([g(_[F])]);w=E}else w=g(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",T])})(sr.API),sr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(sr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(w){b=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(w){T=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,h){n.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),x=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,g=0,T=0,w=0,_=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=h.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(C,L){return C.concat(_.splitTextToSize(L,E))},[])):d=Array.isArray(d)?d:[d];for(var F=0;F<d.length;F++)g<(w=this.getStringUnitWidth(d[F],{font:x})*m)&&(g=w);return g!==0&&(T=d.length),{w:g/=b,h:Math.max((T*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,g&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};e.table=function(d,h,m,x,b){if(n.call(this),!m)throw new Error("No data for PDF table.");var g,T,w,_,E=[],F=[],C=[],L={},X={},I=[],U=[],K=(b=b||{}).autoSize||!1,H=b.printHeaders!==!1,oe=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,O=b.margins||Object.assign({width:this.getPageWidth()},t),R=typeof b.padding=="number"?b.padding:3,V=b.headerBackgroundColor||"#c8c8c8",re=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=re,this.setFontSize(oe),x==null)F=E=Object.keys(m[0]),C=E.map(function(){return"left"});else if(Array.isArray(x)&&An(x[0])==="object")for(E=x.map(function(se){return se.name}),F=x.map(function(se){return se.prompt||se.name||""}),C=x.map(function(se){return se.align||"left"}),g=0;g<x.length;g+=1)X[x[g].name]=.7499990551181103*x[g].width;else Array.isArray(x)&&typeof x[0]=="string"&&(F=E=x,C=E.map(function(){return"left"}));if(K||Array.isArray(x)&&typeof x[0]=="string")for(g=0;g<E.length;g+=1){for(L[_=E[g]]=m.map(function(se){return se[_]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(F[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=L[_],this.setFont(void 0,"normal"),w=0;w<T.length;w+=1)I.push(this.getTextDimensions(T[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[_]=Math.max.apply(null,I)+R+R,I=[]}if(H){var le={};for(g=0;g<E.length;g+=1)le[E[g]]={},le[E[g]].text=F[g],le[E[g]].align=C[g];var Z=u.call(this,le,X);U=E.map(function(se){return new s(d,h,X[se],Z,le[se].text,void 0,le[se].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ie=x.reduce(function(se,P){return se[P.name]=P.align,se},{});for(g=0;g<m.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:m[g]},this);var J=u.call(this,m[g],X);for(w=0;w<E.length;w+=1){var Y=m[g][E[w]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:w,data:Y},this),c.call(this,new s(d,h,X[E[w]],J,Y,g+2,ie[E[w]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var u=function(d,h){var m=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(g){var T=d[g];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,h[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*x/b+m+m},this).reduce(function(g,T){return Math.max(g,T)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=d;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(T)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}})(sr.API);var XT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zv=YT(KT),ZT=[100,200,300,400,500,600,700,800,900],QM=YT(ZT);function A2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return XT[s=s||"normal"]?s:"normal"})(e.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),a=(function(s){return typeof zv[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function HS(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var eI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function qS(e){return e.trimLeft()}function tI(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function rI(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var zm,WS,$S,E0,Fm,YS,XS,KS,E2=["times"];function ZS(e,t,r,n,a){var s=4,c=QS;switch(a){case sr.API.image_compression.FAST:s=1,c=JS;break;case sr.API.image_compression.MEDIUM:s=6,c=eN;break;case sr.API.image_compression.SLOW:s=9,c=tN}e=(function(d,h,m,x){for(var b,g=d.length/h,T=new Uint8Array(d.length+g),w=[nI,JS,QS,eN,tN],_=0;_<g;_+=1){var E=_*h,F=d.subarray(E,E+h);if(x)T.set(x(F,m,b),E+_);else{for(var C=w.length,L=[],X=0;X<C;X+=1)L[X]=w[X](F,m,b);var I=iI(L.concat());T.set(L[I],E+_)}b=F}return T})(e,t,Math.ceil(r*n/8),c);var u=Av(e,{level:s});return sr.API.__addimage__.arrayBufferToBinaryString(u)}function nI(e){var t=Array.apply([],e);return t.unshift(0),t}function JS(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function QS(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var c=r&&r[s]||0;a[s+1]=e[s]-c+256&255}return a}function eN(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var c=e[s-t]||0,u=r&&r[s]||0;a[s+1]=e[s]+256-(c+u>>>1)&255}return a}function tN(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var c=aI(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-c+256&255}return a}function aI(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function iI(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function j2(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),c=(1<<r)-1;return JT(e,a)>>s&c}function rN(e,t,r,n){var a=r*n,s=Math.floor(a/8),c=16-(a-8*s+n),u=(1<<n)-1,d=(t&u)<<c;(function(h,m,x){if(m+1<h.byteLength)h.setUint16(m,x,!1);else{var b=x>>8&255;h.setUint8(m,b)}})(e,s,JT(e,s)&~(u<<c)&65535|d)}function JT(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function sI(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,c=1<<1+(7&a);e[t++],e[t++];var u=null,d=null;s&&(u=t,d=c,t+=3*c);var h=!0,m=[],x=0,b=null,g=0,T=null;for(this.width=r,this.height=n;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,T=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];x=e[t++]|e[t++]<<8,b=e[t++],1&w||(b=null),g=w>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,L=e[t++],X=L>>6&1,I=1<<1+(7&L),U=u,K=d,H=!1;L>>7&&(H=!0,U=t,K=I,t+=3*I);var oe=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}m.push({x:_,y:E,width:F,height:C,has_local_palette:H,palette_offset:U,palette_size:K,data_offset:oe,data_length:t-oe,transparent_index:b,interlaced:!!X,delay:x,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return T},this.frameInfo=function(R){if(R<0||R>=m.length)throw new Error("Frame index out of range.");return m[R]},this.decodeAndBlitFrameBGRA=function(R,V){var re=this.frameInfo(R),le=re.width*re.height,Z=new Uint8Array(le);nN(e,re.data_offset,Z,le);var ie=re.palette_offset,J=re.transparent_index;J===null&&(J=256);var Y=re.width,se=r-Y,P=Y,N=4*(re.y*r+re.x),k=4*((re.y+re.height)*r+re.x),D=N,M=4*se;re.interlaced===!0&&(M+=4*r*7);for(var q=8,Q=0,me=Z.length;Q<me;++Q){var de=Z[Q];if(P===0&&(P=Y,(D+=M)>=k&&(M=4*se+4*r*(q-1),D=N+(Y+se)*(q<<1),q>>=1)),de===J)D+=4;else{var ye=e[ie+3*de],Ce=e[ie+3*de+1],Ve=e[ie+3*de+2];V[D++]=Ve,V[D++]=Ce,V[D++]=ye,V[D++]=255}--P}},this.decodeAndBlitFrameRGBA=function(R,V){var re=this.frameInfo(R),le=re.width*re.height,Z=new Uint8Array(le);nN(e,re.data_offset,Z,le);var ie=re.palette_offset,J=re.transparent_index;J===null&&(J=256);var Y=re.width,se=r-Y,P=Y,N=4*(re.y*r+re.x),k=4*((re.y+re.height)*r+re.x),D=N,M=4*se;re.interlaced===!0&&(M+=4*r*7);for(var q=8,Q=0,me=Z.length;Q<me;++Q){var de=Z[Q];if(P===0&&(P=Y,(D+=M)>=k&&(M=4*se+4*r*(q-1),D=N+(Y+se)*(q<<1),q>>=1)),de===J)D+=4;else{var ye=e[ie+3*de],Ce=e[ie+3*de+1],Ve=e[ie+3*de+2];V[D++]=ye,V[D++]=Ce,V[D++]=Ve,V[D++]=255}--P}}}function nN(e,t,r,n){for(var a=e[t++],s=1<<a,c=s+1,u=c+1,d=a+1,h=(1<<d)-1,m=0,x=0,b=0,g=e[t++],T=new Int32Array(4096),w=null;;){for(;m<16&&g!==0;)x|=e[t++]<<m,m+=8,g===1?g=e[t++]:--g;if(m<d)break;var _=x&h;if(x>>=d,m-=d,_!==s){if(_===c)break;for(var E=_<u?_:w,F=0,C=E;C>s;)C=T[C]>>8,++F;var L=C;if(b+F+(E!==_?1:0)>n)return void Un.log("Warning, gif stream longer than expected.");r[b++]=L;var X=b+=F;for(E!==_&&(r[b++]=L),C=E;F--;)C=T[C],r[--X]=255&C,C>>=8;w!==null&&u<4096&&(T[u++]=w<<8|L,u>=h+1&&d<12&&(++d,h=h<<1|1)),w=_}else u=c+1,h=(1<<(d=a+1))-1,w=null}return b!==n&&Un.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function C2(e){var t,r,n,a,s,c=Math.floor,u=new Array(64),d=new Array(64),h=new Array(64),m=new Array(64),x=new Array(65535),b=new Array(65535),g=new Array(64),T=new Array(64),w=[],_=0,E=7,F=new Array(64),C=new Array(64),L=new Array(64),X=new Array(256),I=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(N,k){for(var D=0,M=0,q=new Array,Q=1;Q<=16;Q++){for(var me=1;me<=N[Q];me++)q[k[M]]=[],q[k[M]][0]=D,q[k[M]][1]=Q,M++,D++;D*=2}return q}function ie(N){for(var k=N[0],D=N[1]-1;D>=0;)k&1<<D&&(_|=1<<E),D--,--E<0&&(_==255?(J(255),J(0)):J(_),E=7,_=0)}function J(N){w.push(N)}function Y(N){J(N>>8&255),J(255&N)}function se(N,k,D,M,q){for(var Q,me=q[0],de=q[240],ye=(function(Ue,ct){var rt,Dt,jt,Ft,it,Ct,pt,vt,ut,Bt,Lt=0;for(ut=0;ut<8;++ut){rt=Ue[Lt],Dt=Ue[Lt+1],jt=Ue[Lt+2],Ft=Ue[Lt+3],it=Ue[Lt+4],Ct=Ue[Lt+5],pt=Ue[Lt+6];var xr=rt+(vt=Ue[Lt+7]),Fe=rt-vt,ot=Dt+pt,bt=Dt-pt,Pt=jt+Ct,Ut=jt-Ct,yr=Ft+it,tr=Ft-it,Dr=xr+yr,nr=xr-yr,jr=ot+Pt,Vt=ot-Pt;Ue[Lt]=Dr+jr,Ue[Lt+4]=Dr-jr;var mr=.707106781*(Vt+nr);Ue[Lt+2]=nr+mr,Ue[Lt+6]=nr-mr;var Cn=.382683433*((Dr=tr+Ut)-(Vt=bt+Fe)),Xe=.5411961*Dr+Cn,At=1.306562965*Vt+Cn,Yt=.707106781*(jr=Ut+bt),De=Fe+Yt,or=Fe-Yt;Ue[Lt+5]=or+Xe,Ue[Lt+3]=or-Xe,Ue[Lt+1]=De+At,Ue[Lt+7]=De-At,Lt+=8}for(Lt=0,ut=0;ut<8;++ut){rt=Ue[Lt],Dt=Ue[Lt+8],jt=Ue[Lt+16],Ft=Ue[Lt+24],it=Ue[Lt+32],Ct=Ue[Lt+40],pt=Ue[Lt+48];var Jt=rt+(vt=Ue[Lt+56]),pr=rt-vt,rr=Dt+pt,Tr=Dt-pt,lr=jt+Ct,ne=jt-Ct,we=Ft+it,pe=Ft-it,xe=Jt+we,be=Jt-we,Se=rr+lr,Ie=rr-lr;Ue[Lt]=xe+Se,Ue[Lt+32]=xe-Se;var et=.707106781*(Ie+be);Ue[Lt+16]=be+et,Ue[Lt+48]=be-et;var Ge=.382683433*((xe=pe+ne)-(Ie=Tr+pr)),qe=.5411961*xe+Ge,We=1.306562965*Ie+Ge,St=.707106781*(Se=ne+Tr),Et=pr+St,It=pr-St;Ue[Lt+40]=It+qe,Ue[Lt+24]=It-qe,Ue[Lt+8]=Et+We,Ue[Lt+56]=Et-We,Lt++}for(ut=0;ut<64;++ut)Bt=Ue[ut]*ct[ut],g[ut]=Bt>0?Bt+.5|0:Bt-.5|0;return g})(N,k),Ce=0;Ce<64;++Ce)T[U[Ce]]=ye[Ce];var Ve=T[0]-D;D=T[0],Ve==0?ie(M[0]):(ie(M[b[Q=32767+Ve]]),ie(x[Q]));for(var Be=63;Be>0&&T[Be]==0;)Be--;if(Be==0)return ie(me),D;for(var ae,he=1;he<=Be;){for(var Ze=he;T[he]==0&&he<=Be;)++he;var Oe=he-Ze;if(Oe>=16){ae=Oe>>4;for(var Qe=1;Qe<=ae;++Qe)ie(de);Oe&=15}Q=32767+T[he],ie(q[(Oe<<4)+b[Q]]),ie(x[Q]),he++}return Be!=63&&ie(me),D}function P(N){N=Math.min(Math.max(N,1),100),s!=N&&((function(k){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var q=c((D[M]*k+50)/100);q=Math.min(Math.max(q,1),255),u[U[M]]=q}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var de=c((Q[me]*k+50)/100);de=Math.min(Math.max(de,1),255),d[U[me]]=de}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Ve=0;Ve<8;Ve++)for(var Be=0;Be<8;Be++)h[Ce]=1/(u[U[Ce]]*ye[Ve]*ye[Be]*8),m[Ce]=1/(d[U[Ce]]*ye[Ve]*ye[Be]*8),Ce++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,k){k&&P(k),w=new Array,_=0,E=7,Y(65496),Y(65504),Y(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),Y(1),Y(1),J(0),J(0),(function(){Y(65499),Y(132),J(0);for(var Dt=0;Dt<64;Dt++)J(u[Dt]);J(1);for(var jt=0;jt<64;jt++)J(d[jt])})(),(function(Dt,jt){Y(65472),Y(17),J(8),Y(jt),Y(Dt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(N.width,N.height),(function(){Y(65476),Y(418),J(0);for(var Dt=0;Dt<16;Dt++)J(K[Dt+1]);for(var jt=0;jt<=11;jt++)J(H[jt]);J(16);for(var Ft=0;Ft<16;Ft++)J(oe[Ft+1]);for(var it=0;it<=161;it++)J(O[it]);J(1);for(var Ct=0;Ct<16;Ct++)J(R[Ct+1]);for(var pt=0;pt<=11;pt++)J(V[pt]);J(17);for(var vt=0;vt<16;vt++)J(re[vt+1]);for(var ut=0;ut<=161;ut++)J(le[ut])})(),Y(65498),Y(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var D=0,M=0,q=0;_=0,E=7,this.encode.displayName="_encode_";for(var Q,me,de,ye,Ce,Ve,Be,ae,he,Ze=N.data,Oe=N.width,Qe=N.height,Ue=4*Oe,ct=0;ct<Qe;){for(Q=0;Q<Ue;){for(Ce=Ue*ct+Q,Be=-1,ae=0,he=0;he<64;he++)Ve=Ce+(ae=he>>3)*Ue+(Be=4*(7&he)),ct+ae>=Qe&&(Ve-=Ue*(ct+1+ae-Qe)),Q+Be>=Ue&&(Ve-=Q+Be-Ue+4),me=Ze[Ve++],de=Ze[Ve++],ye=Ze[Ve++],F[he]=(I[me]+I[de+256|0]+I[ye+512|0]>>16)-128,C[he]=(I[me+768|0]+I[de+1024|0]+I[ye+1280|0]>>16)-128,L[he]=(I[me+1280|0]+I[de+1536|0]+I[ye+1792|0]>>16)-128;D=se(F,h,D,t,n),M=se(C,m,M,r,a),q=se(L,m,q,r,a),Q+=32}ct+=8}if(E>=0){var rt=[];rt[1]=E+1,rt[0]=(1<<E+1)-1,ie(rt)}return Y(65497),new Uint8Array(w)},e=e||50,(function(){for(var N=String.fromCharCode,k=0;k<256;k++)X[k]=N(k)})(),t=Z(K,H),r=Z(R,V),n=Z(oe,O),a=Z(re,le),(function(){for(var N=1,k=2,D=1;D<=15;D++){for(var M=N;M<k;M++)b[32767+M]=D,x[32767+M]=[],x[32767+M][1]=D,x[32767+M][0]=M;for(var q=-(k-1);q<=-N;q++)b[32767+q]=D,x[32767+q]=[],x[32767+q][1]=D,x[32767+q][0]=k-1+q;N<<=1,k<<=1}})(),(function(){for(var N=0;N<256;N++)I[N]=19595*N,I[N+256|0]=38470*N,I[N+512|0]=7471*N+32768,I[N+768|0]=-11059*N,I[N+1024|0]=-21709*N,I[N+1280|0]=32768*N+8421375,I[N+1536|0]=-27439*N,I[N+1792|0]=-5329*N})(),P(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Jo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aN(e){function t(H){if(!H)throw Error("assert :P")}function r(H,oe,O){for(var R=0;4>R;R++)if(H[oe+R]!=O.charCodeAt(R))return!0;return!1}function n(H,oe,O,R,V){for(var re=0;re<V;re++)H[oe+re]=O[R+re]}function a(H,oe,O,R){for(var V=0;V<R;V++)H[oe+V]=O}function s(H){return new Int32Array(H)}function c(H,oe){for(var O=[],R=0;R<H;R++)O.push(new oe);return O}function u(H,oe){var O=[];return(function R(V,re,le){for(var Z=le[re],ie=0;ie<Z&&(V.push(le.length>re+1?[]:new oe),!(le.length<re+1));ie++)R(V[ie],re+1,le)})(O,0,H),O}var d=function(){var H=this;function oe(v,S){for(var z=1<<S-1>>>0;v&z;)z>>>=1;return z?(v&z-1)+z:v}function O(v,S,z,B,te){t(!(B%z));do v[S+(B-=z)]=te;while(0<B)}function R(v,S,z,B,te){if(t(2328>=te),512>=te)var ce=s(512);else if((ce=s(te))==null)return 0;return(function(ue,ge,ve,_e,je,$e){var Ne,Le,Pe=ge,at=1<<ve,He=s(16),nt=s(16);for(t(je!=0),t(_e!=null),t(ue!=null),t(0<ve),Le=0;Le<je;++Le){if(15<_e[Le])return 0;++He[_e[Le]]}if(He[0]==je)return 0;for(nt[1]=0,Ne=1;15>Ne;++Ne){if(He[Ne]>1<<Ne)return 0;nt[Ne+1]=nt[Ne]+He[Ne]}for(Le=0;Le<je;++Le)Ne=_e[Le],0<_e[Le]&&($e[nt[Ne]++]=Le);if(nt[15]==1)return(_e=new V).g=0,_e.value=$e[0],O(ue,Pe,1,at,_e),at;var dt,Tt=-1,xt=at-1,Qt=0,qt=1,Cr=1,Xt=1<<ve;for(Le=0,Ne=1,je=2;Ne<=ve;++Ne,je<<=1){if(qt+=Cr<<=1,0>(Cr-=He[Ne]))return 0;for(;0<He[Ne];--He[Ne])(_e=new V).g=Ne,_e.value=$e[Le++],O(ue,Pe+Qt,je,Xt,_e),Qt=oe(Qt,Ne)}for(Ne=ve+1,je=2;15>=Ne;++Ne,je<<=1){if(qt+=Cr<<=1,0>(Cr-=He[Ne]))return 0;for(;0<He[Ne];--He[Ne]){if(_e=new V,(Qt&xt)!=Tt){for(Pe+=Xt,dt=1<<(Tt=Ne)-ve;15>Tt&&!(0>=(dt-=He[Tt]));)++Tt,dt<<=1;at+=Xt=1<<(dt=Tt-ve),ue[ge+(Tt=Qt&xt)].g=dt+ve,ue[ge+Tt].value=Pe-ge-Tt}_e.g=Ne-ve,_e.value=$e[Le++],O(ue,Pe+(Qt>>ve),je,Xt,_e),Qt=oe(Qt,Ne)}}return qt!=2*nt[15]-1?0:at})(v,S,z,B,te,ce)}function V(){this.value=this.g=0}function re(){this.value=this.g=0}function le(){this.G=c(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(xl,re)}function Z(v,S,z,B){t(v!=null),t(S!=null),t(2147483648>B),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=z,v.Jd=S,v.Yc=z+B,v.Zc=4<=B?z+B-4+1:z,me(v)}function ie(v,S){for(var z=0;0<S--;)z|=ye(v,128)<<S;return z}function J(v,S){var z=ie(v,S);return de(v)?-z:z}function Y(v,S,z,B){var te,ce=0;for(t(v!=null),t(S!=null),t(4294967288>B),v.Sb=B,v.Ra=0,v.u=0,v.h=0,4<B&&(B=4),te=0;te<B;++te)ce+=S[z+te]<<8*te;v.Ra=ce,v.bb=B,v.oa=S,v.pa=z}function se(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<so-8>>>0,++v.bb,v.u-=8;M(v)&&(v.h=1,v.u=0)}function P(v,S){if(t(0<=S),!v.h&&S<=bi){var z=D(v)&Oi[S];return v.u+=S,se(v),z}return v.h=1,v.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(v){return v.Ra>>>(v.u&so-1)>>>0}function M(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>so}function q(v,S){v.u=S,v.h=M(v)}function Q(v){v.u>=oo&&(t(v.u>=oo),se(v))}function me(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function de(v){return ie(v,1)}function ye(v,S){var z=v.Ca;0>v.b&&me(v);var B=v.b,te=z*S>>>8,ce=(v.I>>>B>te)+0;for(ce?(z-=te,v.I-=te+1<<B>>>0):z=te+1,B=z,te=0;256<=B;)te+=8,B>>=8;return B=7^te+Io[B],v.b-=B,v.Ca=(z<<B)-1,ce}function Ce(v,S,z){v[S+0]=z>>24&255,v[S+1]=z>>16&255,v[S+2]=z>>8&255,v[S+3]=255&z}function Ve(v,S){return v[S+0]|v[S+1]<<8}function Be(v,S){return Ve(v,S)|v[S+2]<<16}function ae(v,S){return Ve(v,S)|Ve(v,S+2)<<16}function he(v,S){var z=1<<S;return t(v!=null),t(0<S),v.X=s(z),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function Ze(v,S){t(v!=null),t(S!=null),t(v.Xa==S.Xa),n(S.X,0,v.X,0,1<<S.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function Qe(v,S,z,B){t(z!=null),t(B!=null);var te=z[0],ce=B[0];return te==0&&(te=(v*ce+S/2)/S),ce==0&&(ce=(S*te+v/2)/v),0>=te||0>=ce?0:(z[0]=te,B[0]=ce,1)}function Ue(v,S){return v+(1<<S)-1>>>S}function ct(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function rt(v,S){H[S]=function(z,B,te,ce,ue,ge,ve){var _e;for(_e=0;_e<ue;++_e){var je=H[v](ge[ve+_e-1],te,ce+_e);ge[ve+_e]=ct(z[B+_e],je)}}}function Dt(){this.ud=this.hd=this.jd=0}function jt(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function Ft(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function it(v,S){return Ft(v+(v-S+.5>>1))}function Ct(v,S,z){return Math.abs(S-z)-Math.abs(v-z)}function pt(v,S,z,B,te,ce,ue){for(B=ce[ue-1],z=0;z<te;++z)ce[ue+z]=B=ct(v[S+z],B)}function vt(v,S,z,B,te){var ce;for(ce=0;ce<z;++ce){var ue=v[S+ce],ge=ue>>8&255,ve=16711935&(ve=(ve=16711935&ue)+((ge<<16)+ge));B[te+ce]=(4278255360&ue)+ve>>>0}}function ut(v,S){S.jd=255&v,S.hd=v>>8&255,S.ud=v>>16&255}function Bt(v,S,z,B,te,ce){var ue;for(ue=0;ue<B;++ue){var ge=S[z+ue],ve=ge>>>8,_e=ge,je=255&(je=(je=ge>>>16)+((v.jd<<24>>24)*(ve<<24>>24)>>>5));_e=255&(_e=(_e+=(v.hd<<24>>24)*(ve<<24>>24)>>>5)+((v.ud<<24>>24)*(je<<24>>24)>>>5)),te[ce+ue]=(4278255360&ge)+(je<<16)+_e}}function Lt(v,S,z,B,te){H[S]=function(ce,ue,ge,ve,_e,je,$e,Ne,Le){for(ve=$e;ve<Ne;++ve)for($e=0;$e<Le;++$e)_e[je++]=te(ge[B(ce[ue++])])},H[v]=function(ce,ue,ge,ve,_e,je,$e){var Ne=8>>ce.b,Le=ce.Ea,Pe=ce.K[0],at=ce.w;if(8>Ne)for(ce=(1<<ce.b)-1,at=(1<<Ne)-1;ue<ge;++ue){var He,nt=0;for(He=0;He<Le;++He)He&ce||(nt=B(ve[_e++])),je[$e++]=te(Pe[nt&at]),nt>>=Ne}else H["VP8LMapColor"+z](ve,_e,Pe,at,je,$e,ue,ge,Le)}}function xr(v,S,z,B,te){for(z=S+z;S<z;){var ce=v[S++];B[te++]=ce>>16&255,B[te++]=ce>>8&255,B[te++]=255&ce}}function Fe(v,S,z,B,te){for(z=S+z;S<z;){var ce=v[S++];B[te++]=ce>>16&255,B[te++]=ce>>8&255,B[te++]=255&ce,B[te++]=ce>>24&255}}function ot(v,S,z,B,te){for(z=S+z;S<z;){var ce=(ue=v[S++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;B[te++]=ce,B[te++]=ue}}function bt(v,S,z,B,te){for(z=S+z;S<z;){var ce=(ue=v[S++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;B[te++]=ce,B[te++]=ue}}function Pt(v,S,z,B,te){for(z=S+z;S<z;){var ce=v[S++];B[te++]=255&ce,B[te++]=ce>>8&255,B[te++]=ce>>16&255}}function Ut(v,S,z,B,te,ce){if(ce==0)for(z=S+z;S<z;)Ce(B,((ce=v[S++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),te+=32;else n(B,te,v,S,z)}function yr(v,S){H[S][0]=H[v+"0"],H[S][1]=H[v+"1"],H[S][2]=H[v+"2"],H[S][3]=H[v+"3"],H[S][4]=H[v+"4"],H[S][5]=H[v+"5"],H[S][6]=H[v+"6"],H[S][7]=H[v+"7"],H[S][8]=H[v+"8"],H[S][9]=H[v+"9"],H[S][10]=H[v+"10"],H[S][11]=H[v+"11"],H[S][12]=H[v+"12"],H[S][13]=H[v+"13"],H[S][14]=H[v+"0"],H[S][15]=H[v+"0"]}function tr(v){return v==Ju||v==Yf||v==Zc||v==Xf}function Dr(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dr,this.f.kb=new nr,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Cn(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Xe(v,S){var z=v.T,B=S.ba.f.RGBA,te=B.eb,ce=B.fb+v.ka*B.A,ue=Ya[S.ba.S],ge=v.y,ve=v.O,_e=v.f,je=v.N,$e=v.ea,Ne=v.W,Le=S.cc,Pe=S.dc,at=S.Mc,He=S.Nc,nt=v.ka,dt=v.ka+v.T,Tt=v.U,xt=Tt+1>>1;for(nt==0?ue(ge,ve,null,null,_e,je,$e,Ne,_e,je,$e,Ne,te,ce,null,null,Tt):(ue(S.ec,S.fc,ge,ve,Le,Pe,at,He,_e,je,$e,Ne,te,ce-B.A,te,ce,Tt),++z);nt+2<dt;nt+=2)Le=_e,Pe=je,at=$e,He=Ne,je+=v.Rc,Ne+=v.Rc,ce+=2*B.A,ue(ge,(ve+=2*v.fa)-v.fa,ge,ve,Le,Pe,at,He,_e,je,$e,Ne,te,ce-B.A,te,ce,Tt);return ve+=v.fa,v.j+dt<v.o?(n(S.ec,S.fc,ge,ve,Tt),n(S.cc,S.dc,_e,je,xt),n(S.Mc,S.Nc,$e,Ne,xt),z--):1&dt||ue(ge,ve,null,null,_e,je,$e,Ne,_e,je,$e,Ne,te,ce+B.A,null,null,Tt),z}function At(v,S,z){var B=v.F,te=[v.J];if(B!=null){var ce=v.U,ue=S.ba.S,ge=ue==Zu||ue==Zc;S=S.ba.f.RGBA;var ve=[0],_e=v.ka;ve[0]=v.T,v.Kb&&(_e==0?--ve[0]:(--_e,te[0]-=v.width),v.j+v.ka+v.T==v.o&&(ve[0]=v.o-v.j-_e));var je=S.eb;_e=S.fb+_e*S.A,v=$u(B,te[0],v.width,ce,ve,je,_e+(ge?0:3),S.A),t(z==ve),v&&tr(ue)&&rc(je,_e,ge,ce,ve,S.A)}return 0}function Yt(v){var S=v.ma,z=S.ba.S,B=11>z,te=z==oi||z==ps||z==Zu||z==Kc||z==12||tr(z);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Mo(S.Oa,v,te?11:12))return 0;if(te&&tr(z)&&Hf(),v.da)alert("todo:use_scaling");else{if(B){if(S.Ib=Cn,v.Kb){if(z=v.U+1>>1,S.memory=s(v.U+2*z),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+z,S.Ib=Xe,Hf()}}else alert("todo:EmitYUV");te&&(S.Jb=At,B&&ds())}if(B&&!_l){for(v=0;256>v;++v)Xa[v]=89858*(v-128)+eu>>ws,ig[v]=-22014*(v-128)+eu,D1[v]=-45773*(v-128),e0[v]=113618*(v-128)+eu>>ws;for(v=sc;v<Nl;++v)S=76283*(v-16)+eu>>ws,sg[v-sc]=Jn(S,255),og[v-sc]=Jn(S+8>>4,15);_l=1}return 1}function De(v){var S=v.ma,z=v.U,B=v.T;return t(!(1&v.ka)),0>=z||0>=B?0:(z=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,z),S.Dc+=z,1)}function or(v){v.ma.memory=null}function Jt(v,S,z,B){return P(v,8)!=47?0:(S[0]=P(v,14)+1,z[0]=P(v,14)+1,B[0]=P(v,1),P(v,3)!=0?0:!v.h)}function pr(v,S){if(4>v)return v+1;var z=v-2>>1;return(2+(1&v)<<z)+P(S,z)+1}function rr(v,S){return 120<S?S-120:1<=(z=((z=xs[S-1])>>4)*v+(8-(15&z)))?z:1;var z}function Tr(v,S,z){var B=D(z),te=v[S+=255&B].g-8;return 0<te&&(q(z,z.u+8),B=D(z),S+=v[S].value,S+=B&(1<<te)-1),q(z,z.u+v[S].g),v[S].value}function lr(v,S,z){return z.g+=v.g,z.value+=v.value<<S>>>0,t(8>=z.g),v.g}function ne(v,S,z){var B=v.xc;return t((S=B==0?0:v.vc[v.md*(z>>B)+(S>>B)])<v.Wb),v.Ya[S]}function we(v,S,z,B){var te=v.ab,ce=v.c*S,ue=v.C;S=ue+S;var ge=z,ve=B;for(B=v.Ta,z=v.Ua;0<te--;){var _e=v.gc[te],je=ue,$e=S,Ne=ge,Le=ve,Pe=(ve=B,ge=z,_e.Ea);switch(t(je<$e),t($e<=_e.nc),_e.hc){case 2:la(Ne,Le,($e-je)*Pe,ve,ge);break;case 0:var at=je,He=$e,nt=ve,dt=ge,Tt=(Xt=_e).Ea;at==0&&(Wc(Ne,Le,null,null,1,nt,dt),pt(Ne,Le+1,0,0,Tt-1,nt,dt+1),Le+=Tt,dt+=Tt,++at);for(var xt=1<<Xt.b,Qt=xt-1,qt=Ue(Tt,Xt.b),Cr=Xt.K,Xt=Xt.w+(at>>Xt.b)*qt;at<He;){var Yr=Cr,Pn=Xt,Or=1;for($c(Ne,Le,nt,dt-Tt,1,nt,dt);Or<Tt;){var Wt=(Or&~Qt)+xt;Wt>Tt&&(Wt=Tt),(0,Po[Yr[Pn++]>>8&15])(Ne,Le+ +Or,nt,dt+Or-Tt,Wt-Or,nt,dt+Or),Or=Wt}Le+=Tt,dt+=Tt,++at&Qt||(Xt+=qt)}$e!=_e.nc&&n(ve,ge-Pe,ve,ge+($e-je-1)*Pe,Pe);break;case 1:for(Pe=Ne,He=Le,Tt=(Ne=_e.Ea)-(dt=Ne&~(nt=(Le=1<<_e.b)-1)),at=Ue(Ne,_e.b),xt=_e.K,_e=_e.w+(je>>_e.b)*at;je<$e;){for(Qt=xt,qt=_e,Cr=new Dt,Xt=He+dt,Yr=He+Ne;He<Xt;)ut(Qt[qt++],Cr),Yc(Cr,Pe,He,Le,ve,ge),He+=Le,ge+=Le;He<Yr&&(ut(Qt[qt++],Cr),Yc(Cr,Pe,He,Tt,ve,ge),He+=Tt,ge+=Tt),++je&nt||(_e+=at)}break;case 3:if(Ne==ve&&Le==ge&&0<_e.b){for(He=ve,Ne=Pe=ge+($e-je)*Pe-(dt=($e-je)*Ue(_e.Ea,_e.b)),Le=ve,nt=ge,at=[],dt=(Tt=dt)-1;0<=dt;--dt)at[dt]=Le[nt+dt];for(dt=Tt-1;0<=dt;--dt)He[Ne+dt]=at[dt];Vf(_e,je,$e,ve,Pe,ve,ge)}else Vf(_e,je,$e,Ne,Le,ve,ge)}ge=B,ve=z}ve!=z&&n(B,z,ge,ve,ce)}function pe(v,S){var z=v.V,B=v.Ba+v.c*v.C,te=S-v.C;if(t(S<=v.l.o),t(16>=te),0<te){var ce=v.l,ue=v.Ta,ge=v.Ua,ve=ce.width;if(we(v,te,z,B),te=ge=[ge],t((z=v.C)<(B=S)),t(ce.v<ce.va),B>ce.o&&(B=ce.o),z<ce.j){var _e=ce.j-z;z=ce.j,te[0]+=_e*ve}if(z>=B?z=0:(te[0]+=4*ce.v,ce.ka=z-ce.j,ce.U=ce.va-ce.v,ce.T=B-z,z=1),z){if(ge=ge[0],11>(z=v.ca).S){var je=z.f.RGBA,$e=(B=z.S,te=ce.U,ce=ce.T,_e=je.eb,je.A),Ne=ce;for(je=je.fb+v.Ma*je.A;0<Ne--;){var Le=ue,Pe=ge,at=te,He=_e,nt=je;switch(B){case Wf:Xc(Le,Pe,at,He,nt);break;case oi:Bo(Le,Pe,at,He,nt);break;case Ju:Bo(Le,Pe,at,He,nt),rc(He,nt,0,at,1,0);break;case $f:ec(Le,Pe,at,He,nt);break;case ps:Ut(Le,Pe,at,He,nt,1);break;case Yf:Ut(Le,Pe,at,He,nt,1),rc(He,nt,0,at,1,0);break;case Zu:Ut(Le,Pe,at,He,nt,0);break;case Zc:Ut(Le,Pe,at,He,nt,0),rc(He,nt,1,at,1,0);break;case Kc:Uo(Le,Pe,at,He,nt);break;case Xf:Uo(Le,Pe,at,He,nt),ms(He,nt,at,1,0);break;case vl:uo(Le,Pe,at,He,nt);break;default:t(0)}ge+=ve,je+=$e}v.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=z.height)}}v.C=S,t(v.C<=v.i)}function xe(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var z=v.Ya[S].G,B=v.Ya[S].H;if(0<z[1][B[1]+0].g||0<z[2][B[2]+0].g||0<z[3][B[3]+0].g)return 0}return 1}function be(v,S,z,B,te,ce){if(v.Z!=0){var ue=v.qd,ge=v.rd;for(t(Go[v.Z]!=null);S<z;++S)Go[v.Z](ue,ge,B,te,B,te,ce),ue=B,ge=te,te+=ce;v.qd=ue,v.rd=ge}}function Se(v,S){var z=v.l.ma,B=z.Z==0||z.Z==1?v.l.j:v.C;if(B=v.C<B?B:v.C,t(S<=v.l.o),S>B){var te=v.l.width,ce=z.ca,ue=z.tb+te*B,ge=v.V,ve=v.Ba+v.c*B,_e=v.gc;t(v.ab==1),t(_e[0].hc==3),co(_e[0],B,S,ge,ve,ce,ue),be(z,B,S,ce,ue,te)}v.C=v.Ma=S}function Ie(v,S,z,B,te,ce,ue){var ge=v.$/B,ve=v.$%B,_e=v.m,je=v.s,$e=z+v.$,Ne=$e;te=z+B*te;var Le=z+B*ce,Pe=280+je.ua,at=v.Pb?ge:16777216,He=0<je.ua?je.Wa:null,nt=je.wc,dt=$e<Le?ne(je,ve,ge):null;t(v.C<ce),t(Le<=te);var Tt=!1;e:for(;;){for(;Tt||$e<Le;){var xt=0;if(ge>=at){var Qt=$e-z;t((at=v).Pb),at.wd=at.m,at.xd=Qt,0<at.s.ua&&Ze(at.s.Wa,at.s.vb),at=ge+bl}if(ve&nt||(dt=ne(je,ve,ge)),t(dt!=null),dt.Qb&&(S[$e]=dt.qb,Tt=!0),!Tt)if(Q(_e),dt.jc){xt=_e,Qt=S;var qt=$e,Cr=dt.pd[D(xt)&xl-1];t(dt.jc),256>Cr.g?(q(xt,xt.u+Cr.g),Qt[qt]=Cr.value,xt=0):(q(xt,xt.u+Cr.g-256),t(256<=Cr.value),xt=Cr.value),xt==0&&(Tt=!0)}else xt=Tr(dt.G[0],dt.H[0],_e);if(_e.h)break;if(Tt||256>xt){if(!Tt)if(dt.nd)S[$e]=(dt.qb|xt<<8)>>>0;else{if(Q(_e),Tt=Tr(dt.G[1],dt.H[1],_e),Q(_e),Qt=Tr(dt.G[2],dt.H[2],_e),qt=Tr(dt.G[3],dt.H[3],_e),_e.h)break;S[$e]=(qt<<24|Tt<<16|xt<<8|Qt)>>>0}if(Tt=!1,++$e,++ve>=B&&(ve=0,++ge,ue!=null&&ge<=ce&&!(ge%16)&&ue(v,ge),He!=null))for(;Ne<$e;)xt=S[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt}else if(280>xt){if(xt=pr(xt-256,_e),Qt=Tr(dt.G[4],dt.H[4],_e),Q(_e),Qt=rr(B,Qt=pr(Qt,_e)),_e.h)break;if($e-z<Qt||te-$e<xt)break e;for(qt=0;qt<xt;++qt)S[$e+qt]=S[$e+qt-Qt];for($e+=xt,ve+=xt;ve>=B;)ve-=B,++ge,ue!=null&&ge<=ce&&!(ge%16)&&ue(v,ge);if(t($e<=te),ve&nt&&(dt=ne(je,ve,ge)),He!=null)for(;Ne<$e;)xt=S[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt}else{if(!(xt<Pe))break e;for(Tt=xt-280,t(He!=null);Ne<$e;)xt=S[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt;xt=$e,t(!(Tt>>>(Qt=He).Xa)),S[xt]=Qt.X[Tt],Tt=!0}Tt||t(_e.h==M(_e))}if(v.Pb&&_e.h&&$e<te)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ze(v.s.vb,v.s.Wa);else{if(_e.h)break e;ue!=null&&ue(v,ge>ce?ce:ge),v.a=0,v.$=$e-z}return 1}return v.a=3,0}function et(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,t(v!=null)}function Ge(){var v=new ar;return v==null?null:(v.a=0,v.xb=Td,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),la=vt,Yc=Bt,Xc=xr,Bo=Fe,Uo=ot,uo=bt,ec=Pt,H.VP8LMapColor32b=lo,H.VP8LMapColor8b=qa,v)}function qe(v,S,z,B,te){var ce=1,ue=[v],ge=[S],ve=B.m,_e=B.s,je=null,$e=0;e:for(;;){if(z)for(;ce&&P(ve,1);){var Ne=ue,Le=ge,Pe=B,at=1,He=Pe.m,nt=Pe.gc[Pe.ab],dt=P(He,2);if(Pe.Oc&1<<dt)ce=0;else{switch(Pe.Oc|=1<<dt,nt.hc=dt,nt.Ea=Ne[0],nt.nc=Le[0],nt.K=[null],++Pe.ab,t(4>=Pe.ab),dt){case 0:case 1:nt.b=P(He,3)+2,at=qe(Ue(nt.Ea,nt.b),Ue(nt.nc,nt.b),0,Pe,nt.K),nt.K=nt.K[0];break;case 3:var Tt,xt=P(He,8)+1,Qt=16<xt?0:4<xt?1:2<xt?2:3;if(Ne[0]=Ue(nt.Ea,Qt),nt.b=Qt,Tt=at=qe(xt,1,0,Pe,nt.K)){var qt,Cr=xt,Xt=nt,Yr=1<<(8>>Xt.b),Pn=s(Yr);if(Pn==null)Tt=0;else{var Or=Xt.K[0],Wt=Xt.w;for(Pn[0]=Xt.K[0][0],qt=1;qt<1*Cr;++qt)Pn[qt]=ct(Or[Wt+qt],Pn[qt-1]);for(;qt<4*Yr;++qt)Pn[qt]=0;Xt.K[0]=null,Xt.K[0]=Pn,Tt=1}}at=Tt;break;case 2:break;default:t(0)}ce=at}}if(ue=ue[0],ge=ge[0],ce&&P(ve,1)&&!(ce=1<=($e=P(ve,4))&&11>=$e)){B.a=3;break e}var Mt;if(Mt=ce)t:{var Gn,br,Ir,gn=B,ja=ue,Ka=ge,Ln=$e,ga=z,li=gn.m,xa=gn.s,Vr=[null],nn=1,qn=0,un=vs[Ln];r:for(;;){if(ga&&P(li,1)){var Ca=P(li,3)+2,Wn=Ue(ja,Ca),an=Ue(Ka,Ca),fa=Wn*an;if(!qe(Wn,an,0,gn,Vr))break r;for(Vr=Vr[0],xa.xc=Ca,Gn=0;Gn<fa;++Gn){var xn=Vr[Gn]>>8&65535;Vr[Gn]=xn,xn>=nn&&(nn=xn+1)}}if(li.h)break r;for(br=0;5>br;++br){var va=ac[br];!br&&0<Ln&&(va+=1<<Ln),qn<va&&(qn=va)}var ba=c(nn*un,V),yn=nn,tn=c(yn,le);if(tn==null)var ci=null;else t(65536>=yn),ci=tn;var ea=s(qn);if(ci==null||ea==null||ba==null){gn.a=1;break r}var ur=ba;for(Gn=Ir=0;Gn<nn;++Gn){var fr=ci[Gn],sn=fr.G,Ri=fr.H,Ss=0,wi=1,ya=0;for(br=0;5>br;++br){va=ac[br],sn[br]=ur,Ri[br]=Ir,!br&&0<Ln&&(va+=1<<Ln);a:{var Tl,Al=va,r0=gn,zn=ea,Ed=ur,jd=Ir,n0=0,qo=r0.m,lg=P(qo,1);if(a(zn,0,0,Al),lg){var Cd=P(qo,1)+1,kd=P(qo,1),a0=P(qo,kd==0?1:8);zn[a0]=1,Cd==2&&(zn[a0=P(qo,8)]=1);var Oa=1}else{var ta=s(19),rf=P(qo,4)+4;if(19<rf){r0.a=3;var El=0;break a}for(Tl=0;Tl<rf;++Tl)ta[Qu[Tl]]=P(qo,3);var ru=void 0,oc=void 0,mo=r0,i0=ta,nu=Al,s0=zn,o0=0,Wo=mo.m,Dd=8,Ld=c(128,V);n:for(;R(Ld,0,7,i0,19);){if(P(Wo,1)){var L1=2+2*P(Wo,3);if((ru=2+P(Wo,L1))>nu)break n}else ru=nu;for(oc=0;oc<nu&&ru--;){Q(Wo);var zd=Ld[0+(127&D(Wo))];q(Wo,Wo.u+zd.g);var jl=zd.value;if(16>jl)s0[oc++]=jl,jl!=0&&(Dd=jl);else{var z1=jl==16,F1=jl-16,O1=Jc[F1],Fd=P(Wo,gs[F1])+O1;if(oc+Fd>nu)break n;for(var R1=z1?Dd:0;0<Fd--;)s0[oc++]=R1}}o0=1;break n}o0||(mo.a=3),Oa=o0}(Oa=Oa&&!qo.h)&&(n0=R(Ed,jd,8,zn,Al)),Oa&&n0!=0?El=n0:(r0.a=3,El=0)}if(El==0)break r;if(wi&&Kf[br]==1&&(wi=ur[Ir].g==0),Ss+=ur[Ir].g,Ir+=El,3>=br){var lc,l0=ea[0];for(lc=1;lc<va;++lc)ea[lc]>l0&&(l0=ea[lc]);ya+=l0}}if(fr.nd=wi,fr.Qb=0,wi&&(fr.qb=(sn[3][Ri[3]+0].value<<24|sn[1][Ri[1]+0].value<<16|sn[2][Ri[2]+0].value)>>>0,Ss==0&&256>sn[0][Ri[0]+0].value&&(fr.Qb=1,fr.qb+=sn[0][Ri[0]+0].value<<8)),fr.jc=!fr.Qb&&6>ya,fr.jc){var nf,po=fr;for(nf=0;nf<xl;++nf){var $o=nf,Yo=po.pd[$o],c0=po.G[0][po.H[0]+$o];256<=c0.value?(Yo.g=c0.g+256,Yo.value=c0.value):(Yo.g=0,Yo.value=0,$o>>=lr(c0,8,Yo),$o>>=lr(po.G[1][po.H[1]+$o],16,Yo),$o>>=lr(po.G[2][po.H[2]+$o],0,Yo),lr(po.G[3][po.H[3]+$o],24,Yo))}}}xa.vc=Vr,xa.Wb=nn,xa.Ya=ci,xa.yc=ba,Mt=1;break t}Mt=0}if(!(ce=Mt)){B.a=3;break e}if(0<$e){if(_e.ua=1<<$e,!he(_e.Wa,$e)){B.a=1,ce=0;break e}}else _e.ua=0;var u0=B,cc=ue,M1=ge,au=u0.s,iu=au.xc;if(u0.c=cc,u0.i=M1,au.md=Ue(cc,iu),au.wc=iu==0?-1:(1<<iu)-1,z){B.xb=yl;break e}if((je=s(ue*ge))==null){B.a=1,ce=0;break e}ce=(ce=Ie(B,je,0,ue,ge,ge,null))&&!ve.h;break e}return ce?(te!=null?te[0]=je:(t(je==null),t(z)),B.$=0,z||et(_e)):et(_e),ce}function We(v,S){var z=v.c*v.i,B=z+S+16*S;return t(v.c<=S),v.V=s(B),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+z+S,1)}function St(v,S){var z=v.C,B=S-z,te=v.V,ce=v.Ba+v.c*z;for(t(S<=v.l.o);0<B;){var ue=16<B?16:B,ge=v.l.ma,ve=v.l.width,_e=ve*ue,je=ge.ca,$e=ge.tb+ve*z,Ne=v.Ta,Le=v.Ua;we(v,ue,te,ce),ts(Ne,Le,je,$e,_e),be(ge,z,z+ue,je,$e,ve),B-=ue,te+=ue*v.c,z+=ue}t(z==S),v.C=v.Ma=S}function Et(){this.ub=this.yd=this.td=this.Rb=0}function It(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zt(){this.Yb=(function(){var v=[];return(function S(z,B,te){for(var ce=te[B],ue=0;ue<ce&&(z.push(te.length>B+1?[]:0),!(te.length<B+1));ue++)S(z[ue],B+1,te)})(v,0,[3,11]),v})()}function Gt(){this.jb=s(3),this.Wc=u([4,8],zt),this.Xc=u([4,17],zt)}function rn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function fn(){this.Na=this.la=0}function sa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Li(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new Kn}function ni(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Os(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Et,this.Kc=new It,this.ed=new rn,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new Li,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,N),this.ia=0,this.pb=c(4,sa),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ni),this.Hd=0,this.rb=Array(new fn),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=u([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eo(){var v=new Os;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,rs||(rs=us)),v}function dn(v,S,z){return v.a==0&&(v.a=S,v.sc=z,v.cb=0),0}function za(v,S,z){return 3<=z&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function cs(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return dn(v,2,"null VP8Io passed to VP8GetHeaders()");var z=S.data,B=S.w,te=S.ha;if(4>te)return dn(v,7,"Truncated header.");var ce=z[B+0]|z[B+1]<<8|z[B+2]<<16,ue=v.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return dn(v,3,"Incorrect keyframe parameters.");if(!ue.yd)return dn(v,4,"Frame not displayable.");B+=3,te-=3;var ge=v.Kc;if(ue.Rb){if(7>te)return dn(v,7,"cannot parse picture header");if(!za(z,B,te))return dn(v,3,"Bad code word");ge.c=16383&(z[B+4]<<8|z[B+3]),ge.Td=z[B+4]>>6,ge.i=16383&(z[B+6]<<8|z[B+5]),ge.Ud=z[B+6]>>6,B+=7,te-=7,v.za=ge.c+15>>4,v.Ub=ge.i+15>>4,S.width=ge.c,S.height=ge.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((ce=v.Pa).jb,0,255,ce.jb.length),t((ce=v.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,a(ce.Zb,0,0,ce.Zb.length),a(ce.Lb,0,0,ce.Lb)}if(ue.ub>te)return dn(v,7,"bad partition length");Z(ce=v.m,z,B,ue.ub),B+=ue.ub,te-=ue.ub,ue.Rb&&(ge.Ld=de(ce),ge.Kd=de(ce)),ge=v.Qa;var ve,_e=v.Pa;if(t(ce!=null),t(ge!=null),ge.Cb=de(ce),ge.Cb){if(ge.Bb=de(ce),de(ce)){for(ge.Fb=de(ce),ve=0;4>ve;++ve)ge.Zb[ve]=de(ce)?J(ce,7):0;for(ve=0;4>ve;++ve)ge.Lb[ve]=de(ce)?J(ce,6):0}if(ge.Bb)for(ve=0;3>ve;++ve)_e.jb[ve]=de(ce)?ie(ce,8):255}else ge.Bb=0;if(ce.Ka)return dn(v,3,"cannot parse segment header");if((ge=v.ed).zd=de(ce),ge.Tb=ie(ce,6),ge.wb=ie(ce,3),ge.Pc=de(ce),ge.Pc&&de(ce)){for(_e=0;4>_e;++_e)de(ce)&&(ge.vd[_e]=J(ce,6));for(_e=0;4>_e;++_e)de(ce)&&(ge.od[_e]=J(ce,6))}if(v.L=ge.Tb==0?0:ge.zd?1:2,ce.Ka)return dn(v,3,"cannot parse filter header");var je=te;if(te=ve=B,B=ve+je,ge=je,v.Xb=(1<<ie(v.m,2))-1,je<3*(_e=v.Xb))z=7;else{for(ve+=3*_e,ge-=3*_e,je=0;je<_e;++je){var $e=z[te+0]|z[te+1]<<8|z[te+2]<<16;$e>ge&&($e=ge),Z(v.Jc[+je],z,ve,$e),ve+=$e,ge-=$e,te+=3}Z(v.Jc[+_e],z,ve,ge),z=ve<B?0:5}if(z!=0)return dn(v,z,"cannot parse partitions");for(z=ie(ve=v.m,7),te=de(ve)?J(ve,4):0,B=de(ve)?J(ve,4):0,ge=de(ve)?J(ve,4):0,_e=de(ve)?J(ve,4):0,ve=de(ve)?J(ve,4):0,je=v.Qa,$e=0;4>$e;++$e){if(je.Cb){var Ne=je.Zb[$e];je.Fb||(Ne+=z)}else{if(0<$e){v.pb[$e]=v.pb[0];continue}Ne=z}var Le=v.pb[$e];Le.Sc[0]=bs[Jn(Ne+te,127)],Le.Sc[1]=ys[Jn(Ne+0,127)],Le.Eb[0]=2*bs[Jn(Ne+B,127)],Le.Eb[1]=101581*ys[Jn(Ne+ge,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=bs[Jn(Ne+_e,117)],Le.Qc[1]=ys[Jn(Ne+ve,127)],Le.lc=Ne+ve}if(!ue.Rb)return dn(v,4,"Not a key frame.");for(de(ce),ue=v.Pa,z=0;4>z;++z){for(te=0;8>te;++te)for(B=0;3>B;++B)for(ge=0;11>ge;++ge)_e=ye(ce,In[z][te][B][ge])?ie(ce,8):k1[z][te][B][ge],ue.Wc[z][te].Yb[B][ge]=_e;for(te=0;17>te;++te)ue.Xc[z][te]=ue.Wc[z][Xr[te]]}return v.kc=de(ce),v.kc&&(v.Bd=ie(ce,8)),v.cb=1}function us(v,S,z,B,te,ce,ue){var ge=S[te].Yb[z];for(z=0;16>te;++te){if(!ye(v,ge[z+0]))return te;for(;!ye(v,ge[z+1]);)if(ge=S[++te].Yb[0],z=0,te==16)return 16;var ve=S[te+1].Yb;if(ye(v,ge[z+2])){var _e=v,je=0;if(ye(_e,(Ne=ge)[($e=z)+3]))if(ye(_e,Ne[$e+6])){for(ge=0,$e=2*(je=ye(_e,Ne[$e+8]))+(Ne=ye(_e,Ne[$e+9+je])),je=0,Ne=C1[$e];Ne[ge];++ge)je+=je+ye(_e,Ne[ge]);je+=3+(8<<$e)}else ye(_e,Ne[$e+7])?(je=7+2*ye(_e,165),je+=ye(_e,145)):je=5+ye(_e,159);else je=ye(_e,Ne[$e+4])?3+ye(_e,Ne[$e+5]):2;ge=ve[2]}else je=1,ge=ve[1];ve=ue+_d[te],0>(_e=v).b&&me(_e);var $e,Ne=_e.b,Le=($e=_e.Ca>>1)-(_e.I>>Ne)>>31;--_e.b,_e.Ca+=Le,_e.Ca|=1,_e.I-=($e+1&Le)<<Ne,ce[ve]=((je^Le)-Le)*B[(0<te)+0]}return 16}function Rs(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function zi(v,S,z,B,te){te=v[S+z+32*B]+(te>>3),v[S+z+32*B]=-256&te?0>te?0:255:te}function fs(v,S,z,B,te,ce){zi(v,S,0,z,B+te),zi(v,S,1,z,B+ce),zi(v,S,2,z,B-ce),zi(v,S,3,z,B-te)}function Hn(v){return(20091*v>>16)+v}function vr(v,S,z,B){var te,ce=0,ue=s(16);for(te=0;4>te;++te){var ge=v[S+0]+v[S+8],ve=v[S+0]-v[S+8],_e=(35468*v[S+4]>>16)-Hn(v[S+12]),je=Hn(v[S+4])+(35468*v[S+12]>>16);ue[ce+0]=ge+je,ue[ce+1]=ve+_e,ue[ce+2]=ve-_e,ue[ce+3]=ge-je,ce+=4,S++}for(te=ce=0;4>te;++te)ge=(v=ue[ce+0]+4)+ue[ce+8],ve=v-ue[ce+8],_e=(35468*ue[ce+4]>>16)-Hn(ue[ce+12]),zi(z,B,0,0,ge+(je=Hn(ue[ce+4])+(35468*ue[ce+12]>>16))),zi(z,B,1,0,ve+_e),zi(z,B,2,0,ve-_e),zi(z,B,3,0,ge-je),ce++,B+=32}function Xi(v,S,z,B){var te=v[S+0]+4,ce=35468*v[S+4]>>16,ue=Hn(v[S+4]),ge=35468*v[S+1]>>16;fs(z,B,0,te+ue,v=Hn(v[S+1]),ge),fs(z,B,1,te+ce,v,ge),fs(z,B,2,te-ce,v,ge),fs(z,B,3,te-ue,v,ge)}function Mc(v,S,z,B,te){vr(v,S,z,B),te&&vr(v,S+16,z,B+4)}function jo(v,S,z,B){Ho(v,S+0,z,B,1),Ho(v,S+32,z,B+128,1)}function Ha(v,S,z,B){var te;for(v=v[S+0]+4,te=0;4>te;++te)for(S=0;4>S;++S)zi(z,B,S,te,v)}function ql(v,S,z,B){v[S+0]&&cn(v,S+0,z,B),v[S+16]&&cn(v,S+16,z,B+4),v[S+32]&&cn(v,S+32,z,B+128),v[S+48]&&cn(v,S+48,z,B+128+4)}function Wl(v,S,z,B){var te,ce=s(16);for(te=0;4>te;++te){var ue=v[S+0+te]+v[S+12+te],ge=v[S+4+te]+v[S+8+te],ve=v[S+4+te]-v[S+8+te],_e=v[S+0+te]-v[S+12+te];ce[0+te]=ue+ge,ce[8+te]=ue-ge,ce[4+te]=_e+ve,ce[12+te]=_e-ve}for(te=0;4>te;++te)ue=(v=ce[0+4*te]+3)+ce[3+4*te],ge=ce[1+4*te]+ce[2+4*te],ve=ce[1+4*te]-ce[2+4*te],_e=v-ce[3+4*te],z[B+0]=ue+ge>>3,z[B+16]=_e+ve>>3,z[B+32]=ue-ge>>3,z[B+48]=_e-ve>>3,B+=64}function xi(v,S,z){var B,te=S-32,ce=si,ue=255-v[te-1];for(B=0;B<z;++B){var ge,ve=ce,_e=ue+v[S-1];for(ge=0;ge<z;++ge)v[S+ge]=ve[_e+v[te+ge]];S+=32}}function $l(v,S){xi(v,S,4)}function Ic(v,S){xi(v,S,8)}function Pc(v,S){xi(v,S,16)}function Yl(v,S){var z;for(z=0;16>z;++z)n(v,S+32*z,v,S-32,16)}function Xl(v,S){var z;for(z=16;0<z;--z)a(v,S,v[S-1],16),S+=32}function Co(v,S,z){var B;for(B=0;16>B;++B)a(S,z+32*B,v,16)}function Ki(v,S){var z,B=16;for(z=0;16>z;++z)B+=v[S-1+32*z]+v[S+z-32];Co(B>>5,v,S)}function Zi(v,S){var z,B=8;for(z=0;16>z;++z)B+=v[S-1+32*z];Co(B>>4,v,S)}function Ms(v,S){var z,B=8;for(z=0;16>z;++z)B+=v[S+z-32];Co(B>>4,v,S)}function ko(v,S){Co(128,v,S)}function hr(v,S,z){return v+2*S+z+2>>2}function ze(v,S){var z,B=S-32;for(B=new Uint8Array([hr(v[B-1],v[B+0],v[B+1]),hr(v[B+0],v[B+1],v[B+2]),hr(v[B+1],v[B+2],v[B+3]),hr(v[B+2],v[B+3],v[B+4])]),z=0;4>z;++z)n(v,S+32*z,B,0,B.length)}function Nt(v,S){var z=v[S-1],B=v[S-1+32],te=v[S-1+64],ce=v[S-1+96];Ce(v,S+0,16843009*hr(v[S-1-32],z,B)),Ce(v,S+32,16843009*hr(z,B,te)),Ce(v,S+64,16843009*hr(B,te,ce)),Ce(v,S+96,16843009*hr(te,ce,ce))}function Nr(v,S){var z,B=4;for(z=0;4>z;++z)B+=v[S+z-32]+v[S-1+32*z];for(B>>=3,z=0;4>z;++z)a(v,S+32*z,B,4)}function $r(v,S){var z=v[S-1+0],B=v[S-1+32],te=v[S-1+64],ce=v[S-1-32],ue=v[S+0-32],ge=v[S+1-32],ve=v[S+2-32],_e=v[S+3-32];v[S+0+96]=hr(B,te,v[S-1+96]),v[S+1+96]=v[S+0+64]=hr(z,B,te),v[S+2+96]=v[S+1+64]=v[S+0+32]=hr(ce,z,B),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=hr(ue,ce,z),v[S+3+64]=v[S+2+32]=v[S+1+0]=hr(ge,ue,ce),v[S+3+32]=v[S+2+0]=hr(ve,ge,ue),v[S+3+0]=hr(_e,ve,ge)}function zr(v,S){var z=v[S+1-32],B=v[S+2-32],te=v[S+3-32],ce=v[S+4-32],ue=v[S+5-32],ge=v[S+6-32],ve=v[S+7-32];v[S+0+0]=hr(v[S+0-32],z,B),v[S+1+0]=v[S+0+32]=hr(z,B,te),v[S+2+0]=v[S+1+32]=v[S+0+64]=hr(B,te,ce),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=hr(te,ce,ue),v[S+3+32]=v[S+2+64]=v[S+1+96]=hr(ce,ue,ge),v[S+3+64]=v[S+2+96]=hr(ue,ge,ve),v[S+3+96]=hr(ge,ve,ve)}function Hr(v,S){var z=v[S-1+0],B=v[S-1+32],te=v[S-1+64],ce=v[S-1-32],ue=v[S+0-32],ge=v[S+1-32],ve=v[S+2-32],_e=v[S+3-32];v[S+0+0]=v[S+1+64]=ce+ue+1>>1,v[S+1+0]=v[S+2+64]=ue+ge+1>>1,v[S+2+0]=v[S+3+64]=ge+ve+1>>1,v[S+3+0]=ve+_e+1>>1,v[S+0+96]=hr(te,B,z),v[S+0+64]=hr(B,z,ce),v[S+0+32]=v[S+1+96]=hr(z,ce,ue),v[S+1+32]=v[S+2+96]=hr(ce,ue,ge),v[S+2+32]=v[S+3+96]=hr(ue,ge,ve),v[S+3+32]=hr(ge,ve,_e)}function ai(v,S){var z=v[S+0-32],B=v[S+1-32],te=v[S+2-32],ce=v[S+3-32],ue=v[S+4-32],ge=v[S+5-32],ve=v[S+6-32],_e=v[S+7-32];v[S+0+0]=z+B+1>>1,v[S+1+0]=v[S+0+64]=B+te+1>>1,v[S+2+0]=v[S+1+64]=te+ce+1>>1,v[S+3+0]=v[S+2+64]=ce+ue+1>>1,v[S+0+32]=hr(z,B,te),v[S+1+32]=v[S+0+96]=hr(B,te,ce),v[S+2+32]=v[S+1+96]=hr(te,ce,ue),v[S+3+32]=v[S+2+96]=hr(ce,ue,ge),v[S+3+64]=hr(ue,ge,ve),v[S+3+96]=hr(ge,ve,_e)}function vi(v,S){var z=v[S-1+0],B=v[S-1+32],te=v[S-1+64],ce=v[S-1+96];v[S+0+0]=z+B+1>>1,v[S+2+0]=v[S+0+32]=B+te+1>>1,v[S+2+32]=v[S+0+64]=te+ce+1>>1,v[S+1+0]=hr(z,B,te),v[S+3+0]=v[S+1+32]=hr(B,te,ce),v[S+3+32]=v[S+1+64]=hr(te,ce,ce),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=ce}function Zn(v,S){var z=v[S-1+0],B=v[S-1+32],te=v[S-1+64],ce=v[S-1+96],ue=v[S-1-32],ge=v[S+0-32],ve=v[S+1-32],_e=v[S+2-32];v[S+0+0]=v[S+2+32]=z+ue+1>>1,v[S+0+32]=v[S+2+64]=B+z+1>>1,v[S+0+64]=v[S+2+96]=te+B+1>>1,v[S+0+96]=ce+te+1>>1,v[S+3+0]=hr(ge,ve,_e),v[S+2+0]=hr(ue,ge,ve),v[S+1+0]=v[S+3+32]=hr(z,ue,ge),v[S+1+32]=v[S+3+64]=hr(B,z,ue),v[S+1+64]=v[S+3+96]=hr(te,B,z),v[S+1+96]=hr(ce,te,B)}function ma(v,S){var z;for(z=0;8>z;++z)n(v,S+32*z,v,S-32,8)}function Pr(v,S){var z;for(z=0;8>z;++z)a(v,S,v[S-1],8),S+=32}function Mn(v,S,z){var B;for(B=0;8>B;++B)a(S,z+32*B,v,8)}function Do(v,S){var z,B=8;for(z=0;8>z;++z)B+=v[S+z-32]+v[S-1+32*z];Mn(B>>4,v,S)}function Bc(v,S){var z,B=4;for(z=0;8>z;++z)B+=v[S+z-32];Mn(B>>3,v,S)}function Uc(v,S){var z,B=4;for(z=0;8>z;++z)B+=v[S-1+32*z];Mn(B>>3,v,S)}function Fa(v,S){Mn(128,v,S)}function Ji(v,S,z){var B=v[S-z],te=v[S+0],ce=3*(te-B)+Vo[1020+v[S-2*z]-v[S+z]],ue=Ku[112+(ce+4>>3)];v[S-z]=si[255+B+Ku[112+(ce+3>>3)]],v[S+0]=si[255+te-ue]}function ro(v,S,z,B){var te=v[S+0],ce=v[S+z];return Wa[255+v[S-2*z]-v[S-z]]>B||Wa[255+ce-te]>B}function Lo(v,S,z,B){return 4*Wa[255+v[S-z]-v[S+0]]+Wa[255+v[S-2*z]-v[S+z]]<=B}function Hc(v,S,z,B,te){var ce=v[S-3*z],ue=v[S-2*z],ge=v[S-z],ve=v[S+0],_e=v[S+z],je=v[S+2*z],$e=v[S+3*z];return 4*Wa[255+ge-ve]+Wa[255+ue-_e]>B?0:Wa[255+v[S-4*z]-ce]<=te&&Wa[255+ce-ue]<=te&&Wa[255+ue-ge]<=te&&Wa[255+$e-je]<=te&&Wa[255+je-_e]<=te&&Wa[255+_e-ve]<=te}function Kl(v,S,z,B){var te=2*B+1;for(B=0;16>B;++B)Lo(v,S+B,z,te)&&Ji(v,S+B,z)}function zo(v,S,z,B){var te=2*B+1;for(B=0;16>B;++B)Lo(v,S+B*z,1,te)&&Ji(v,S+B*z,1)}function hl(v,S,z,B){var te;for(te=3;0<te;--te)Kl(v,S+=4*z,z,B)}function Zl(v,S,z,B){var te;for(te=3;0<te;--te)zo(v,S+=4,z,B)}function no(v,S,z,B,te,ce,ue,ge){for(ce=2*ce+1;0<te--;){if(Hc(v,S,z,ce,ue))if(ro(v,S,z,ge))Ji(v,S,z);else{var ve=v,_e=S,je=z,$e=ve[_e-2*je],Ne=ve[_e-je],Le=ve[_e+0],Pe=ve[_e+je],at=ve[_e+2*je],He=27*(dt=Vo[1020+3*(Le-Ne)+Vo[1020+$e-Pe]])+63>>7,nt=18*dt+63>>7,dt=9*dt+63>>7;ve[_e-3*je]=si[255+ve[_e-3*je]+dt],ve[_e-2*je]=si[255+$e+nt],ve[_e-je]=si[255+Ne+He],ve[_e+0]=si[255+Le-He],ve[_e+je]=si[255+Pe-nt],ve[_e+2*je]=si[255+at-dt]}S+=B}}function Fo(v,S,z,B,te,ce,ue,ge){for(ce=2*ce+1;0<te--;){if(Hc(v,S,z,ce,ue))if(ro(v,S,z,ge))Ji(v,S,z);else{var ve=v,_e=S,je=z,$e=ve[_e-je],Ne=ve[_e+0],Le=ve[_e+je],Pe=Ku[112+(4+(at=3*(Ne-$e))>>3)],at=Ku[112+(at+3>>3)],He=Pe+1>>1;ve[_e-2*je]=si[255+ve[_e-2*je]+He],ve[_e-je]=si[255+$e+at],ve[_e+0]=si[255+Ne-Pe],ve[_e+je]=si[255+Le-He]}S+=B}}function Pf(v,S,z,B,te,ce){no(v,S,z,1,16,B,te,ce)}function Bf(v,S,z,B,te,ce){no(v,S,1,z,16,B,te,ce)}function Oo(v,S,z,B,te,ce){var ue;for(ue=3;0<ue;--ue)Fo(v,S+=4*z,z,1,16,B,te,ce)}function Uf(v,S,z,B,te,ce){var ue;for(ue=3;0<ue;--ue)Fo(v,S+=4,1,z,16,B,te,ce)}function j(v,S,z,B,te,ce,ue,ge){no(v,S,te,1,8,ce,ue,ge),no(z,B,te,1,8,ce,ue,ge)}function ee(v,S,z,B,te,ce,ue,ge){no(v,S,1,te,8,ce,ue,ge),no(z,B,1,te,8,ce,ue,ge)}function Te(v,S,z,B,te,ce,ue,ge){Fo(v,S+4*te,te,1,8,ce,ue,ge),Fo(z,B+4*te,te,1,8,ce,ue,ge)}function Ee(v,S,z,B,te,ce,ue,ge){Fo(v,S+4,1,te,8,ce,ue,ge),Fo(z,B+4,1,te,8,ce,ue,ge)}function Re(){this.ba=new jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ft(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kt(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new V}function ar(){this.xb=this.a=0,this.l=new Kn,this.ca=new jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kt,this.ab=0,this.gc=c(4,yt),this.Oc=0}function Sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lr(v,S,z,B,te,ce,ue){for(v=v==null?0:v[S+0],S=0;S<ue;++S)te[ce+S]=v+z[B+S]&255,v=te[ce+S]}function ln(v,S,z,B,te,ce,ue){var ge;if(v==null)Lr(null,null,z,B,te,ce,ue);else for(ge=0;ge<ue;++ge)te[ce+ge]=v[S+ge]+z[B+ge]&255}function Vn(v,S,z,B,te,ce,ue){if(v==null)Lr(null,null,z,B,te,ce,ue);else{var ge,ve=v[S+0],_e=ve,je=ve;for(ge=0;ge<ue;++ge)_e=je+(ve=v[S+ge])-_e,je=z[B+ge]+(-256&_e?0>_e?0:255:_e)&255,_e=ve,te[ce+ge]=je}}function oa(v,S,z,B){var te=S.width,ce=S.o;if(t(v!=null&&S!=null),0>z||0>=B||z+B>ce)return null;if(!v.Cc){if(v.ga==null){var ue;if(v.ga=new Sr,(ue=v.ga==null)||(ue=S.width*S.o,t(v.Gb.length==0),v.Gb=s(ue),v.Uc=0,v.Gb==null?ue=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ue=1),ue=!ue),!ue){ue=v.ga;var ge=v.Fa,ve=v.P,_e=v.qc,je=v.mb,$e=v.nb,Ne=ve+1,Le=_e-1,Pe=ue.l;if(t(ge!=null&&je!=null&&S!=null),Go[0]=null,Go[1]=Lr,Go[2]=ln,Go[3]=Vn,ue.ca=je,ue.tb=$e,ue.c=S.width,ue.i=S.height,t(0<ue.c&&0<ue.i),1>=_e)S=0;else if(ue.$a=3&ge[ve+0],ue.Z=ge[ve+0]>>2&3,ue.Lc=ge[ve+0]>>4&3,ve=ge[ve+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ve)S=0;else if(Pe.put=De,Pe.ac=Yt,Pe.bc=or,Pe.ma=ue,Pe.width=S.width,Pe.height=S.height,Pe.Da=S.Da,Pe.v=S.v,Pe.va=S.va,Pe.j=S.j,Pe.o=S.o,ue.$a)e:{t(ue.$a==1),S=Ge();t:for(;;){if(S==null){S=0;break e}if(t(ue!=null),ue.mc=S,S.c=ue.c,S.i=ue.i,S.l=ue.l,S.l.ma=ue,S.l.width=ue.c,S.l.height=ue.i,S.a=0,Y(S.m,ge,Ne,Le),!qe(ue.c,ue.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&xe(S.s)?(ue.ic=1,ge=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ge),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ue.ic=0,S=We(S,ue.c)),!S))break t;S=1;break e}ue.mc=null,S=0}else S=Le>=ue.c*ue.i;ue=!S}if(ue)return null;v.ga.Lc!=1?v.Ga=0:B=ce-z}t(v.ga!=null),t(z+B<=ce);e:{if(S=(ge=v.ga).c,ce=ge.l.o,ge.$a==0){if(Ne=v.rc,Le=v.Vc,Pe=v.Fa,ve=v.P+1+z*S,_e=v.mb,je=v.nb+z*S,t(ve<=v.P+v.qc),ge.Z!=0)for(t(Go[ge.Z]!=null),ue=0;ue<B;++ue)Go[ge.Z](Ne,Le,Pe,ve,_e,je,S),Ne=_e,Le=je,je+=S,ve+=S;else for(ue=0;ue<B;++ue)n(_e,je,Pe,ve,S),Ne=_e,Le=je,je+=S,ve+=S;v.rc=Ne,v.Vc=Le}else{if(t(ge.mc!=null),S=z+B,t((ue=ge.mc)!=null),t(S<=ue.i),ue.C>=S)S=1;else if(ge.ic||ds(),ge.ic){ge=ue.V,Ne=ue.Ba,Le=ue.c;var at=ue.i,He=(Pe=1,ve=ue.$/Le,_e=ue.$%Le,je=ue.m,$e=ue.s,ue.$),nt=Le*at,dt=Le*S,Tt=$e.wc,xt=He<dt?ne($e,_e,ve):null;t(He<=nt),t(S<=at),t(xe($e));t:for(;;){for(;!je.h&&He<dt;){if(_e&Tt||(xt=ne($e,_e,ve)),t(xt!=null),Q(je),256>(at=Tr(xt.G[0],xt.H[0],je)))ge[Ne+He]=at,++He,++_e>=Le&&(_e=0,++ve<=S&&!(ve%16)&&Se(ue,ve));else{if(!(280>at)){Pe=0;break t}at=pr(at-256,je);var Qt,qt=Tr(xt.G[4],xt.H[4],je);if(Q(je),!(He>=(qt=rr(Le,qt=pr(qt,je)))&&nt-He>=at)){Pe=0;break t}for(Qt=0;Qt<at;++Qt)ge[Ne+He+Qt]=ge[Ne+He+Qt-qt];for(He+=at,_e+=at;_e>=Le;)_e-=Le,++ve<=S&&!(ve%16)&&Se(ue,ve);He<dt&&_e&Tt&&(xt=ne($e,_e,ve))}t(je.h==M(je))}Se(ue,ve>S?S:ve);break t}!Pe||je.h&&He<nt?(Pe=0,ue.a=je.h?5:3):ue.$=He,S=Pe}else S=Ie(ue,ue.V,ue.Ba,ue.c,ue.i,S,St);if(!S){B=0;break e}}z+B>=ce&&(v.Cc=1),B=1}if(!B)return null;if(v.Cc&&((B=v.ga)!=null&&(B.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+z*te}function kn(v,S,z,B,te,ce){for(;0<te--;){var ue,ge=v,ve=S+(z?1:0),_e=v,je=S+(z?0:3);for(ue=0;ue<B;++ue){var $e=_e[je+4*ue];$e!=255&&($e*=32897,ge[ve+4*ue+0]=ge[ve+4*ue+0]*$e>>23,ge[ve+4*ue+1]=ge[ve+4*ue+1]*$e>>23,ge[ve+4*ue+2]=ge[ve+4*ue+2]*$e>>23)}S+=ce}}function Ea(v,S,z,B,te){for(;0<B--;){var ce;for(ce=0;ce<z;++ce){var ue=v[S+2*ce+0],ge=15&(_e=v[S+2*ce+1]),ve=4369*ge,_e=(240&_e|_e>>4)*ve>>16;v[S+2*ce+0]=(240&ue|ue>>4)*ve>>16&240|(15&ue|ue<<4)*ve>>16>>4&15,v[S+2*ce+1]=240&_e|ge}S+=te}}function pa(v,S,z,B,te,ce,ue,ge){var ve,_e,je=255;for(_e=0;_e<te;++_e){for(ve=0;ve<B;++ve){var $e=v[S+ve];ce[ue+4*ve]=$e,je&=$e}S+=z,ue+=ge}return je!=255}function Va(v,S,z,B,te){var ce;for(ce=0;ce<te;++ce)z[B+ce]=v[S+ce]>>8}function ds(){rc=kn,ms=Ea,$u=pa,ts=Va}function Fi(v,S,z){H[v]=function(B,te,ce,ue,ge,ve,_e,je,$e,Ne,Le,Pe,at,He,nt,dt,Tt){var xt,Qt=Tt-1>>1,qt=ge[ve+0]|_e[je+0]<<16,Cr=$e[Ne+0]|Le[Pe+0]<<16;t(B!=null);var Xt=3*qt+Cr+131074>>2;for(S(B[te+0],255&Xt,Xt>>16,at,He),ce!=null&&(Xt=3*Cr+qt+131074>>2,S(ce[ue+0],255&Xt,Xt>>16,nt,dt)),xt=1;xt<=Qt;++xt){var Yr=ge[ve+xt]|_e[je+xt]<<16,Pn=$e[Ne+xt]|Le[Pe+xt]<<16,Or=qt+Yr+Cr+Pn+524296,Wt=Or+2*(Yr+Cr)>>3;Xt=Wt+qt>>1,qt=(Or=Or+2*(qt+Pn)>>3)+Yr>>1,S(B[te+2*xt-1],255&Xt,Xt>>16,at,He+(2*xt-1)*z),S(B[te+2*xt-0],255&qt,qt>>16,at,He+(2*xt-0)*z),ce!=null&&(Xt=Or+Cr>>1,qt=Wt+Pn>>1,S(ce[ue+2*xt-1],255&Xt,Xt>>16,nt,dt+(2*xt-1)*z),S(ce[ue+2*xt+0],255&qt,qt>>16,nt,dt+(2*xt+0)*z)),qt=Yr,Cr=Pn}1&Tt||(Xt=3*qt+Cr+131074>>2,S(B[te+Tt-1],255&Xt,Xt>>16,at,He+(Tt-1)*z),ce!=null&&(Xt=3*Cr+qt+131074>>2,S(ce[ue+Tt-1],255&Xt,Xt>>16,nt,dt+(Tt-1)*z)))}}function Hf(){Ya[Wf]=ic,Ya[oi]=Qc,Ya[$f]=Ad,Ya[ps]=Jf,Ya[Zu]=wl,Ya[Kc]=ho,Ya[vl]=Sl,Ya[Ju]=Qc,Ya[Yf]=Jf,Ya[Zc]=wl,Ya[Xf]=ho}function Vc(v){return v&-16384?0>v?0:255:v>>Qf}function Jl(v,S){return Vc((19077*v>>8)+(26149*S>>8)-14234)}function ao(v,S,z){return Vc((19077*v>>8)-(6419*S>>8)-(13320*z>>8)+8708)}function Is(v,S){return Vc((19077*v>>8)+(33050*S>>8)-17685)}function Ql(v,S,z,B,te){B[te+0]=Jl(v,z),B[te+1]=ao(v,S,z),B[te+2]=Is(v,S)}function ml(v,S,z,B,te){B[te+0]=Is(v,S),B[te+1]=ao(v,S,z),B[te+2]=Jl(v,z)}function Ga(v,S,z,B,te){var ce=ao(v,S,z);S=ce<<3&224|Is(v,S)>>3,B[te+0]=248&Jl(v,z)|ce>>5,B[te+1]=S}function pl(v,S,z,B,te){var ce=240&Is(v,S)|15;B[te+0]=240&Jl(v,z)|ao(v,S,z)>>4,B[te+1]=ce}function gl(v,S,z,B,te){B[te+0]=255,Ql(v,S,z,B,te+1)}function Gc(v,S,z,B,te){ml(v,S,z,B,te),B[te+3]=255}function io(v,S,z,B,te){Ql(v,S,z,B,te),B[te+3]=255}function Jn(v,S){return 0>v?0:v>S?S:v}function Ro(v,S,z){H[v]=function(B,te,ce,ue,ge,ve,_e,je,$e){for(var Ne=je+(-2&$e)*z;je!=Ne;)S(B[te+0],ce[ue+0],ge[ve+0],_e,je),S(B[te+1],ce[ue+0],ge[ve+0],_e,je+z),te+=2,++ue,++ve,je+=2*z;1&$e&&S(B[te+0],ce[ue+0],ge[ve+0],_e,je)}}function qc(v,S,z){return z==0?v==0?S==0?6:5:S==0?4:0:z}function Gu(v,S,z,B,te){switch(v>>>30){case 3:Ho(S,z,B,te,0);break;case 2:ii(S,z,B,te);break;case 1:cn(S,z,B,te)}}function Qi(v,S){var z,B,te=S.M,ce=S.Nb,ue=v.oc,ge=v.pc+40,ve=v.oc,_e=v.pc+584,je=v.oc,$e=v.pc+600;for(z=0;16>z;++z)ue[ge+32*z-1]=129;for(z=0;8>z;++z)ve[_e+32*z-1]=129,je[$e+32*z-1]=129;for(0<te?ue[ge-1-32]=ve[_e-1-32]=je[$e-1-32]=129:(a(ue,ge-32-1,127,21),a(ve,_e-32-1,127,9),a(je,$e-32-1,127,9)),B=0;B<v.za;++B){var Ne=S.ya[S.aa+B];if(0<B){for(z=-1;16>z;++z)n(ue,ge+32*z-4,ue,ge+32*z+12,4);for(z=-1;8>z;++z)n(ve,_e+32*z-4,ve,_e+32*z+4,4),n(je,$e+32*z-4,je,$e+32*z+4,4)}var Le=v.Gd,Pe=v.Hd+B,at=Ne.ad,He=Ne.Hc;if(0<te&&(n(ue,ge-32,Le[Pe].y,0,16),n(ve,_e-32,Le[Pe].f,0,8),n(je,$e-32,Le[Pe].ea,0,8)),Ne.Za){var nt=ue,dt=ge-32+16;for(0<te&&(B>=v.za-1?a(nt,dt,Le[Pe].y[15],4):n(nt,dt,Le[Pe+1].y,0,4)),z=0;4>z;z++)nt[dt+128+z]=nt[dt+256+z]=nt[dt+384+z]=nt[dt+0+z];for(z=0;16>z;++z,He<<=2)nt=ue,dt=ge+ua[z],Qn[Ne.Ob[z]](nt,dt),Gu(He,at,16*+z,nt,dt)}else if(nt=qc(B,te,Ne.Ob[0]),yi[nt](ue,ge),He!=0)for(z=0;16>z;++z,He<<=2)Gu(He,at,16*+z,ue,ge+ua[z]);for(z=Ne.Gc,nt=qc(B,te,Ne.Dd),Hs[nt](ve,_e),Hs[nt](je,$e),He=at,nt=ve,dt=_e,255&(Ne=0|z)&&(170&Ne?hs(He,256,nt,dt):en(He,256,nt,dt)),Ne=je,He=$e,255&(z>>=8)&&(170&z?hs(at,320,Ne,He):en(at,320,Ne,He)),te<v.Ub-1&&(n(Le[Pe].y,0,ue,ge+480,16),n(Le[Pe].f,0,ve,_e+224,8),n(Le[Pe].ea,0,je,$e+224,8)),z=8*ce*v.B,Le=v.sa,Pe=v.ta+16*B+16*ce*v.R,at=v.qa,Ne=v.ra+8*B+z,He=v.Ha,nt=v.Ia+8*B+z,z=0;16>z;++z)n(Le,Pe+z*v.R,ue,ge+32*z,16);for(z=0;8>z;++z)n(at,Ne+z*v.B,ve,_e+32*z,8),n(He,nt+z*v.B,je,$e+32*z,8)}}function Ps(v,S,z,B,te,ce,ue,ge,ve){var _e=[0],je=[0],$e=0,Ne=ve!=null?ve.kd:0,Le=ve??new ft;if(v==null||12>z)return 7;Le.data=v,Le.w=S,Le.ha=z,S=[S],z=[z],Le.gb=[Le.gb];e:{var Pe=S,at=z,He=Le.gb;if(t(v!=null),t(at!=null),t(He!=null),He[0]=0,12<=at[0]&&!r(v,Pe[0],"RIFF")){if(r(v,Pe[0]+8,"WEBP")){He=3;break e}var nt=ae(v,Pe[0]+4);if(12>nt||4294967286<nt){He=3;break e}if(Ne&&nt>at[0]-8){He=7;break e}He[0]=nt,Pe[0]+=12,at[0]-=12}He=0}if(He!=0)return He;for(nt=0<Le.gb[0],z=z[0];;){e:{var dt=v;at=S,He=z;var Tt=_e,xt=je,Qt=Pe=[0];if((Xt=$e=[$e])[0]=0,8>He[0])He=7;else{if(!r(dt,at[0],"VP8X")){if(ae(dt,at[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var qt=ae(dt,at[0]+8),Cr=1+Be(dt,at[0]+12);if(2147483648<=Cr*(dt=1+Be(dt,at[0]+15))){He=3;break e}Qt!=null&&(Qt[0]=qt),Tt!=null&&(Tt[0]=Cr),xt!=null&&(xt[0]=dt),at[0]+=18,He[0]-=18,Xt[0]=1}He=0}}if($e=$e[0],Pe=Pe[0],He!=0)return He;if(at=!!(2&Pe),!nt&&$e)return 3;if(ce!=null&&(ce[0]=!!(16&Pe)),ue!=null&&(ue[0]=at),ge!=null&&(ge[0]=0),ue=_e[0],Pe=je[0],$e&&at&&ve==null){He=0;break}if(4>z){He=7;break}if(nt&&$e||!nt&&!$e&&!r(v,S[0],"ALPH")){z=[z],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{qt=v,He=S,nt=z;var Xt=Le.gb;Tt=Le.na,xt=Le.P,Qt=Le.Sa,Cr=22,t(qt!=null),t(nt!=null),dt=He[0];var Yr=nt[0];for(t(Tt!=null),t(Qt!=null),Tt[0]=null,xt[0]=null,Qt[0]=0;;){if(He[0]=dt,nt[0]=Yr,8>Yr){He=7;break e}var Pn=ae(qt,dt+4);if(4294967286<Pn){He=3;break e}var Or=8+Pn+1&-2;if(Cr+=Or,0<Xt&&Cr>Xt){He=3;break e}if(!r(qt,dt,"VP8 ")||!r(qt,dt,"VP8L")){He=0;break e}if(Yr[0]<Or){He=7;break e}r(qt,dt,"ALPH")||(Tt[0]=qt,xt[0]=dt+8,Qt[0]=Pn),dt+=Or,Yr-=Or}}if(z=z[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],He!=0)break}z=[z],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Xt=v,He=S,nt=z,Tt=Le.gb[0],xt=Le.Ja,Qt=Le.xa,qt=He[0],dt=!r(Xt,qt,"VP8 "),Cr=!r(Xt,qt,"VP8L"),t(Xt!=null),t(nt!=null),t(xt!=null),t(Qt!=null),8>nt[0])He=7;else{if(dt||Cr){if(Xt=ae(Xt,qt+4),12<=Tt&&Xt>Tt-12){He=3;break e}if(Ne&&Xt>nt[0]-8){He=7;break e}xt[0]=Xt,He[0]+=8,nt[0]-=8,Qt[0]=Cr}else Qt[0]=5<=nt[0]&&Xt[qt+0]==47&&!(Xt[qt+4]>>5),xt[0]=nt[0];He=0}if(z=z[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],S=S[0],He!=0)break;if(4294967286<Le.Ja)return 3;if(ge==null||at||(ge[0]=Le.xa?2:1),ue=[ue],Pe=[Pe],Le.xa){if(5>z){He=7;break}ge=ue,Ne=Pe,at=ce,v==null||5>z?v=0:5<=z&&v[S+0]==47&&!(v[S+4]>>5)?(nt=[0],Xt=[0],Tt=[0],Y(xt=new k,v,S,z),Jt(xt,nt,Xt,Tt)?(ge!=null&&(ge[0]=nt[0]),Ne!=null&&(Ne[0]=Xt[0]),at!=null&&(at[0]=Tt[0]),v=1):v=0):v=0}else{if(10>z){He=7;break}ge=Pe,v==null||10>z||!za(v,S+3,z-3)?v=0:(Ne=v[S+0]|v[S+1]<<8|v[S+2]<<16,at=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Le.Ja||!at||!v?v=0:(ue&&(ue[0]=at),ge&&(ge[0]=v),v=1))}if(!v||(ue=ue[0],Pe=Pe[0],$e&&(_e[0]!=ue||je[0]!=Pe)))return 3;ve!=null&&(ve[0]=Le,ve.offset=S-ve.w,t(4294967286>S-ve.w),t(ve.offset==ve.ha-z));break}return He==0||He==7&&$e&&ve==null?(ce!=null&&(ce[0]|=Le.na!=null&&0<Le.na.length),B!=null&&(B[0]=ue),te!=null&&(te[0]=Pe),0):He}function Mo(v,S,z){var B=S.width,te=S.height,ce=0,ue=0,ge=B,ve=te;if(S.Da=v!=null&&0<v.Da,S.Da&&(ge=v.cd,ve=v.bd,ce=v.v,ue=v.j,11>z||(ce&=-2,ue&=-2),0>ce||0>ue||0>=ge||0>=ve||ce+ge>B||ue+ve>te))return 0;if(S.v=ce,S.j=ue,S.va=ce+ge,S.o=ue+ve,S.U=ge,S.T=ve,S.da=v!=null&&0<v.da,S.da){if(!Qe(ge,ve,z=[v.ib],ce=[v.hb]))return 0;S.ib=z[0],S.hb=ce[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*B/4&&S.hb<3*te/4,S.Kb=0),1}function qu(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function Bs(v,S,z,B){if(B==null||0>=v||0>=S)return 2;if(z!=null){if(z.Da){var te=z.cd,ce=z.bd,ue=-2&z.v,ge=-2&z.j;if(0>ue||0>ge||0>=te||0>=ce||ue+te>v||ge+ce>S)return 2;v=te,S=ce}if(z.da){if(!Qe(v,S,te=[z.ib],ce=[z.hb]))return 2;v=te[0],S=ce[0]}}B.width=v,B.height=S;e:{var ve=B.width,_e=B.height;if(v=B.S,0>=ve||0>=_e||!(v>=Wf&&13>v))v=2;else{if(0>=B.Rd&&B.sd==null){ue=ce=te=S=0;var je=(ge=ve*t0[v])*_e;if(11>v||(ce=(_e+1)/2*(S=(ve+1)/2),v==12&&(ue=(te=ve)*_e)),(_e=s(je+2*ce+ue))==null){v=1;break e}B.sd=_e,11>v?((ve=B.f.RGBA).eb=_e,ve.fb=0,ve.A=ge,ve.size=je):((ve=B.f.kb).y=_e,ve.O=0,ve.fa=ge,ve.Fd=je,ve.f=_e,ve.N=0+je,ve.Ab=S,ve.Cd=ce,ve.ea=_e,ve.W=0+je+ce,ve.Db=S,ve.Ed=ce,v==12&&(ve.F=_e,ve.J=0+je+2*ce),ve.Tc=ue,ve.lb=te)}if(S=1,te=B.S,ce=B.width,ue=B.height,te>=Wf&&13>te)if(11>te)v=B.f.RGBA,S&=(ge=Math.abs(v.A))*(ue-1)+ce<=v.size,S&=ge>=ce*t0[te],S&=v.eb!=null;else{v=B.f.kb,ge=(ce+1)/2,je=(ue+1)/2,ve=Math.abs(v.fa),_e=Math.abs(v.Ab);var $e=Math.abs(v.Db),Ne=Math.abs(v.lb),Le=Ne*(ue-1)+ce;S&=ve*(ue-1)+ce<=v.Fd,S&=_e*(je-1)+ge<=v.Cd,S=(S&=$e*(je-1)+ge<=v.Ed)&ve>=ce&_e>=ge&$e>=ge,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,te==12&&(S&=Ne>=ce,S&=Le<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||z!=null&&z.fd&&(v=qu(B)),v}var xl=64,Oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bi=24,so=32,oo=8,Io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(v){return v},H.Predictor2=function(v,S,z){return S[z+0]},H.Predictor3=function(v,S,z){return S[z+1]},H.Predictor4=function(v,S,z){return S[z-1]},H.Predictor5=function(v,S,z){return jt(jt(v,S[z+1]),S[z+0])},H.Predictor6=function(v,S,z){return jt(v,S[z-1])},H.Predictor7=function(v,S,z){return jt(v,S[z+0])},H.Predictor8=function(v,S,z){return jt(S[z-1],S[z+0])},H.Predictor9=function(v,S,z){return jt(S[z+0],S[z+1])},H.Predictor10=function(v,S,z){return jt(jt(v,S[z-1]),jt(S[z+0],S[z+1]))},H.Predictor11=function(v,S,z){var B=S[z+0];return 0>=Ct(B>>24&255,v>>24&255,(S=S[z-1])>>24&255)+Ct(B>>16&255,v>>16&255,S>>16&255)+Ct(B>>8&255,v>>8&255,S>>8&255)+Ct(255&B,255&v,255&S)?B:v},H.Predictor12=function(v,S,z){var B=S[z+0];return(Ft((v>>24&255)+(B>>24&255)-((S=S[z-1])>>24&255))<<24|Ft((v>>16&255)+(B>>16&255)-(S>>16&255))<<16|Ft((v>>8&255)+(B>>8&255)-(S>>8&255))<<8|Ft((255&v)+(255&B)-(255&S)))>>>0},H.Predictor13=function(v,S,z){var B=S[z-1];return(it((v=jt(v,S[z+0]))>>24&255,B>>24&255)<<24|it(v>>16&255,B>>16&255)<<16|it(v>>8&255,B>>8&255)<<8|it(255&v,255&B))>>>0};var Wc=H.PredictorAdd0;H.PredictorAdd1=pt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var $c=H.PredictorAdd2;Lt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var la,Vf=H.ColorIndexInverseTransform,lo=H.MapARGB,co=H.VP8LColorIndexInverseTransformAlpha,qa=H.MapAlpha,Po=H.VP8LPredictorsAdd=[];Po.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Yc,Xc,Bo,Uo,uo,ec,es,Ho,ii,hs,cn,en,Dn,ca,fo,Us,tc,Wu,wd,A1,E1,j1,Sd,Nd,rc,ms,$u,ts,nc=s(511),Gf=s(2041),Yu=s(225),Xu=s(767),qf=0,Vo=Gf,Ku=Yu,si=Xu,Wa=nc,Wf=0,oi=1,$f=2,ps=3,Zu=4,Kc=5,vl=6,Ju=7,Yf=8,Zc=9,Xf=10,gs=[2,3,7],Jc=[3,3,11],ac=[280,256,256,256,40],Kf=[0,1,1,1,0],Qu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bl=8,bs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ys=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,C1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_d=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],k1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$a=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],In=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yi=[],Qn=[],Hs=[],yl=1,Td=2,Go=[],Ya=[];Fi("UpsampleRgbLinePair",Ql,3),Fi("UpsampleBgrLinePair",ml,3),Fi("UpsampleRgbaLinePair",io,4),Fi("UpsampleBgraLinePair",Gc,4),Fi("UpsampleArgbLinePair",gl,4),Fi("UpsampleRgba4444LinePair",pl,2),Fi("UpsampleRgb565LinePair",Ga,2);var ic=H.UpsampleRgbLinePair,Ad=H.UpsampleBgrLinePair,Qc=H.UpsampleRgbaLinePair,Jf=H.UpsampleBgraLinePair,wl=H.UpsampleArgbLinePair,ho=H.UpsampleRgba4444LinePair,Sl=H.UpsampleRgb565LinePair,ws=16,eu=1<<ws-1,sc=-227,Nl=482,Qf=6,_l=0,Xa=s(256),e0=s(256),D1=s(256),ig=s(256),sg=s(Nl-sc),og=s(Nl-sc);Ro("YuvToRgbRow",Ql,3),Ro("YuvToBgrRow",ml,3),Ro("YuvToRgbaRow",io,4),Ro("YuvToBgraRow",Gc,4),Ro("YuvToArgbRow",gl,4),Ro("YuvToRgba4444Row",pl,2),Ro("YuvToRgb565Row",Ga,2);var ua=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],ef=[8,7,6,4,4,2,2,2,1,1,1,1],tf=1;this.WebPDecodeRGBA=function(v,S,z,B,te){var ce=oi,ue=new Re,ge=new jr;ue.ba=ge,ge.S=ce,ge.width=[ge.width],ge.height=[ge.height];var ve=ge.width,_e=ge.height,je=new Vt;if(je==null||v==null)var $e=2;else t(je!=null),$e=Ps(v,S,z,je.width,je.height,je.Pd,je.Qd,je.format,null);if($e!=0?ve=0:(ve!=null&&(ve[0]=je.width[0]),_e!=null&&(_e[0]=je.height[0]),ve=1),ve){ge.width=ge.width[0],ge.height=ge.height[0],B!=null&&(B[0]=ge.width),te!=null&&(te[0]=ge.height);e:{if(B=new Kn,(te=new ft).data=v,te.w=S,te.ha=z,te.kd=1,S=[0],t(te!=null),((v=Ps(te.data,te.w,te.ha,null,null,null,S,null,te))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(t(ue!=null),B.data=te.data,B.w=te.w+te.offset,B.ha=te.ha-te.offset,B.put=De,B.ac=Yt,B.bc=or,B.ma=ue,te.xa){if((v=Ge())==null){ue=1;break e}if((function(Ne,Le){var Pe=[0],at=[0],He=[0];t:for(;;){if(Ne==null)return 0;if(Le==null)return Ne.a=2,0;if(Ne.l=Le,Ne.a=0,Y(Ne.m,Le.data,Le.w,Le.ha),!Jt(Ne.m,Pe,at,He)){Ne.a=3;break t}if(Ne.xb=Td,Le.width=Pe[0],Le.height=at[0],!qe(Pe[0],at[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0})(v,B)){if(B=(S=Bs(B.width,B.height,ue.Oa,ue.ba))==0){t:{B=v;r:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((z=B.l)!=null),t((te=z.ma)!=null),B.xb!=0){if(B.ca=te.ba,B.tb=te.tb,t(B.ca!=null),!Mo(te.Oa,z,ps)){B.a=2;break r}if(!We(B,z.width)||z.da)break r;if((z.da||tr(B.ca.S))&&ds(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&ds()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!he(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Ie(B,B.V,B.Ba,B.c,B.i,z.o,pe))break r;te.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(S=v.a)}else S=v.a}else{if((v=new Eo)==null){ue=1;break e}if(v.Fa=te.na,v.P=te.P,v.qc=te.Sa,cs(v,B)){if((S=Bs(B.width,B.height,ue.Oa,ue.ba))==0){if(v.Aa=0,z=ue.Oa,t((te=v)!=null),z!=null){if(0<(ve=0>(ve=z.Md)?0:100<ve?255:255*ve/100)){for(_e=je=0;4>_e;++_e)12>($e=te.pb[_e]).lc&&($e.ia=ve*ef[0>$e.lc?0:$e.lc]>>3),je|=$e.ia;je&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=z.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Ne,Le){if(Ne==null)return 0;if(Le==null)return dn(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!cs(Ne,Le))return 0;if(t(Ne.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ne.L=0);var Pe=tu[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Le.v-Pe>>4,Ne.zb=Le.j-Pe>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Le.o+15+Pe>>4,Ne.Hb=Le.va+15+Pe>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var at=Ne.ed;for(Pe=0;4>Pe;++Pe){var He;if(Ne.Qa.Cb){var nt=Ne.Qa.Lb[Pe];Ne.Qa.Fb||(nt+=at.Tb)}else nt=at.Tb;for(He=0;1>=He;++He){var dt=Ne.gd[Pe][He],Tt=nt;if(at.Pc&&(Tt+=at.vd[0],He&&(Tt+=at.od[0])),0<(Tt=0>Tt?0:63<Tt?63:Tt)){var xt=Tt;0<at.wb&&(xt=4<at.wb?xt>>2:xt>>1)>9-at.wb&&(xt=9-at.wb),1>xt&&(xt=1),dt.dd=xt,dt.tc=2*Tt+xt,dt.ld=40<=Tt?2:15<=Tt?1:0}else dt.tc=0;dt.La=He}}}Pe=0}else dn(Ne,6,"Frame setup failed"),Pe=Ne.a;if(Pe=Pe==0){if(Pe){Ne.$c=0,0<Ne.Aa||(Ne.Ic=tf);t:{Pe=Ne.Ic,at=4*(xt=Ne.za);var Qt=32*xt,qt=xt+1,Cr=0<Ne.L?xt*(0<Ne.Aa?2:1):0,Xt=(Ne.Aa==2?2:1)*xt;if((dt=at+832+(He=3*(16*Pe+tu[Ne.L])/2*Qt)+(nt=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=dt)Pe=0;else{if(dt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=s(dt),Ne.Fc=0,Ne.Ec==null){Pe=dn(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=dt}dt=Ne.Ec,Tt=Ne.Fc,Ne.Ac=dt,Ne.Bc=Tt,Tt+=at,Ne.Gd=c(Qt,ni),Ne.Hd=0,Ne.rb=c(qt+1,fn),Ne.sb=1,Ne.wa=Cr?c(Cr,Fr):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=xt),t(!0),Ne.oc=dt,Ne.pc=Tt,Tt+=832,Ne.ya=c(Xt,Di),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=xt),Ne.R=16*xt,Ne.B=8*xt,xt=(Qt=tu[Ne.L])*Ne.R,Qt=Qt/2*Ne.B,Ne.sa=dt,Ne.ta=Tt+xt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Pe*Ne.R+Qt,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Pe*Ne.B+Qt,Ne.$c=0,Tt+=He,Ne.mb=nt?dt:null,Ne.nb=nt?Tt:null,t(Tt+nt<=Ne.Fc+Ne.Vb),Rs(Ne),a(Ne.Ac,Ne.Bc,0,at),Pe=1}}if(Pe){if(Le.ka=0,Le.y=Ne.sa,Le.O=Ne.ta,Le.f=Ne.qa,Le.N=Ne.ra,Le.ea=Ne.Ha,Le.Vd=Ne.Ia,Le.fa=Ne.R,Le.Rc=Ne.B,Le.F=null,Le.J=0,!qf){for(Pe=-255;255>=Pe;++Pe)nc[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)Gf[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)Yu[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)Xu[255+Pe]=0>Pe?0:255<Pe?255:Pe;qf=1}es=Wl,Ho=Mc,hs=jo,cn=Ha,en=ql,ii=Xi,Dn=Pf,ca=Bf,fo=j,Us=ee,tc=Oo,Wu=Uf,wd=Te,A1=Ee,E1=Kl,j1=zo,Sd=hl,Nd=Zl,Qn[0]=Nr,Qn[1]=$l,Qn[2]=ze,Qn[3]=Nt,Qn[4]=$r,Qn[5]=Hr,Qn[6]=zr,Qn[7]=ai,Qn[8]=Zn,Qn[9]=vi,yi[0]=Ki,yi[1]=Pc,yi[2]=Yl,yi[3]=Xl,yi[4]=Zi,yi[5]=Ms,yi[6]=ko,Hs[0]=Do,Hs[1]=Ic,Hs[2]=ma,Hs[3]=Pr,Hs[4]=Uc,Hs[5]=Bc,Hs[6]=Fa,Pe=1}else Pe=0}Pe&&(Pe=(function(Yr,Pn){for(Yr.M=0;Yr.M<Yr.Va;++Yr.M){var Or,Wt=Yr.Jc[Yr.M&Yr.Xb],Mt=Yr.m,Gn=Yr;for(Or=0;Or<Gn.za;++Or){var br=Mt,Ir=Gn,gn=Ir.Ac,ja=Ir.Bc+4*Or,Ka=Ir.zc,Ln=Ir.ya[Ir.aa+Or];if(Ir.Qa.Bb?Ln.$b=ye(br,Ir.Pa.jb[0])?2+ye(br,Ir.Pa.jb[2]):ye(br,Ir.Pa.jb[1]):Ln.$b=0,Ir.kc&&(Ln.Ad=ye(br,Ir.Bd)),Ln.Za=!ye(br,145)+0,Ln.Za){var ga=Ln.Ob,li=0;for(Ir=0;4>Ir;++Ir){var xa,Vr=Ka[0+Ir];for(xa=0;4>xa;++xa){Vr=$a[gn[ja+xa]][Vr];for(var nn=Zf[ye(br,Vr[0])];0<nn;)nn=Zf[2*nn+ye(br,Vr[nn])];Vr=-nn,gn[ja+xa]=Vr}n(ga,li,gn,ja,4),li+=4,Ka[0+Ir]=Vr}}else Vr=ye(br,156)?ye(br,128)?1:3:ye(br,163)?2:0,Ln.Ob[0]=Vr,a(gn,ja,Vr,4),a(Ka,0,Vr,4);Ln.Dd=ye(br,142)?ye(br,114)?ye(br,183)?1:3:2:0}if(Gn.m.Ka)return dn(Yr,7,"Premature end-of-partition0 encountered.");for(;Yr.ja<Yr.za;++Yr.ja){if(Gn=Wt,br=(Mt=Yr).rb[Mt.sb-1],gn=Mt.rb[Mt.sb+Mt.ja],Or=Mt.ya[Mt.aa+Mt.ja],ja=Mt.kc?Or.Ad:0)br.la=gn.la=0,Or.Za||(br.Na=gn.Na=0),Or.Hc=0,Or.Gc=0,Or.ia=0;else{var qn,un;if(br=gn,gn=Gn,ja=Mt.Pa.Xc,Ka=Mt.ya[Mt.aa+Mt.ja],Ln=Mt.pb[Ka.$b],Ir=Ka.ad,ga=0,li=Mt.rb[Mt.sb-1],Vr=xa=0,a(Ir,ga,0,384),Ka.Za)var Ca=0,Wn=ja[3];else{nn=s(16);var an=br.Na+li.Na;if(an=rs(gn,ja[1],an,Ln.Eb,0,nn,0),br.Na=li.Na=(0<an)+0,1<an)es(nn,0,Ir,ga);else{var fa=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)Ir[ga+nn]=fa}Ca=1,Wn=ja[0]}var xn=15&br.la,va=15&li.la;for(nn=0;4>nn;++nn){var ba=1&va;for(fa=un=0;4>fa;++fa)xn=xn>>1|(ba=(an=rs(gn,Wn,an=ba+(1&xn),Ln.Sc,Ca,Ir,ga))>Ca)<<7,un=un<<2|(3<an?3:1<an?2:Ir[ga+0]!=0),ga+=16;xn>>=4,va=va>>1|ba<<7,xa=(xa<<8|un)>>>0}for(Wn=xn,Ca=va>>4,qn=0;4>qn;qn+=2){for(un=0,xn=br.la>>4+qn,va=li.la>>4+qn,nn=0;2>nn;++nn){for(ba=1&va,fa=0;2>fa;++fa)an=ba+(1&xn),xn=xn>>1|(ba=0<(an=rs(gn,ja[2],an,Ln.Qc,0,Ir,ga)))<<3,un=un<<2|(3<an?3:1<an?2:Ir[ga+0]!=0),ga+=16;xn>>=2,va=va>>1|ba<<5}Vr|=un<<4*qn,Wn|=xn<<4<<qn,Ca|=(240&va)<<qn}br.la=Wn,li.la=Ca,Ka.Hc=xa,Ka.Gc=Vr,Ka.ia=43690&Vr?0:Ln.ia,ja=!(xa|Vr)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[Or.$b][Or.Za],Mt.wa[Mt.Y+Mt.ja].La|=!ja),Gn.Ka)return dn(Yr,7,"Premature end-of-file encountered.")}if(Rs(Yr),Mt=Pn,Gn=1,Or=(Wt=Yr).D,br=0<Wt.L&&Wt.M>=Wt.zb&&Wt.M<=Wt.Va,Wt.Aa==0)t:{if(Or.M=Wt.M,Or.uc=br,Qi(Wt,Or),Gn=1,Or=(un=Wt.D).Nb,br=(Vr=tu[Wt.L])*Wt.R,gn=Vr/2*Wt.B,nn=16*Or*Wt.R,fa=8*Or*Wt.B,ja=Wt.sa,Ka=Wt.ta-br+nn,Ln=Wt.qa,Ir=Wt.ra-gn+fa,ga=Wt.Ha,li=Wt.Ia-gn+fa,va=(xn=un.M)==0,xa=xn>=Wt.Va-1,Wt.Aa==2&&Qi(Wt,un),un.uc)for(ba=(an=Wt).D.M,t(an.D.uc),un=an.yb;un<an.Hb;++un){Ca=un,Wn=ba;var yn=(tn=(ya=an).D).Nb;qn=ya.R;var tn=tn.wa[tn.Y+Ca],ci=ya.sa,ea=ya.ta+16*yn*qn+16*Ca,ur=tn.dd,fr=tn.tc;if(fr!=0)if(t(3<=fr),ya.L==1)0<Ca&&j1(ci,ea,qn,fr+4),tn.La&&Nd(ci,ea,qn,fr),0<Wn&&E1(ci,ea,qn,fr+4),tn.La&&Sd(ci,ea,qn,fr);else{var sn=ya.B,Ri=ya.qa,Ss=ya.ra+8*yn*sn+8*Ca,wi=ya.Ha,ya=ya.Ia+8*yn*sn+8*Ca;yn=tn.ld,0<Ca&&(ca(ci,ea,qn,fr+4,ur,yn),Us(Ri,Ss,wi,ya,sn,fr+4,ur,yn)),tn.La&&(Wu(ci,ea,qn,fr,ur,yn),A1(Ri,Ss,wi,ya,sn,fr,ur,yn)),0<Wn&&(Dn(ci,ea,qn,fr+4,ur,yn),fo(Ri,Ss,wi,ya,sn,fr+4,ur,yn)),tn.La&&(tc(ci,ea,qn,fr,ur,yn),wd(Ri,Ss,wi,ya,sn,fr,ur,yn))}}if(Wt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(un=16*xn,xn=16*(xn+1),va?(Mt.y=Wt.sa,Mt.O=Wt.ta+nn,Mt.f=Wt.qa,Mt.N=Wt.ra+fa,Mt.ea=Wt.Ha,Mt.W=Wt.Ia+fa):(un-=Vr,Mt.y=ja,Mt.O=Ka,Mt.f=Ln,Mt.N=Ir,Mt.ea=ga,Mt.W=li),xa||(xn-=Vr),xn>Mt.o&&(xn=Mt.o),Mt.F=null,Mt.J=null,Wt.Fa!=null&&0<Wt.Fa.length&&un<xn&&(Mt.J=oa(Wt,Mt,un,xn-un),Mt.F=Wt.mb,Mt.F==null&&Mt.F.length==0)){Gn=dn(Wt,3,"Could not decode alpha data.");break t}un<Mt.j&&(Vr=Mt.j-un,un=Mt.j,t(!(1&Vr)),Mt.O+=Wt.R*Vr,Mt.N+=Wt.B*(Vr>>1),Mt.W+=Wt.B*(Vr>>1),Mt.F!=null&&(Mt.J+=Mt.width*Vr)),un<xn&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=un-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=xn-un,Gn=Mt.put(Mt))}Or+1!=Wt.Ic||xa||(n(Wt.sa,Wt.ta-br,ja,Ka+16*Wt.R,br),n(Wt.qa,Wt.ra-gn,Ln,Ir+8*Wt.B,gn),n(Wt.Ha,Wt.Ia-gn,ga,li+8*Wt.B,gn))}if(!Gn)return dn(Yr,6,"Output aborted.")}return 1})(Ne,Le)),Le.bc!=null&&Le.bc(Le),Pe&=1}return Pe?(Ne.cb=0,Pe):0})(v,B)||(S=v.a)}}else S=v.a}S==0&&ue.Oa!=null&&ue.Oa.fd&&(S=qu(ue.ba))}ue=S}ce=ue!=0?null:11>ce?ge.f.RGBA.eb:ge.f.kb.y}else ce=null;return ce};var t0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(H,oe){for(var O="",R=0;R<4;R++)O+=String.fromCharCode(H[oe++]);return O}function m(H,oe){return H[oe+0]|H[oe+1]<<8}function x(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16)>>>0}function b(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16|H[oe+3]<<24)>>>0}new d;var g=[0],T=[0],w=[],_=new d,E=e,F=(function(H,oe){var O={},R=0,V=!1,re=0,le=0;if(O.frames=[],!(function(N,k){for(var D=0;D<4;D++)if(N[k+D]!="RIFF".charCodeAt(D))return!0;return!1})(H,oe)){for(b(H,oe+=4),oe+=8;oe<H.length;){var Z=h(H,oe),ie=b(H,oe+=4);oe+=4;var J=ie+(1&ie);switch(Z){case"VP8 ":case"VP8L":O.frames[R]===void 0&&(O.frames[R]={}),(P=O.frames[R]).src_off=V?le:oe-8,P.src_size=re+ie+8,R++,V&&(V=!1,re=0,le=0);break;case"VP8X":(P=O.header={}).feature_flags=H[oe];var Y=oe+4;P.canvas_width=1+x(H,Y),Y+=3,P.canvas_height=1+x(H,Y),Y+=3;break;case"ALPH":V=!0,re=J+8,le=oe-8;break;case"ANIM":(P=O.header).bgcolor=b(H,oe),Y=oe+4,P.loop_count=m(H,Y),Y+=2;break;case"ANMF":var se,P;(P=O.frames[R]={}).offset_x=2*x(H,oe),oe+=3,P.offset_y=2*x(H,oe),oe+=3,P.width=1+x(H,oe),oe+=3,P.height=1+x(H,oe),oe+=3,P.duration=x(H,oe),oe+=3,se=H[oe++],P.dispose=1&se,P.blend=se>>1&1}Z!="ANMF"&&(oe+=J)}return O}})(E,0);F.response=E,F.rgbaoutput=!0,F.dataurl=!1;var C=F.header?F.header:null,L=F.frames?F.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],T=[C.canvas_width];for(var X=0;X<L.length&&L[X].blend!=0;X++);}var I=L[0],U=_.WebPDecodeRGBA(E,I.src_off,I.src_size,T,g);I.rgba=U,I.imgwidth=T[0],I.imgheight=g[0];for(var K=0;K<T[0]*g[0]*4;K++)w[K]=U[K];return this.width=T,this.height=g,this.data=w,this}(function(e){var t,r,n,a,s,c,u,d,h,m=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new d,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new c,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new c,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,h=new m}]);var x=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var k=N;Object.defineProperty(this,"pdf",{get:function(){return k}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(ae){D=!!ae}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(ae){M=!!ae}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(ae){isNaN(ae)||(q=ae)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ae){isNaN(ae)||(Q=ae)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ae){var he;typeof ae=="number"?he=[ae,ae,ae,ae]:((he=new Array(4))[0]=ae[0],he[1]=ae.length>=2?ae[1]:he[0],he[2]=ae.length>=3?ae[2]:he[0],he[3]=ae.length>=4?ae[3]:he[1]),h.margin=he}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ae){me=ae}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ae){de=ae}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ae){ye=ae}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ae){ae instanceof m&&(h=ae)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ae){h.path=ae}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ae){Ce=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var he;he=b(ae),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var he=b(ae);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var Ve=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(ae){Ve=null,Be=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var he;if(this.ctx.font=ae,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var Ze=he[1];he[2];var Oe=he[3],Qe=he[4];he[5];var Ue=he[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(ct==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var rt=(function(Bt){var Lt,xr,Fe=[],ot=Bt.trim();if(ot==="")return E2;if(ot in VS)return[VS[ot]];for(;ot!=="";){switch(xr=null,Lt=(ot=qS(ot)).charAt(0)){case'"':case"'":xr=tI(ot.substring(1),Lt);break;default:xr=rI(ot)}if(xr===null||(Fe.push(xr[0]),(ot=qS(xr[1]))!==""&&ot.charAt(0)!==","))return E2;ot=ot.replace(/^,/,"")}return Fe})(Ue);if(this.fontFaces){var Dt=(function(Bt,Lt){if(Ve===null){var xr=(function(Fe){var ot=[];return Object.keys(Fe).forEach(function(bt){Fe[bt].forEach(function(Pt){var Ut=null;switch(Pt){case"bold":Ut={family:bt,weight:"bold"};break;case"italic":Ut={family:bt,style:"italic"};break;case"bolditalic":Ut={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:bt}}Ut!==null&&(Ut.ref={name:bt,style:Pt},ot.push(Ut))})}),ot})(Bt.getFontList());Ve=(function(Fe){for(var ot={},bt=0;bt<Fe.length;++bt){var Pt=A2(Fe[bt]),Ut=Pt.family,yr=Pt.stretch,tr=Pt.style,Dr=Pt.weight;ot[Ut]=ot[Ut]||{},ot[Ut][yr]=ot[Ut][yr]||{},ot[Ut][yr][tr]=ot[Ut][yr][tr]||{},ot[Ut][yr][tr][Dr]=Pt}return ot})(xr.concat(Lt))}return Ve})(this.pdf,this.fontFaces),jt=rt.map(function(Bt){return{family:Bt,stretch:"normal",weight:Oe,style:Ze}}),Ft=(function(Bt,Lt,xr){for(var Fe=(xr=xr||{}).defaultFontFamily||"times",ot=Object.assign({},eI,xr.genericFontFamilies||{}),bt=null,Pt=null,Ut=0;Ut<Lt.length;++Ut)if(ot[(bt=A2(Lt[Ut])).family]&&(bt.family=ot[bt.family]),Bt.hasOwnProperty(bt.family)){Pt=Bt[bt.family];break}if(!(Pt=Pt||Bt[Fe]))throw new Error("Could not find a font-family for the rule '"+GS(bt)+"' and default family '"+Fe+"'.");if(Pt=(function(yr,tr){if(tr[yr])return tr[yr];var Dr=zv[yr],nr=Dr<=zv.normal?-1:1,jr=HS(tr,KT,Dr,nr);if(!jr)throw new Error("Could not find a matching font-stretch value for "+yr);return jr})(bt.stretch,Pt),Pt=(function(yr,tr){if(tr[yr])return tr[yr];for(var Dr=XT[yr],nr=0;nr<Dr.length;++nr)if(tr[Dr[nr]])return tr[Dr[nr]];throw new Error("Could not find a matching font-style for "+yr)})(bt.style,Pt),!(Pt=(function(yr,tr){if(tr[yr])return tr[yr];if(yr===400&&tr[500])return tr[500];if(yr===500&&tr[400])return tr[400];var Dr=QM[yr],nr=HS(tr,ZT,Dr,yr<400?-1:1);if(!nr)throw new Error("Could not find a matching font-weight for value "+yr);return nr})(bt.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+GS(bt)+"'.");return Pt})(Dt,jt);this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var it="";(Oe==="bold"||parseInt(Oe,10)>=700||Ze==="bold")&&(it="bold"),Ze==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var Ct="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<rt.length;vt++){if(this.pdf.internal.getFont(rt[vt],it,{noFallback:!0,disableWarning:!0})!==void 0){Ct=rt[vt];break}if(it==="bolditalic"&&this.pdf.internal.getFont(rt[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ct=rt[vt],it="bold";else if(this.pdf.internal.getFont(rt[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ct=rt[vt],it="normal";break}}if(Ct===""){for(var ut=0;ut<rt.length;ut++)if(pt[rt[ut]]){Ct=pt[rt[ut]];break}}Ct=Ct===""?"Times":Ct,this.pdf.setFont(Ct,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};x.prototype.setLineDash=function(N){this.lineDash=N},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){L.call(this,"fill",!1)},x.prototype.stroke=function(){L.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(N,k){if(isNaN(N)||isNaN(k))throw Un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new c(N,k));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new c(N,k)},x.prototype.closePath=function(){var N=new c(0,0),k=0;for(k=this.path.length-1;k!==-1;k--)if(this.path[k].type==="begin"&&An(this.path[k+1])==="object"&&typeof this.path[k+1].x=="number"){N=new c(this.path[k+1].x,this.path[k+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(N.x,N.y)},x.prototype.lineTo=function(N,k){if(isNaN(N)||isNaN(k))throw Un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new c(N,k));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new c(D.x,D.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},x.prototype.quadraticCurveTo=function(N,k,D,M){if(isNaN(D)||isNaN(M)||isNaN(N)||isNaN(k))throw Un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new c(D,M)),Q=this.ctx.transform.applyToPoint(new c(N,k));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:q.x,y:q.y}),this.ctx.lastPoint=new c(q.x,q.y)},x.prototype.bezierCurveTo=function(N,k,D,M,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M))throw Un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new c(q,Q)),de=this.ctx.transform.applyToPoint(new c(N,k)),ye=this.ctx.transform.applyToPoint(new c(D,M));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:ye.x,y2:ye.y,x:me.x,y:me.y}),this.ctx.lastPoint=new c(me.x,me.y)},x.prototype.arc=function(N,k,D,M,q,Q){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M)||isNaN(q))throw Un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new c(N,k));N=me.x,k=me.y;var de=this.ctx.transform.applyToPoint(new c(0,D)),ye=this.ctx.transform.applyToPoint(new c(0,0));D=Math.sqrt(Math.pow(de.x-ye.x,2)+Math.pow(de.y-ye.y,2))}Math.abs(q-M)>=2*Math.PI&&(M=0,q=2*Math.PI),this.path.push({type:"arc",x:N,y:k,radius:D,startAngle:M,endAngle:q,counterclockwise:Q})},x.prototype.arcTo=function(N,k,D,M,q){throw new Error("arcTo not implemented.")},x.prototype.rect=function(N,k,D,M){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M))throw Un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,k),this.lineTo(N+D,k),this.lineTo(N+D,k+M),this.lineTo(N,k+M),this.lineTo(N,k),this.lineTo(N+D,k),this.lineTo(N,k)},x.prototype.fillRect=function(N,k,D,M){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M))throw Un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,k,D,M),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},x.prototype.strokeRect=function(N,k,D,M){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M))throw Un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(N,k,D,M),this.stroke())},x.prototype.clearRect=function(N,k,D,M){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M))throw Un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,k,D,M))},x.prototype.save=function(N){N=typeof N!="boolean"||N;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(k),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},x.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(k),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(N){var k,D,M,q;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))k=0,D=0,M=0,q=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(Q!==null)k=parseInt(Q[1]),D=parseInt(Q[2]),M=parseInt(Q[3]),q=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)k=parseInt(Q[1]),D=parseInt(Q[2]),M=parseInt(Q[3]),q=parseFloat(Q[4]);else{if(q=1,typeof N=="string"&&N.charAt(0)!=="#"){var me=new HT(N);N=me.ok?me.toHex():"#000000"}N.length===4?(k=N.substring(1,2),k+=k,D=N.substring(2,3),D+=D,M=N.substring(3,4),M+=M):(k=N.substring(1,3),D=N.substring(3,5),M=N.substring(5,7)),k=parseInt(k,16),D=parseInt(D,16),M=parseInt(M,16)}}return{r:k,g:D,b:M,a:q,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(N,k,D,M){if(isNaN(k)||isNaN(D)||typeof N!="string")throw Un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!g.call(this)){var q=J(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:N,x:k,y:D,scale:Q,angle:q,align:this.textAlign,maxWidth:M})}},x.prototype.strokeText=function(N,k,D,M){if(isNaN(k)||isNaN(D)||typeof N!="string")throw Un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){M=isNaN(M)?void 0:M;var q=J(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:N,x:k,y:D,scale:Q,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:M})}},x.prototype.measureText=function(N){if(typeof N!="string")throw Un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var k=this.pdf,D=this.pdf.internal.scaleFactor,M=k.internal.getFontSize(),q=k.getStringUnitWidth(N)*M/k.internal.scaleFactor;return new function(Q){var me=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:q*=Math.round(96*D/72*1e4)/1e4})},x.prototype.scale=function(N,k){if(isNaN(N)||isNaN(k))throw Un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new d(N,0,0,k,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},x.prototype.rotate=function(N){if(isNaN(N))throw Un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var k=new d(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(k)},x.prototype.translate=function(N,k){if(isNaN(N)||isNaN(k))throw Un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new d(1,0,0,1,N,k);this.ctx.transform=this.ctx.transform.multiply(D)},x.prototype.transform=function(N,k,D,M,q,Q){if(isNaN(N)||isNaN(k)||isNaN(D)||isNaN(M)||isNaN(q)||isNaN(Q))throw Un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new d(N,k,D,M,q,Q);this.ctx.transform=this.ctx.transform.multiply(me)},x.prototype.setTransform=function(N,k,D,M,q,Q){N=isNaN(N)?1:N,k=isNaN(k)?0:k,D=isNaN(D)?0:D,M=isNaN(M)?1:M,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,this.ctx.transform=new d(N,k,D,M,q,Q)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(N,k,D,M,q,Q,me,de,ye){var Ce=this.pdf.getImageProperties(N),Ve=1,Be=1,ae=1,he=1;M!==void 0&&de!==void 0&&(ae=de/M,he=ye/q,Ve=Ce.width/M*de/M,Be=Ce.height/q*ye/q),Q===void 0&&(Q=k,me=D,k=0,D=0),M!==void 0&&de===void 0&&(de=M,ye=q),M===void 0&&de===void 0&&(de=Ce.width,ye=Ce.height);for(var Ze,Oe=this.ctx.transform.decompose(),Qe=J(Oe.rotate.shx),Ue=new d,ct=(Ue=(Ue=(Ue=Ue.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new u(Q-k*ae,me-D*he,M*Ve,q*Be)),rt=_.call(this,ct),Dt=[],jt=0;jt<rt.length;jt+=1)Dt.indexOf(rt[jt])===-1&&Dt.push(rt[jt]);if(C(Dt),this.autoPaging)for(var Ft=Dt[0],it=Dt[Dt.length-1],Ct=Ft;Ct<it+1;Ct++){this.pdf.setPage(Ct);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Ct===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ct===1?0:ut+(Ct-2)*Bt;if(this.ctx.clip_path.length!==0){var xr=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Ze,this.posX+this.margin[3],-Lt+vt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=xr}var Fe=JSON.parse(JSON.stringify(ct));Fe=F([Fe],this.posX+this.margin[3],-Lt+vt+this.ctx.prevPageLastElemOffset)[0];var ot=(Ct>Ft||Ct<it)&&w.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Bt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Qe),ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Qe)};var _=function(N,k,D){var M=[];k=k||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":M.push(Math.floor((N.y+q)/D)+1);break;case"arc":M.push(Math.floor((N.y+q-N.radius)/D)+1),M.push(Math.floor((N.y+q+N.radius)/D)+1);break;case"qct":var Q=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);M.push(Math.floor((Q.y+q)/D)+1),M.push(Math.floor((Q.y+Q.h+q)/D)+1);break;case"bct":var me=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);M.push(Math.floor((me.y+q)/D)+1),M.push(Math.floor((me.y+me.h+q)/D)+1);break;case"rect":M.push(Math.floor((N.y+q)/D)+1),M.push(Math.floor((N.y+N.h+q)/D)+1)}for(var de=0;de<M.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<M[de];)E.call(this);return M},E=function(){var N=this.fillStyle,k=this.strokeStyle,D=this.font,M=this.lineCap,q=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=k,this.font=D,this.lineCap=M,this.lineWidth=q,this.lineJoin=Q},F=function(N,k,D){for(var M=0;M<N.length;M++)switch(N[M].type){case"bct":N[M].x2+=k,N[M].y2+=D;case"qct":N[M].x1+=k,N[M].y1+=D;default:N[M].x+=k,N[M].y+=D}return N},C=function(N){return N.sort(function(k,D){return k-D})},L=function(N,k){for(var D,M,q=this.fillStyle,Q=this.strokeStyle,me=this.lineCap,de=this.lineWidth,ye=Math.abs(de*this.ctx.transform.scaleX),Ce=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),ae=[],he=0;he<Be.length;he++)if(Be[he].x!==void 0)for(var Ze=_.call(this,Be[he]),Oe=0;Oe<Ze.length;Oe+=1)ae.indexOf(Ze[Oe])===-1&&ae.push(Ze[Oe]);for(var Qe=0;Qe<ae.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<ae[Qe];)E.call(this);if(C(ae),this.autoPaging)for(var Ue=ae[0],ct=ae[ae.length-1],rt=Ue;rt<ct+1;rt++){this.pdf.setPage(rt),this.fillStyle=q,this.strokeStyle=Q,this.lineCap=me,this.lineWidth=ye,this.lineJoin=Ce;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=rt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=rt===1?0:Ft+(rt-2)*it;if(this.ctx.clip_path.length!==0){var pt=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(D,this.posX+this.margin[3],-Ct+jt+this.ctx.prevPageLastElemOffset),X.call(this,N,!0),this.path=pt}if(M=JSON.parse(JSON.stringify(Ve)),this.path=F(M,this.posX+this.margin[3],-Ct+jt+this.ctx.prevPageLastElemOffset),k===!1||rt===0){var vt=(rt>Ue||rt<ct)&&w.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,it,null).clip().discardPath()),X.call(this,N,k),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=ye,X.call(this,N,k),this.lineWidth=de;this.path=Ve},X=function(N,k){if((N!=="stroke"||k||!T.call(this))&&(N==="stroke"||k||!g.call(this))){for(var D,M,q=[],Q=this.path,me=0;me<Q.length;me++){var de=Q[me];switch(de.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:de,deltas:[],abs:[]});break;case"lt":var ye=q.length;if(Q[me-1]&&!isNaN(Q[me-1].x)&&(D=[de.x-Q[me-1].x,de.y-Q[me-1].y],ye>0)){for(;ye>=0;ye--)if(q[ye-1].close!==!0&&q[ye-1].begin!==!0){q[ye-1].deltas.push(D),q[ye-1].abs.push(de);break}}break;case"bct":D=[de.x1-Q[me-1].x,de.y1-Q[me-1].y,de.x2-Q[me-1].x,de.y2-Q[me-1].y,de.x-Q[me-1].x,de.y-Q[me-1].y],q[q.length-1].deltas.push(D);break;case"qct":var Ce=Q[me-1].x+2/3*(de.x1-Q[me-1].x),Ve=Q[me-1].y+2/3*(de.y1-Q[me-1].y),Be=de.x+2/3*(de.x1-de.x),ae=de.y+2/3*(de.y1-de.y),he=de.x,Ze=de.y;D=[Ce-Q[me-1].x,Ve-Q[me-1].y,Be-Q[me-1].x,ae-Q[me-1].y,he-Q[me-1].x,Ze-Q[me-1].y],q[q.length-1].deltas.push(D);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(de)}}M=k?null:N==="stroke"?"stroke":"fill";for(var Oe=!1,Qe=0;Qe<q.length;Qe++)if(q[Qe].arc)for(var Ue=q[Qe].abs,ct=0;ct<Ue.length;ct++){var rt=Ue[ct];rt.type==="arc"?K.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,k,!Oe):V.call(this,rt.x,rt.y),Oe=!0}else if(q[Qe].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(q[Qe].begin!==!0){var Dt=q[Qe].start.x,jt=q[Qe].start.y;re.call(this,q[Qe].deltas,Dt,jt),Oe=!0}M&&H.call(this,M),k&&oe.call(this)}},I=function(N){var k=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=k*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-D;case"top":return N+k-D;case"hanging":return N+k-2*D;case"middle":return N+k/2-D;default:return N}},U=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(k,D){this.colorStops.push([k,D])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(N,k,D,M,q,Q,me,de,ye){for(var Ce=Z.call(this,D,M,q,Q),Ve=0;Ve<Ce.length;Ve++){var Be=Ce[Ve];Ve===0&&(ye?O.call(this,Be.x1+N,Be.y1+k):V.call(this,Be.x1+N,Be.y1+k)),le.call(this,N,k,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}de?oe.call(this):H.call(this,me)},H=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(N,k){this.pdf.internal.out(r(N)+" "+n(k)+" m")},R=function(N){var k;switch(N.align){case"right":case"end":k="right";break;case"center":k="center";break;default:k="left"}var D=this.pdf.getTextDimensions(N.text),M=I.call(this,N.y),q=U.call(this,M)-D.h,Q=this.ctx.transform.applyToPoint(new c(N.x,M)),me=this.ctx.transform.decompose(),de=new d;de=(de=(de=de.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ye,Ce,Ve,Be=this.ctx.transform.applyToRectangle(new u(N.x,M,D.w,D.h)),ae=de.applyToRectangle(new u(N.x,q,D.w,D.h)),he=_.call(this,ae),Ze=[],Oe=0;Oe<he.length;Oe+=1)Ze.indexOf(he[Oe])===-1&&Ze.push(he[Oe]);if(C(Ze),this.autoPaging)for(var Qe=Ze[0],Ue=Ze[Ze.length-1],ct=Qe;ct<Ue+1;ct++){this.pdf.setPage(ct);var rt=ct===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],Ft=jt-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],Ct=it-this.margin[3],pt=ct===1?0:Dt+(ct-2)*Ft;if(this.ctx.clip_path.length!==0){var vt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ye,this.posX+this.margin[3],-1*pt+rt),X.call(this,"fill",!0),this.path=vt}var ut=F([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*N.scale),Ve=this.lineWidth,this.lineWidth=Ve*N.scale);var Bt=this.autoPaging!=="text";if(Bt||ut.y+ut.h<=jt){if(Bt||ut.y>=rt&&ut.x<=it){var Lt=Bt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||it-ut.x)[0],xr=F([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0],Fe=Bt&&(ct>Qe||ct<Ue)&&w.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Ft,null).clip().discardPath()),this.pdf.text(Lt,xr.x,xr.y,{angle:N.angle,align:k,renderingMode:N.renderingMode}),Fe&&this.pdf.restoreGraphicsState()}}else ut.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-ut.y);N.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ve)}else N.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*N.scale),Ve=this.lineWidth,this.lineWidth=Ve*N.scale),this.pdf.text(N.text,Q.x+this.posX,Q.y+this.posY,{angle:N.angle,align:k,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Ve)},V=function(N,k,D,M){D=D||0,M=M||0,this.pdf.internal.out(r(N+D)+" "+n(k+M)+" l")},re=function(N,k,D){return this.pdf.lines(N,k,D,null,null)},le=function(N,k,D,M,q,Q,me,de){this.pdf.internal.out([t(a(D+N)),t(s(M+k)),t(a(q+N)),t(s(Q+k)),t(a(me+N)),t(s(de+k)),"c"].join(" "))},Z=function(N,k,D,M){for(var q=2*Math.PI,Q=Math.PI/2;k>D;)k-=q;var me=Math.abs(D-k);me<q&&M&&(me=q-me);for(var de=[],ye=M?-1:1,Ce=k;me>1e-5;){var Ve=Ce+ye*Math.min(me,Q);de.push(ie.call(this,N,Ce,Ve)),me-=Math.abs(Ve-Ce),Ce=Ve}return de},ie=function(N,k,D){var M=(D-k)/2,q=N*Math.cos(M),Q=N*Math.sin(M),me=q,de=-Q,ye=me*me+de*de,Ce=ye+me*q+de*Q,Ve=4/3*(Math.sqrt(2*ye*Ce)-Ce)/(me*Q-de*q),Be=me-Ve*de,ae=de+Ve*me,he=Be,Ze=-ae,Oe=M+k,Qe=Math.cos(Oe),Ue=Math.sin(Oe);return{x1:N*Math.cos(k),y1:N*Math.sin(k),x2:Be*Qe-ae*Ue,y2:Be*Ue+ae*Qe,x3:he*Qe-Ze*Ue,y3:he*Ue+Ze*Qe,x4:N*Math.cos(D),y4:N*Math.sin(D)}},J=function(N){return 180*N/Math.PI},Y=function(N,k,D,M,q,Q){var me=N+.5*(D-N),de=k+.5*(M-k),ye=q+.5*(D-q),Ce=Q+.5*(M-Q),Ve=Math.min(N,q,me,ye),Be=Math.max(N,q,me,ye),ae=Math.min(k,Q,de,Ce),he=Math.max(k,Q,de,Ce);return new u(Ve,ae,Be-Ve,he-ae)},se=function(N,k,D,M,q,Q,me,de){var ye,Ce,Ve,Be,ae,he,Ze,Oe,Qe,Ue,ct,rt,Dt,jt,Ft=D-N,it=M-k,Ct=q-D,pt=Q-M,vt=me-q,ut=de-Q;for(Ce=0;Ce<41;Ce++)Qe=(Ze=(Ve=N+(ye=Ce/40)*Ft)+ye*((ae=D+ye*Ct)-Ve))+ye*(ae+ye*(q+ye*vt-ae)-Ze),Ue=(Oe=(Be=k+ye*it)+ye*((he=M+ye*pt)-Be))+ye*(he+ye*(Q+ye*ut-he)-Oe),Ce==0?(ct=Qe,rt=Ue,Dt=Qe,jt=Ue):(ct=Math.min(ct,Qe),rt=Math.min(rt,Ue),Dt=Math.max(Dt,Qe),jt=Math.max(jt,Ue));return new u(Math.round(ct),Math.round(rt),Math.round(Dt-ct),Math.round(jt-rt))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,k,D=(N=this.ctx.lineDash,k=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:k}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(sr.API),(function(e){var t=function(c){var u,d,h,m,x,b,g,T,w,_;for(d=[],h=0,m=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;m>h;h+=4)(x=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(b=(x=((x=((x=((x=(x-(_=x%85))/85)-(w=x%85))/85)-(T=x%85))/85)-(g=x%85))/85)%85,d.push(b+33,g+33,T+33,w+33,_+33)):d.push(122);return(function(E,F){for(var C=F;C>0;C--)E.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(c){var u,d,h,m,x,b=String,g="length",T=255,w="charCodeAt",_="slice",E="replace";for(c[_](-2),c=c[_](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],m=0,x=(c+=u="uuuuu"[_](c[g]%5||5))[g];x>m;m+=5)d=52200625*(c[w](m)-33)+614125*(c[w](m+1)-33)+7225*(c[w](m+2)-33)+85*(c[w](m+3)-33)+(c[w](m+4)-33),h.push(T&d>>24,T&d>>16,T&d>>8,T&d);return(function(F,C){for(var L=C;L>0;L--)F.pop()})(h,u[g]),b.fromCharCode.apply(b,h)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",h=0;h<c.length;h+=2)d+=String.fromCharCode("0x"+(c[h]+c[h+1]));return d},s=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=Av(u)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};e.processDataByFilters=function(c,u){var d=0,h=c||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}})(sr.API),(function(e){e.loadFile=function(t,r,n){return(function(a,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,h,m){var x=new XMLHttpRequest,b=0,g=function(T){var w=T.length,_=[],E=String.fromCharCode;for(b=0;b<w;b+=1)_.push(E(255&T.charCodeAt(b)));return _.join("")};if(x.open("GET",d,!h),x.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(x.onload=function(){x.status===200?m(g(this.responseText)):m(void 0)}),x.send(null),h&&x.status===200)return g(x.responseText)})(a,s,c)}catch{}return u})(t,r,n)},e.loadImageFile=e.loadFile})(sr.API),(function(e){function t(){return(kr.html2canvas?Promise.resolve(kr.html2canvas):ju(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(kr.DOMPurify?Promise.resolve(kr.DOMPurify):ju(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=An(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var h=document.createElement(u);for(var m in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[m]=d.style[m];return h},s=function u(d,h){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),x=d.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(u(x,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m},c=function u(d){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),h);return(m=m.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(h){return this.set({src:a("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var h=this.opt.jsPDF,m=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var T=m[g],w=T.src.find(function(_){return _.format==="truetype"});w&&h.addFont(w.url,T.ref.name,T.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var h=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(h):h})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(u=u||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,h,m){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,h,m){return this.setProgress(u?this.progress.val+u:null,d||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},c.prototype.then=function(u,d){var h=this;return this.thenCore(u,d,function(m,x){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,m),b}).then(m,x).then(function(b){return h.updateProgress(1),b})})},c.prototype.thenCore=function(u,d,h){h=h||Promise.prototype.then;var m=this;u&&(u=u.bind(m)),d&&(d=d.bind(m));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:c.convert(Object.assign({},m),Promise.prototype),b=h.call(x,u,d);return c.convert(b,m.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(h){d=d.thenCore(h)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,sr.getPageSize=function(u,d,h){if(An(u)==="object"){var m=u;u=m.orientation,d=m.unit||d,h=m.format||h}d=d||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var x,b=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+d}var T,w=0,_=0;if(g.hasOwnProperty(b))w=g[b][1]/x,_=g[b][0]/x;else try{w=h[1],_=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",_>w&&(T=_,_=w,w=T);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",w>_&&(T=_,_=w,w=T)}return{width:_,height:w,unit:d,k:x,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(A2):null;var h=new c(d);return d.worker?h:h.from(u).doCallback()}})(sr.API),sr.API.addJS=function(e){return $S=e,this.internal.events.subscribe("postPutResources",function(){zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$S+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zm!==void 0&&WS!==void 0&&this.internal.out("/Names <</JavaScript "+zm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var c=a[s],u=n.exec(c);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(s=0;s<h;s++){var x=r.internal.newObject();m.push(x);var b=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<m.length;s++)r.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var c={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var c=n.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(sr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,c,u){var d,h=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(x){for(var b,g=256*x.charCodeAt(4)+x.charCodeAt(5),T=x.length,w={width:0,height:0,numcomponents:1},_=4;_<T;_+=2){if(_+=g,t.indexOf(x.charCodeAt(_+1))!==-1){b=256*x.charCodeAt(_+5)+x.charCodeAt(_+6),w={width:256*x.charCodeAt(_+7)+x.charCodeAt(_+8),height:b,numcomponents:x.charCodeAt(_+9)};break}g=256*x.charCodeAt(_+2)+x.charCodeAt(_+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:a}}return m}})(sr.API),sr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=PM(e,{checkCrc:!0}),c=s.width,u=s.height,d=s.channels,h=s.palette,m=s.depth;a=h&&d===1?(function(K){for(var H=K.width,oe=K.height,O=K.data,R=K.palette,V=K.depth,re=!1,le=[],Z=[],ie=void 0,J=!1,Y=0,se=0;se<R.length;se++){var P=Z3(R[se],4),N=P[0],k=P[1],D=P[2],M=P[3];le.push(N,k,D),M!=null&&(M===0?(Y++,Z.length<1&&Z.push(se)):M<255&&(J=!0))}if(J||Y>1){re=!0,Z=void 0;var q=H*oe;ie=new Uint8Array(q);for(var Q=new DataView(O.buffer),me=0;me<q;me++){var de=j2(Q,me,V),ye=Z3(R[de],4)[3];ie[me]=ye}}else Y===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:O,alphaBytes:ie,needSMask:re,palette:le,mask:Z}})(s):d===2||d===4?(function(K){for(var H=K.data,oe=K.width,O=K.height,R=K.channels,V=K.depth,re=R===2?"DeviceGray":"DeviceRGB",le=R-1,Z=oe*O,ie=le,J=Z*ie,Y=1*Z,se=Math.ceil(J*V/8),P=Math.ceil(Y*V/8),N=new Uint8Array(se),k=new Uint8Array(P),D=new DataView(H.buffer),M=new DataView(N.buffer),q=new DataView(k.buffer),Q=!1,me=0;me<Z;me++){for(var de=me*R,ye=0;ye<ie;ye++)rN(M,j2(D,de+ye,V),me*ie+ye,V);var Ce=j2(D,de+ie,V);Ce<(1<<V)-1&&(Q=!0),rN(q,Ce,1*me,V)}return{colorSpace:re,colorsPerPixel:le,sMaskBitsPerComponent:Q?V:void 0,colorBytes:N,alphaBytes:k,needSMask:Q}})(s):(function(K){var H=K.data,oe=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:oe,colorsPerPixel:oe==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(O){for(var R=O.length,V=new Uint8Array(2*R),re=new DataView(V.buffer,V.byteOffset,V.byteLength),le=0;le<R;le++)re.setUint16(2*le,O[le],!1);return V})(H):H,needSMask:!1}})(s);var x,b,g,T=a,w=T.colorSpace,_=T.colorsPerPixel,E=T.sMaskBitsPerComponent,F=T.colorBytes,C=T.alphaBytes,L=T.needSMask,X=T.palette,I=T.mask,U=null;return n!==sr.API.image_compression.NONE&&typeof Av=="function"?(U=(function(K){var H;switch(K){case sr.API.image_compression.FAST:H=11;break;case sr.API.image_compression.MEDIUM:H=13;break;case sr.API.image_compression.SLOW:H=14;break;default:H=12}return H})(n),x=this.decode.FLATE_DECODE,b="/Predictor ".concat(U," /Colors ").concat(_," /BitsPerComponent ").concat(m," /Columns ").concat(c),e=ZS(F,Math.ceil(c*_*m/8),_,m,n),L&&(g=ZS(C,Math.ceil(c*E/8),1,E,n))):(x=void 0,b=void 0,e=F,L&&(g=C)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:x,decodeParameters:b,transparency:I,palette:X,sMask:g,predictor:U,width:c,height:u,bitsPerComponent:m,sMaskBitsPerComponent:E,colorSpace:w}}},(function(e){e.processGIF89A=function(t,r,n,a){var s=new sI(t),c=s.width,u=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:c,height:u},m=new C2(100).encode(h,100);return e.processJPEG.call(this,m,r,n,a)},e.processGIF87A=e.processGIF89A})(sr.API),Jo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Jo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Un.log("bit decode error:"+r)}},Jo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[s>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Jo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,u=s>>4,d=15&s,h=this.palette[u];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Jo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Jo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&t)/t*255|0,u=(s>>5&t)/t*255|0,d=(s>>10&t)/t*255|0,h=s>>15?255:0,m=n*this.width*4+4*a;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=c,this.data[m+3]=h}this.pos+=e}},Jo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,d=(c>>5&r)/r*255|0,h=(c>>11)/t*255|0,m=a*this.width*4+4*s;this.data[m]=h,this.data[m+1]=d,this.data[m+2]=u,this.data[m+3]=255}this.pos+=e}},Jo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Jo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=c}},Jo.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var s=new Jo(t,!1),c=s.width,u=s.height,d={data:s.getData(),width:c,height:u},h=new C2(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)}})(sr.API),aN.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var s=new aN(t),c=s.width,u=s.height,d={data:s.getData(),width:c,height:u},h=new C2(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)}})(sr.API),sr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,d=0,h=0;h<a;h+=4){var m=n[h],x=n[h+1],b=n[h+2],g=n[h+3];s[u++]=m,s[u++]=x,s[u++]=b,c[d++]=g}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:T,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},sr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},E0=sr.API,Fm=E0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,h=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=h.fof?h.fof:1,x=t.doKerning!==!1,b=0,g=e.length,T=0,w=u[0]||d,_=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/s)||0)/1e3):(b=x&&An(h[n])==="object"&&!isNaN(parseInt(h[n][T],10))?h[n][T]/m:0,_.push((u[n]||w)/d+b)),T=n;return _},YS=E0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return E0.processArabic&&(e=E0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Fm.apply(this,arguments).reduce(function(s,c){return s+c},0)},XS=function(e,t,r,n){for(var a=[],s=0,c=e.length,u=0;s!==c&&u+t[s]<r;)u+=t[s],s++;a.push(e.slice(0,s));var d=s;for(u=0;s!==c;)u+t[s]>n&&(a.push(e.slice(d,s)),u=0,d=s),u+=t[s],s++;return d!==s&&a.push(e.slice(d,s)),a},KS=function(e,t,r){r||(r={});var n,a,s,c,u,d,h,m=[],x=[m],b=r.textIndent||0,g=0,T=0,w=e.split(" "),_=Fm.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var E=Array(d).join(" "),F=[];w.map(function(L){(L=L.split(/\s*\n/)).length>1?F=F.concat(L.map(function(X,I){return(I&&X.length?`
`:"")+X})):F.push(L[0])}),w=F,d=YS.apply(this,[E,r])}for(s=0,c=w.length;s<c;s++){var C=0;if(n=w[s],d&&n[0]==`
`&&(n=n.substr(1),C=1),b+g+(T=(a=Fm.apply(this,[n,r])).reduce(function(L,X){return L+X},0))>t||C){if(T>t){for(u=XS.apply(this,[n,a,t-(b+g),t]),m.push(u.shift()),m=[u.pop()];u.length;)x.push([u.shift()]);T=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(L,X){return L+X},0)}else m=[n];x.push(m),b=T+d,g=_}else m.push(n),b+=g+T,g=_}return h=d?function(L,X){return(X?E:"")+L.join(" ")}:function(L){return L.join(" ")},x.map(h)},E0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var x=this.internal.getFont(m.fontName,m.fontStyle),b="Unicode";return x.metadata[b]?{widths:x.metadata[b].widths||{0:1},kerning:x.metadata[b].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var u,d,h=[];for(u=0,d=n.length;u<d;u++)h=h.concat(KS.apply(this,[n[u],c,s]));return h},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var c=function(b){return"0x"+parseInt(b,10).toString(16)},u=e.__fontmetrics__.compress=function(b){var g,T,w,_,E=["{"];for(var F in b){if(g=b[F],isNaN(parseInt(F,10))?T="'"+F+"'":(F=parseInt(F,10),T=(T=c(F).slice(2)).slice(0,-1)+a[T.slice(-1)]),typeof g=="number")g<0?(w=c(g).slice(3),_="-"):(w=c(g).slice(2),_=""),w=_+w.slice(0,-1)+a[w.slice(-1)];else{if(An(g)!=="object")throw new Error("Don't know what to do with value type "+An(g)+".");w=u(g)}E.push(T+w)}return E.push("}"),E.join("")},d=e.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,T,w,_,E={},F=1,C=E,L=[],X="",I="",U=b.length-1,K=1;K<U;K+=1)(_=b[K])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(L.push([C,w]),C={},w=void 0):_=="}"?((T=L.pop())[0][T[1]]=C,w=void 0,C=T[0]):_=="-"?F=-1:w===void 0?n.hasOwnProperty(_)?(X+=n[_],w=parseInt(X,16)*F,F=1,X=""):X+=_:n.hasOwnProperty(_)?(I+=n[_],C[w]=parseInt(I,16)*F,F=1,w=void 0,I=""):I+=_;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(b){var g=b.font,T=x.Unicode[g.postScriptName];T&&(g.metadata.Unicode={},g.metadata.Unicode.widths=T.widths,g.metadata.Unicode.kerning=T.kerning);var w=m.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])})(sr.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Km(u)),c.metadata=e.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])})(sr),sr.API.addSvgAsImage=function(e,t,r,n,a,s,c,u){if(isNaN(t)||isNaN(r))throw Un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(kr.canvg?Promise.resolve(kr.canvg):ju(()=>import("./index.es-Cn__hrc9.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){x.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,c,u)})},sr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},sr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],h=0,m=0,x=0;function b(T,w){var _,E=!1;for(_=0;_<T.length;_+=1)T[_]===w&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=u.length;for(x=0;x<g;x+=1)r[u[x]].value=r[u[x]].defaultValue,r[u[x]].explicitSet=!1}if(An(e)==="object"){for(a in e)if(s=e[a],b(u,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&b(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")d.push(String(s[h]-1));else if(s[h].length>1){for(m=0;m<s[h].length;m+=1)typeof s[h][m]!="number"&&(n=!1);n===!0&&d.push([s[h][0]-1,s[h][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,w=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?w.push("/"+T+" /"+r[T].value):w.push("/"+T+" "+r[T].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+c.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+s+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(sr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(s,c){for(var u,d=c.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],x=0,b=s.length;x<b;++x){if(u=c.metadata.characterToGlyph(s.charCodeAt(x)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=s.charCodeAt(x),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(h[4-u.length],u)}return m.join("")},n=function(s){var c,u,d,h,m,x,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,b=(u=Object.keys(s).sort(function(g,T){return g-T})).length;x<b;x++)c=u[x],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(h=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+h+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(c){var u=c.font,d=c.out,h=c.newObject,m=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),g="",T=0;T<b.length;T++)g+=String.fromCharCode(b[T]);var w=h();m({data:g,addLength1:!0,objectId:w}),d("endobj");var _=h();m({data:n(u.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var E=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+z0(u.fontName)),d("/FontFile2 "+w+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var F=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+z0(u.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+e.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+_+" 0 R"),d("/BaseFont /"+z0(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+F+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(c){var u=c.font,d=c.out,h=c.newObject,m=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,b="",g=0;g<x.length;g++)b+=String.fromCharCode(x[g]);var T=h();m({data:b,addLength1:!0,objectId:T}),d("endobj");var w=h();m({data:n(u.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var _=h();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+T+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+z0(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=h();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+z0(u.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]);var a=function(s){var c,u=s.text||"",d=s.x,h=s.y,m=s.options||{},x=s.mutex||{},b=x.pdfEscape,g=x.activeFontKey,T=x.fonts,w=g,_="",E=0,F="",C=T[w].encoding;if(T[w].encoding!=="Identity-H")return{text:u,x:d,y:h,options:m,mutex:x};for(F=u,w=g,Array.isArray(u)&&(F=u[0]),E=0;E<F.length;E+=1)T[w].metadata.hasOwnProperty("cmap")&&(c=T[w].metadata.cmap.unicode.codeMap[F[E].charCodeAt(0)]),c||F[E].charCodeAt(0)<256&&T[w].metadata.hasOwnProperty("Unicode")?_+=F[E]:_+="";var L="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?L=b(_,w).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(L=r(_,T[w])),x.isHex=!0,{text:L,x:d,y:h,options:m,mutex:x}};t.events.push(["postProcessText",function(s){var c=s.text||"",u=[],d={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?u.push([a(Object.assign({},d,{text:c[h][0]})).text,c[h][1],c[h][2]]):u.push(a(Object.assign({},d,{text:c[h]})).text);s.text=u}else s.text=a(Object.assign({},d,{text:c})).text}])})(sr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(sr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,c,u,d,h,m,x=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,C=0;this.__bidiEngine__={};var L=function(O){var R=O.charCodeAt(),V=R>>8,re=w[V];return re!==void 0?x[256*re+(255&R)]:V===252||V===253?"AL":E.test(V)?"L":V===8?"R":"N"},X=function(O){for(var R,V=0;V<O.length;V++){if((R=L(O.charAt(V)))==="L")return!1;if(R==="R")return!0}return!1},I=function(O,R,V,re){var le,Z,ie,J,Y=R[re];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(Y="AN");break;case"AL":F=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":re<1||re+1>=R.length||(le=V[re-1])!=="EN"&&le!=="AN"||(Z=R[re+1])!=="EN"&&Z!=="AN"?Y="N":F&&(Z="AN"),Y=Z===le?Z:"N";break;case"ES":Y=(le=re>0?V[re-1]:"B")==="EN"&&re+1<R.length&&R[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&V[re-1]==="EN"){Y="EN";break}if(F){Y="N";break}for(ie=re+1,J=R.length;ie<J&&R[ie]==="ET";)ie++;Y=ie<J&&R[ie]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(J=R.length,ie=re+1;ie<J&&R[ie]==="NSM";)ie++;if(ie<J){var se=O[re],P=se>=1425&&se<=2303||se===64286;if(le=R[ie],P&&(le==="R"||le==="AL")){Y="R";break}}}Y=re<1||(le=R[re-1])==="B"?"N":V[re-1];break;case"B":F=!1,a=!0,Y=C;break;case"S":s=!0,Y="N"}return Y},U=function(O,R,V){var re=O.split("");return V&&K(re,V,{hiLevel:C}),re.reverse(),R&&R.reverse(),re.join("")},K=function(O,R,V){var re,le,Z,ie,J,Y=-1,se=O.length,P=0,N=[],k=C?g:b,D=[];for(F=!1,a=!1,s=!1,le=0;le<se;le++)D[le]=L(O[le]);for(Z=0;Z<se;Z++){if(J=P,N[Z]=I(O,D,N,Z),re=240&(P=k[J][T[N[Z]]]),P&=15,R[Z]=ie=k[P][5],re>0)if(re===16){for(le=Y;le<Z;le++)R[le]=1;Y=-1}else Y=-1;if(k[P][6])Y===-1&&(Y=Z);else if(Y>-1){for(le=Y;le<Z;le++)R[le]=ie;Y=-1}D[Z]==="B"&&(R[Z]=0),V.hiLevel|=ie}s&&(function(M,q,Q){for(var me=0;me<Q;me++)if(M[me]==="S"){q[me]=C;for(var de=me-1;de>=0&&M[de]==="WS";de--)q[de]=C}})(D,R,se)},H=function(O,R,V,re,le){if(!(le.hiLevel<O)){if(O===1&&C===1&&!a)return R.reverse(),void(V&&V.reverse());for(var Z,ie,J,Y,se=R.length,P=0;P<se;){if(re[P]>=O){for(J=P+1;J<se&&re[J]>=O;)J++;for(Y=P,ie=J-1;Y<ie;Y++,ie--)Z=R[Y],R[Y]=R[ie],R[ie]=Z,V&&(Z=V[Y],V[Y]=V[ie],V[ie]=Z);P=J}P++}}},oe=function(O,R,V){var re=O.split(""),le={hiLevel:C};return V||(V=[]),K(re,V,le),(function(Z,ie,J){if(J.hiLevel!==0&&m)for(var Y,se=0;se<Z.length;se++)ie[se]===1&&(Y=_.indexOf(Z[se]))>=0&&(Z[se]=_[Y+1])})(re,V,le),H(2,re,R,V,le),H(1,re,R,V,le),re.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,V){if((function(le,Z){if(Z)for(var ie=0;ie<le.length;ie++)Z[ie]=ie;u===void 0&&(u=X(le)),h===void 0&&(h=X(le))})(O,R),c||!d||h)if(c&&d&&u^h)C=u?1:0,O=U(O,R,V);else if(!c&&d&&h)C=u?1:0,O=oe(O,R,V),O=U(O,R);else if(!c||u||d||h){if(c&&!d&&u^h)O=U(O,R),u?(C=0,O=oe(O,R,V)):(C=1,O=oe(O,R,V),O=U(O,R));else if(c&&u&&!d&&h)C=1,O=oe(O,R,V),O=U(O,R);else if(!c&&!d&&u^h){var re=m;u?(C=1,O=oe(O,R,V),C=0,m=!1,O=oe(O,R,V),m=re):(C=0,O=oe(O,R,V),O=U(O,R),C=1,m=!1,O=oe(O,R,V),m=re,O=U(O,R))}}else C=0,O=oe(O,R,V);else C=u?1:0,O=oe(O,R,V);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,d=O.isOutputVisual,u=O.isInputRtl,h=O.isOutputRtl,m=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([r.doBidiReorder(a[u])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(sr),sr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ou(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new oI(this.contents),this.head=new cI(this),this.name=new mI(this),this.cmap=new QT(this),this.toUnicode={},this.hhea=new uI(this),this.maxp=new pI(this),this.hmtx=new gI(this),this.post=new dI(this),this.os2=new fI(this),this.loca=new yI(this),this.glyf=new xI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,h;for(h=[],c=0,u=(d=this.bbox).length;c<u;c++)t=d[c],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,c,u;for(c=0,s=0,u=(t=""+t).length;0<=u?s<u:s>u;s=0<=u?++s:--s)a=t.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var dl,Ou=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,c,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*c+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e})(),oI=(function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,c,u,d,h,m,x,b,g,T,w;for(w in g=Object.keys(r).length,d=Math.log(2),x=16*Math.floor(Math.log(g)/d),c=Math.floor(x/d),m=16*g-x,(a=new Ou).writeInt(this.scalarType),a.writeShort(g),a.writeShort(x),a.writeShort(c),a.writeShort(m),s=16*g,h=a.pos+s,u=null,T=[],r)for(b=r[w],a.writeString(w),a.writeInt(e(b)),a.writeInt(h),a.writeInt(b.length),T=T.concat(b),w==="head"&&(u=h),h+=b.length;h%4;)T.push(0),h++;return a.write(T),n=2981146554-e(a.data),a.pos=u+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,c;for(r=eA.call(r);r.length%4;)r.push(0);for(s=new Ou(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=s.readUInt32();return 4294967295&a},t})(),lI={}.hasOwnProperty,Gl=function(e,t){for(var r in t)lI.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};dl=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var cI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ou).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),iN=(function(){function e(t,r){var n,a,s,c,u,d,h,m,x,b,g,T,w,_,E,F,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),b=g/2,t.pos+=6,s=(function(){var L,X;for(X=[],d=L=0;0<=b?L<b:L>b;d=0<=b?++L:--L)X.push(t.readUInt16());return X})(),t.pos+=2,w=(function(){var L,X;for(X=[],d=L=0;0<=b?L<b:L>b;d=0<=b?++L:--L)X.push(t.readUInt16());return X})(),h=(function(){var L,X;for(X=[],d=L=0;0<=b?L<b:L>b;d=0<=b?++L:--L)X.push(t.readUInt16());return X})(),m=(function(){var L,X;for(X=[],d=L=0;0<=b?L<b:L>b;d=0<=b?++L:--L)X.push(t.readUInt16());return X})(),a=(this.length-t.pos+this.offset)/2,u=(function(){var L,X;for(X=[],d=L=0;0<=a?L<a:L>a;d=0<=a?++L:--L)X.push(t.readUInt16());return X})(),d=E=0,C=s.length;E<C;d=++E)for(_=s[d],n=F=T=w[d];T<=_?F<=_:F>=_;n=T<=_?++F:--F)m[d]===0?c=n+h[d]:(c=u[m[d]/2+(n-T)-(b-d)]||0)!==0&&(c+=h[d]),this.codeMap[n]=65535&c}t.pos=x}return e.encode=function(t,r){var n,a,s,c,u,d,h,m,x,b,g,T,w,_,E,F,C,L,X,I,U,K,H,oe,O,R,V,re,le,Z,ie,J,Y,se,P,N,k,D,M,q,Q,me,de,ye,Ce,Ve;switch(re=new Ou,c=Object.keys(t).sort(function(Be,ae){return Be-ae}),r){case"macroman":for(w=0,_=(function(){var Be=[];for(T=0;T<256;++T)Be.push(0);return Be})(),F={0:0},s={},le=0,Y=c.length;le<Y;le++)F[de=t[a=c[le]]]==null&&(F[de]=++w),s[a]={old:t[a],new:F[t[a]]},_[a]=F[t[a]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(_),{charMap:s,subtable:re.data,maxGlyphID:w+1};case"unicode":for(R=[],x=[],C=0,F={},n={},E=h=null,Z=0,se=c.length;Z<se;Z++)F[X=t[a=c[Z]]]==null&&(F[X]=++C),n[a]={old:X,new:F[X]},u=F[X]-a,E!=null&&u===h||(E&&x.push(E),R.push(a),h=u),E=a;for(E&&x.push(E),x.push(65535),R.push(65535),oe=2*(H=R.length),K=2*Math.pow(Math.log(H)/Math.LN2,2),b=Math.log(K/2)/Math.LN2,U=2*H-K,d=[],I=[],g=[],T=ie=0,P=R.length;ie<P;T=++ie){if(O=R[T],m=x[T],O===65535){d.push(0),I.push(0);break}if(O-(V=n[O].new)>=32768)for(d.push(0),I.push(2*(g.length+H-T)),a=J=O;O<=m?J<=m:J>=m;a=O<=m?++J:--J)g.push(n[a].new);else d.push(V-O),I.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*H+2*g.length),re.writeUInt16(0),re.writeUInt16(oe),re.writeUInt16(K),re.writeUInt16(b),re.writeUInt16(U),Q=0,N=x.length;Q<N;Q++)a=x[Q],re.writeUInt16(a);for(re.writeUInt16(0),me=0,k=R.length;me<k;me++)a=R[me],re.writeUInt16(a);for(ye=0,D=d.length;ye<D;ye++)u=d[ye],re.writeUInt16(u);for(Ce=0,M=I.length;Ce<M;Ce++)L=I[Ce],re.writeUInt16(L);for(Ve=0,q=g.length;Ve<q;Ve++)w=g[Ve],re.writeUInt16(w);return{charMap:n,subtable:re.data,maxGlyphID:C+1}}},e})(),QT=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new iN(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=iN.encode(t,r),(a=new Ou).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),uI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),fI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),dI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var c,u,d;for(d=[],s=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;s=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e})(),hI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},mI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,c,u,d,h,m,x,b;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},s=m=0,x=n.length;m<x;s=++m)a=n[s],t.pos=a.offset,h=t.readString(a.length),c=new hI(h,a),d[b=a.nameID]==null&&(d[b]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),pI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),gI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(t.readInt16());return m})(),this.widths=(function(){var h,m,x,b;for(b=[],h=0,m=(x=this.metrics).length;h<m;h++)s=x[h],b.push(s.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),eA=[].slice,xI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,c,u,d,h,m,x;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,c=(u=new Ou(r.read(a))).readShort(),h=u.readShort(),x=u.readShort(),d=u.readShort(),m=u.readShort(),this.cache[t]=c===-1?new bI(u,h,x,d,m):new vI(u,c,h,x,d,m),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,c,u,d;for(c=[],s=[],u=0,d=r.length;u<d;u++)a=t[r[u]],s.push(c.length),a&&(c=c.concat(a.encode(n)));return s.push(c.length),{table:c,offsets:s}},e})(),vI=(function(){function e(t,r,n,a,s,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),bI=(function(){function e(t,r,n,a,s){var c,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ou(eA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),yI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Gl(e,dl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,c=0;c<n.length;++c)if(n[c]=a,s<r.length&&r[s]==c){++s,n[c]=a;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(a+=d)}for(var h=new Array(4*n.length),m=0;m<n.length;++m)h[4*m+3]=255&n[m],h[4*m+2]=(65280&n[m])>>8,h[4*m+1]=(16711680&n[m])>>16,h[4*m]=(4278190080&n[m])>>24;return h},e})(),wI=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,c,u,d;for(a={},c=0,u=t.length;c<u;c++)a[s=t[c]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in d=this.glyphsFor(r))n=d[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,c,u,d,h,m,x,b,g,T,w,_,E;for(a in n=QT.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),g={0:0},E=n.charMap)g[(d=E[a]).old]=d.new;for(T in b=n.maxGlyphID,c)T in g||(g[T]=b++);return m=(function(F){var C,L;for(C in L={},F)L[F[C]]=C;return L})(g),x=Object.keys(m).sort(function(F,C){return F-C}),w=(function(){var F,C,L;for(L=[],F=0,C=x.length;F<C;F++)u=x[F],L.push(m[u]);return L})(),s=this.font.glyf.encode(c,w,g),h=this.font.loca.encode(s.offsets,w),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e})();sr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,c;if(Array.isArray(r))return"["+(function(){var u,d,h;for(h=[],u=0,d=r.length;u<d;u++)n=r[u],h.push(t.convert(n));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)c=r[a],s.push("/"+a+" "+t.convert(c));return s.push(">>"),s.join(`
`)}return""+r},t})();const SI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),NI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),_I=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),TI=[{abrev:"Ene",nombre:"Enero",num:0},{abrev:"Feb",nombre:"Febrero",num:1},{abrev:"Mar",nombre:"Marzo",num:2},{abrev:"Abr",nombre:"Abril",num:3},{abrev:"May",nombre:"Mayo",num:4},{abrev:"Jun",nombre:"Junio",num:5},{abrev:"Jul",nombre:"Julio",num:6},{abrev:"Ago",nombre:"Agosto",num:7},{abrev:"Sep",nombre:"Septiembre",num:8},{abrev:"Oct",nombre:"Octubre",num:9},{abrev:"Nov",nombre:"Noviembre",num:10},{abrev:"Dic",nombre:"Diciembre",num:11}],AI=({navigateTo:e})=>{const{showToast:t}=To(),[r,n]=W.useState(new Date().getFullYear()),[a,s]=W.useState([]),[c,u]=W.useState(!0),d=b=>b===0?" ":`${b.toFixed(2).replace(".",",")} `;W.useEffect(()=>{(async()=>{try{u(!0);const[g,T]=await Promise.all([k5(r),D5(r)]),w=TI.map(_=>{const E=g[_.num]||0,F=T[_.num]||0;return{mes:_.abrev,ingresos:E,gastos:F,total:E-F}});s(w)}catch(g){console.error("Error loading monthly summary:",g)}finally{u(!1)}})()},[r]);const h=W.useMemo(()=>{const b=a.reduce((w,_)=>w+_.ingresos,0),g=a.reduce((w,_)=>w+_.gastos,0),T=b-g;return{ingresosTotal:b,gastosTotal:g,totalGeneral:T}},[a]),m=b=>{n(g=>g+b)},x=()=>{try{const b=new sr,g=25,T=118,w=210,_=0,E=0,F=0,C=33,L=150,X=243,I=211,U=47,K=47;b.setFontSize(18),b.setTextColor(g,T,w),b.text("Resumen Financiero Anual",105,20,{align:"center"}),b.setFontSize(14),b.setTextColor(_,E,F),b.text(`Ao: ${r}`,105,30,{align:"center"});const H=40,oe=8,O=[40,50,50,50],R=[20,60,110,160];b.setFillColor(g,T,w),b.rect(R[0],H,O[0],oe,"F"),b.rect(R[1],H,O[1],oe,"F"),b.rect(R[2],H,O[2],oe,"F"),b.rect(R[3],H,O[3],oe,"F"),b.setTextColor(255,255,255),b.setFontSize(11),b.setFont(void 0,"bold"),b.text("Mes",R[0]+O[0]/2,H+5,{align:"center"}),b.text("Ingresos",R[1]+O[1]/2,H+5,{align:"center"}),b.text("Gastos",R[2]+O[2]/2,H+5,{align:"center"}),b.text("Total",R[3]+O[3]/2,H+5,{align:"center"});let V=H+oe;b.setFontSize(10),b.setFont(void 0,"normal"),a.forEach((le,Z)=>{Z%2===0&&(b.setFillColor(249,250,251),b.rect(R[0],V,O[0]+O[1]+O[2]+O[3],oe,"F")),b.setTextColor(_,E,F),b.text(le.mes,R[0]+O[0]/2,V+5,{align:"center"}),b.setTextColor(C,L,X),b.text(le.ingresos.toFixed(2)+" ",R[1]+O[1]/2,V+5,{align:"center"}),b.setTextColor(I,U,K),b.text(le.gastos.toFixed(2)+" ",R[2]+O[2]/2,V+5,{align:"center"}),b.setTextColor(C,L,X),b.text(le.total.toFixed(2)+" ",R[3]+O[3]/2,V+5,{align:"center"}),V+=oe,V>270&&(b.addPage(),V=20)}),b.setFillColor(229,231,235),b.rect(R[0],V,O[0]+O[1]+O[2]+O[3],oe,"F"),b.setFont(void 0,"bold"),b.setTextColor(_,E,F),b.text("Total",R[0]+O[0]/2,V+5,{align:"center"}),b.setTextColor(C,L,X),b.text(h.ingresosTotal.toFixed(2)+" ",R[1]+O[1]/2,V+5,{align:"center"}),b.setTextColor(I,U,K),b.text(h.gastosTotal.toFixed(2)+" ",R[2]+O[2]/2,V+5,{align:"center"}),b.setTextColor(C,L,X),b.text(h.totalGeneral.toFixed(2)+" ",R[3]+O[3]/2,V+5,{align:"center"});const re=b.getNumberOfPages();for(let le=1;le<=re;le++)b.setPage(le),b.setFontSize(8),b.setTextColor(128,128,128),b.text(`Pgina ${le} de ${re}`,105,b.internal.pageSize.height-10,{align:"center"});b.save(`Resumen_Financiero_${r}.pdf`),t("PDF generado correctamente","success")}catch(b){sl.handle(b,"ResumenMensualScreen - generarPDF")}};return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-2",children:[l.jsx(ia,{title:"Resumen Financiero Anual",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-lg"}),l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl py-1 px-4 flex items-center justify-between",children:[l.jsx("button",{onClick:()=>m(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(SI,{})}),l.jsx("span",{className:"text-zinc-100 font-medium text-sm tracking-wide",children:r}),l.jsx("button",{onClick:()=>m(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(NI,{})})]}),l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden shadow-md flex flex-col",style:{maxHeight:"calc(100vh - 200px)"},children:[l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"bg-[#14225A] grid grid-cols-4 py-1 px-2 text-white font-semibold text-xs uppercase tracking-wide sticky top-0 z-10",children:[l.jsx("div",{className:"flex items-center",children:"Mes"}),l.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Ingresos"}),l.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Gastos"}),l.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Total"})]}),c?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):l.jsx(l.Fragment,{children:a.map((b,g)=>l.jsxs("div",{className:`grid grid-cols-4 py-1 px-2 text-sm border-b border-zinc-800 ${g%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[l.jsx("div",{className:"text-zinc-100 font-medium flex items-center",children:b.mes}),l.jsx("div",{className:"text-cyan-400 text-right font-semibold flex items-center justify-end whitespace-nowrap",children:d(b.ingresos)}),l.jsx("div",{className:"text-red-400 text-right font-semibold flex items-center justify-end whitespace-nowrap",children:d(b.gastos)}),l.jsx("div",{className:`text-right font-semibold flex items-center justify-end whitespace-nowrap ${b.total>=0?"text-emerald-400":"text-red-400"}`,children:d(b.total)})]},g))})]}),l.jsxs("div",{className:"bg-[#10172D] grid grid-cols-4 py-1.5 px-2 text-sm font-semibold border-t border-zinc-800",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-zinc-100 font-bold uppercase tracking-wide",children:"Total"})}),l.jsx("div",{className:"text-cyan-300 text-right font-bold flex items-center justify-end whitespace-nowrap",children:d(h.ingresosTotal)}),l.jsx("div",{className:"text-red-400 text-right font-bold flex items-center justify-end whitespace-nowrap",children:d(h.gastosTotal)}),l.jsx("div",{className:`text-right font-bold flex items-center justify-end whitespace-nowrap ${h.totalGeneral>=0?"text-emerald-400":"text-red-400"}`,children:d(h.totalGeneral)})]})]}),l.jsx("div",{className:"flex justify-center pt-0.5",children:l.jsxs("button",{onClick:x,className:"bg-[#14225A] text-white font-semibold py-3 px-6 rounded-xl flex items-center gap-2 hover:bg-[#1b2c78] transition-colors shadow-lg",children:[l.jsx(_I,{}),l.jsx("span",{children:"Generar Informe PDF"})]})})]})},EI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),jI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),CI=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],kI=({navigateTo:e})=>{const[t,r]=W.useState(new Date().getMonth()),[n,a]=W.useState(new Date().getFullYear()),[s,c]=W.useState([]),[u,d]=W.useState([]),[h,m]=W.useState([]),[x,b]=W.useState(!0);W.useEffect(()=>{(async()=>{try{b(!0);const[C,L,X]=await Promise.all([C5(t,n),md(t,n),L5(t,n)]);c(C),d(L),m(X)}catch(C){console.error("Error loading monthly detailed data:",C)}finally{b(!1)}})()},[t,n]);const g=ri,T=W.useMemo(()=>{const F=new Set;s.forEach(Q=>F.add(g(Q.fechaHora).getDate())),h.forEach(Q=>F.add(g(Q.fechaInicio).getDate()));const C=F.size,L=s.length,I=new Set(h.map(Q=>Q.id)).size,U=s.filter(Q=>Q.formaPago==="Tarjeta").reduce((Q,me)=>Q+(Number(me.cobrado)||0),0),K=s.filter(Q=>!!Q.emisora).reduce((Q,me)=>Q+(Number(me.cobrado)||0),0),H=s.filter(Q=>Q.formaPago==="Vales").reduce((Q,me)=>Q+(Number(me.cobrado)||0),0),oe=s.filter(Q=>Q.formaPago==="Tarjeta").length,O=s.filter(Q=>!!Q.emisora).length,R=s.filter(Q=>Q.formaPago==="Vales").length,V=s.reduce((Q,me)=>{const de=Math.max(0,(Number(me.cobrado)||0)-(Number(me.taximetro)||0));return Q+de},0),re=s.filter(Q=>!!Q.aeropuerto).reduce((Q,me)=>Q+(Number(me.cobrado)||0),0);let le=0;h.forEach(Q=>{const me=ri(Q.fechaInicio),de=ri(Q.fechaFin);if(me&&de){const ye=de.getTime()-me.getTime();ye>0&&(le+=ye)}});const Z=Math.round(le/(1e3*60*60)*10)/10;let ie=0;h.forEach(Q=>{const me=gr(Q.kilometrosInicio),de=gr(Q.kilometrosFin);de>me&&(ie+=de-me)});const J=0,Y=u.filter(Q=>{var Ce;const me=((Ce=Q.concepto)==null?void 0:Ce.toLowerCase())||"",de=me.includes("combustible")||me.includes("carburante")||me.includes("gasolin")||me.includes("gasoil")||me.includes("disel")||me.includes("diesel")||me.includes("repost"),ye=gr(Q.litros)>0||gr(Q.kmParciales)>0;return de||ye}),se=Y.reduce((Q,me)=>Q+gr(me.importe),0),P=Y.reduce((Q,me)=>Q+gr(me.litros),0);let N=ie;N<=0&&(N=Y.reduce((Q,me)=>Q+gr(me.kmParciales),0));const k=N>0&&P>0?P/N*100:0,D=s.reduce((Q,me)=>Q+gr(me.cobrado),0),M=u.reduce((Q,me)=>Q+(Number(me.importe)||0),0),q=D-M;return{dias:C,carreras:L,turno1:I,sumaTarjeta:U,sumaEmisora:K,sumaVales:H,countTarjeta:oe,countEmisora:O,countVales:R,propinas:V,aeropuerto:re,horas:Z,kilometros:ie,ingresosVarios:J,combustible:se,litros100:k,neto:D,gastos:M,total:q}},[s,u,h]),w=F=>{let C=t+F,L=n;C<0?(C=11,L--):C>11&&(C=0,L++),r(C),a(L)},_=F=>F===0?" ":F.toFixed(2).replace(".",","),E=F=>F===0?" ":F.toString();return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 flex flex-col p-3 space-y-2",style:{maxHeight:"100vh",overflow:"hidden"},children:[l.jsx(ia,{title:"Mensual Detallado",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),l.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[l.jsx("button",{onClick:()=>w(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(EI,{})}),l.jsxs("span",{className:"text-zinc-100 font-medium text-sm tracking-wide",children:[CI[t]," ",n]}),l.jsx("button",{onClick:()=>w(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(jI,{})})]}),l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl px-5 py-1.5 flex items-center justify-between",children:[l.jsx("h2",{className:"text-cyan-300 font-semibold text-sm uppercase tracking-wide",children:"Resumen"}),l.jsxs("div",{className:"bg-emerald-500 rounded-xl px-4 py-1.5 shadow-md flex items-center gap-2",children:[l.jsx("span",{className:"text-emerald-950 font-semibold text-xs uppercase",children:"Total"}),l.jsxs("span",{className:"text-white font-bold text-base",children:[_(T.total)," "]})]})]}),x?l.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-500",children:"Cargando..."}):l.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:l.jsxs("div",{className:"grid grid-cols-3 gap-1 h-full",style:{gridAutoRows:"minmax(56px, auto)"},children:[l.jsx(fi,{label:"Das",value:E(T.dias)}),l.jsx(fi,{label:"Carreras",value:E(T.carreras)}),l.jsx(fi,{label:"Turnos",value:E(T.turno1)}),l.jsx(fi,{label:"S. Tarjeta",value:_(T.sumaTarjeta)}),l.jsx(fi,{label:"S. Emisora",value:_(T.sumaEmisora)}),l.jsx(fi,{label:"S.Vales",value:_(T.sumaVales)}),l.jsx(fi,{label:"C. Tarjeta",value:E(T.countTarjeta)}),l.jsx(fi,{label:"C. Emisora",value:E(T.countEmisora)}),l.jsx(fi,{label:"C.Vales",value:E(T.countVales)}),l.jsx(fi,{label:"Propinas",value:_(T.propinas)}),l.jsx(fi,{label:"Aeropuertos",value:_(T.aeropuerto)}),l.jsx(fi,{label:"Horas",value:E(T.horas)}),l.jsx(fi,{label:"Kilometros",value:E(T.kilometros)}),l.jsx(fi,{label:"L/100",value:T.litros100>0?T.litros100.toFixed(2).replace(".",","):" "}),l.jsx(fi,{label:"Combustible",value:_(T.combustible)}),l.jsx(fi,{label:"NETO",value:_(T.neto)}),l.jsx(fi,{label:"GASTOS",value:_(T.gastos)}),l.jsx(fi,{label:"TOTAL",value:_(T.total)})]})})]})},fi=({label:e,value:t})=>l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-2 flex flex-col justify-center min-h-[56px]",children:[l.jsx("div",{className:"text-cyan-300 text-xs font-semibold uppercase tracking-wide mb-0.5",children:e}),l.jsx("div",{className:"text-zinc-100 text-sm font-semibold",children:t||""})]}),DI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),LI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),zI=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],FI=({navigateTo:e,navigateToEditGasto:t})=>{const[r,n]=W.useState(new Date().getMonth()),[a,s]=W.useState(new Date().getFullYear()),[c,u]=W.useState([]),[d,h]=W.useState(!0);W.useEffect(()=>(console.log(" Suscribindose a gastos del mes:",r+1,a),h(!0),S8(r,a,_=>{console.log(" Gastos actualizados en tiempo real:",_.length,"gastos"),_.length>0&&console.log(" Primer gasto:",{id:_[0].id,importe:_[0].importe,concepto:_[0].concepto,proveedor:_[0].proveedor,taller:_[0].taller,fecha:_[0].fecha}),u(_),h(!1)},_=>{console.error(" Error en suscripcin de gastos:",_),h(!1)}),()=>{console.log(" Desuscribindose de gastos del mes")}),[r,a]);const m=W.useMemo(()=>c.reduce((_,E)=>_+(E.importe||0),0),[c]),x=_=>{let E=r+_,F=a;E<0?(E=11,F--):E>11&&(E=0,F++),n(E),s(F)},b=_=>_===0?" ":_.toFixed(2).replace(".",","),g=_=>{if(!_)return new Date;if(_ instanceof Date)return isNaN(_.getTime())?new Date:_;const E=new Date(_);return isNaN(E.getTime())?new Date:E},T=_=>{const E=g(_),F=E.getDate().toString().padStart(2,"0"),C=(E.getMonth()+1).toString().padStart(2,"0");return`${F}/${C}`},w=W.useMemo(()=>[...c].sort((_,E)=>{const F=g(_.fecha);return g(E.fecha).getTime()-F.getTime()}),[c]);return l.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col p-3 space-y-1.5",children:[l.jsx(ia,{title:"Resumen de Gastos",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),l.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[l.jsx("button",{onClick:()=>x(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(DI,{})}),l.jsxs("span",{className:"text-zinc-100 font-semibold text-base tracking-wide",children:[zI[r]," ",a]}),l.jsx("button",{onClick:()=>x(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(LI,{})})]}),l.jsxs("div",{className:"bg-[#14225A] grid grid-cols-12 py-1.5 px-4 text-white font-bold text-sm rounded-xl",children:[l.jsx("div",{className:"col-span-2 text-center",children:"Da"}),l.jsx("div",{className:"col-span-2 text-center",children:""}),l.jsx("div",{className:"col-span-4 text-center",children:"Concepto"}),l.jsx("div",{className:"col-span-4 text-center",children:"Proveedor"})]}),l.jsx("div",{className:"bg-zinc-900 flex-1 overflow-y-auto rounded-xl border border-zinc-800",children:d?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):w.length===0?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay gastos para este mes"}):l.jsx(l.Fragment,{children:w.map((_,E)=>l.jsxs("div",{onClick:()=>{t&&t(_.id)},className:`grid grid-cols-12 py-1.5 px-4 text-sm border-b border-zinc-800 cursor-pointer hover:bg-zinc-800 transition-colors ${E%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[l.jsx("div",{className:"col-span-2 text-zinc-100 text-center",children:T(_.fecha)}),l.jsx("div",{className:"col-span-2 text-red-400 font-medium text-center",children:b(_.importe||0)}),l.jsx("div",{className:"col-span-4 text-zinc-100 text-center",children:_.concepto||_.taller||"-"}),l.jsx("div",{className:"col-span-4 text-zinc-100 text-center",children:_.proveedor||_.taller||"-"})]},_.id))})}),l.jsxs("div",{className:"bg-[#14225A] py-2 px-4 flex items-center justify-between rounded-xl",children:[l.jsx("span",{className:"text-white font-bold text-sm",children:"Total del Mes:"}),l.jsxs("span",{className:"text-red-400 font-bold text-sm",children:[b(m),""]})]})]})},OI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),RI=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),MI=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],II=({navigateTo:e})=>{const[t,r]=W.useState(new Date().getMonth()),[n,a]=W.useState(new Date().getFullYear()),[s,c]=W.useState([]),[u,d]=W.useState([]),[h,m]=W.useState([]),[x,b]=W.useState(!0);W.useEffect(()=>{(async()=>{try{b(!0);const C=new Date(n,t,1),L=new Date(n,t+1,0,23,59,59,999),[X,I,U]=await Promise.all([C5(t,n),Bu(C,L),md(t,n)]);c(X),d(I),m(U)}catch(C){console.error("Error loading monthly data:",C)}finally{b(!1)}})()},[t,n]);const g=W.useMemo(()=>{const F={},C=L=>{if(L instanceof Date)return L;if(!L)return new Date(0);const X=new Date(L);return isNaN(X.getTime())?new Date(0):X};return s.forEach(L=>{const X=C(L.fechaHora),I=X.toISOString().split("T")[0];F[I]||(F[I]={fecha:new Date(X.getFullYear(),X.getMonth(),X.getDate()),ingresos:0,gastos:0}),F[I].ingresos+=L.cobrado||0}),u.forEach(L=>{const X=C(L.fecha),I=X.toISOString().split("T")[0];F[I]||(F[I]={fecha:new Date(X.getFullYear(),X.getMonth(),X.getDate()),ingresos:0,gastos:0}),F[I].ingresos+=L.importe||0}),h.forEach(L=>{const X=C(L.fecha),I=X.toISOString().split("T")[0];F[I]||(F[I]={fecha:new Date(X.getFullYear(),X.getMonth(),X.getDate()),ingresos:0,gastos:0}),F[I].gastos+=L.importe||0}),Object.values(F).sort((L,X)=>L.fecha.getTime()-X.fecha.getTime())},[s,h]),T=W.useMemo(()=>{const F=s.reduce((X,I)=>X+(I.cobrado||0),0),C=u.reduce((X,I)=>X+(I.importe||0),0),L=h.reduce((X,I)=>X+(I.importe||0),0);return F+C-L},[s,u,h]),w=F=>{let C=t+F,L=n;C<0?(C=11,L--):C>11&&(C=0,L++),r(C),a(L)},_=F=>F===0?" ":F.toFixed(2).replace(".",","),E=F=>{const C=F.getDate().toString().padStart(2,"0"),L=(F.getMonth()+1).toString().padStart(2,"0");return`${C}/${L}`};return l.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col p-3 space-y-1.5",children:[l.jsx(ia,{title:"Resumen Mensual",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),l.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[l.jsx("button",{onClick:()=>w(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(OI,{})}),l.jsxs("span",{className:"text-zinc-100 font-semibold text-base tracking-wide",children:[MI[t]," ",n]}),l.jsx("button",{onClick:()=>w(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:l.jsx(RI,{})})]}),l.jsxs("div",{className:"bg-[#14225A] grid grid-cols-12 py-1.5 px-4 text-white font-bold text-sm rounded-xl",children:[l.jsx("div",{className:"col-span-2",children:"Das"}),l.jsx("div",{className:"col-span-2 text-right",children:"Ingresos"}),l.jsx("div",{className:"col-span-4 text-right",children:"Gastos"}),l.jsx("div",{className:"col-span-4 text-right",children:"Total"})]}),l.jsx("div",{className:"bg-zinc-900 flex-1 overflow-y-auto rounded-xl border border-zinc-800",children:x?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):g.length===0?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay datos para este mes"}):l.jsx(l.Fragment,{children:g.map((F,C)=>{const L=F.ingresos-F.gastos;return l.jsxs("div",{className:`grid grid-cols-12 py-1.5 px-4 text-sm border-b border-zinc-800 ${C%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[l.jsx("div",{className:"col-span-2 text-zinc-100",children:E(F.fecha)}),l.jsx("div",{className:"col-span-2 text-right text-cyan-400 font-medium",children:_(F.ingresos)}),l.jsx("div",{className:"col-span-4 text-right text-red-400 font-medium",children:_(F.gastos)}),l.jsx("div",{className:"col-span-4 text-right font-medium",children:L===0?l.jsx("span",{}):L>=0?l.jsx("span",{className:"text-emerald-400",children:_(L)}):l.jsx("span",{className:"text-red-400",children:_(L)})})]},C)})})}),l.jsxs("div",{className:"bg-[#10172D] py-2 px-4 flex items-center justify-between rounded-xl",children:[l.jsx("span",{className:"text-white font-bold text-sm",children:"Total del Mes:"}),l.jsxs("span",{className:`font-bold text-sm ${T>=0?"text-emerald-400":"text-red-400"}`,children:[_(T),""]})]})]})},PI=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],BI=({navigateTo:e})=>{const[t,r]=W.useState(new Date().getFullYear()),[n,a]=W.useState(!0),[s,c]=W.useState([]);W.useEffect(()=>{(async()=>{a(!0);try{const[x,b,g,T]=await Promise.all([qi(),Cs(),Oc(),p1()]),w=PI.map((_,E)=>{const F=x.filter(M=>{const q=new Date(M.fechaHora);return q.getFullYear()===t&&q.getMonth()===E}),C=b.filter(M=>{const q=new Date(M.fecha);return q.getFullYear()===t&&q.getMonth()===E}),L=g.filter(M=>{const q=new Date(M.fechaInicio);return q.getFullYear()===t&&q.getMonth()===E}),X=T.filter(M=>{const q=new Date(M.fecha);return q.getFullYear()===t&&q.getMonth()===E}),I=F.reduce((M,q)=>M+gr(q.cobrado),0),U=X.reduce((M,q)=>M+gr(q.importe),0),K=I+U,H=C.reduce((M,q)=>M+gr(q.importe),0),oe=K-H,O=new Set;F.forEach(M=>{const q=ri(M.fechaHora);q&&O.add(q.getDate())}),L.forEach(M=>{const q=ri(M.fechaInicio);q&&O.add(q.getDate())});const R=L.reduce((M,q)=>{const Q=gr(q.kilometrosInicio),me=gr(q.kilometrosFin);return M+Math.max(0,me-Q)},0),V=F.length,re=F.filter(M=>M.formaPago==="Tarjeta").reduce((M,q)=>M+gr(q.cobrado),0),le=F.filter(M=>!!M.emisora).reduce((M,q)=>M+gr(q.cobrado),0),Z=F.filter(M=>M.formaPago==="Vales").reduce((M,q)=>M+gr(q.cobrado),0),ie=F.filter(M=>M.formaPago==="Tarjeta").length,J=F.filter(M=>!!M.emisora).length,Y=F.filter(M=>M.formaPago==="Vales").length,se=F.reduce((M,q)=>M+Math.max(0,gr(q.cobrado)-gr(q.taximetro)),0),P=C.filter(M=>{var de;const q=((de=M.concepto)==null?void 0:de.toLowerCase())||"",Q=q.includes("combustible")||q.includes("carburante")||q.includes("gasolin")||q.includes("repost"),me=gr(M.litros)>0||gr(M.kmParciales)>0;return Q||me}),N=P.reduce((M,q)=>M+gr(q.litros),0);let k=R;k<=0&&(k=P.reduce((M,q)=>M+gr(q.kmParciales),0));const D=k>0&&N>0?N/k*100:0;return{nombre:_,ingreso:K,egreso:H,total:oe,dias:O.size,kilometros:R,carreras:V,cTarjeta:ie,cEmisora:J,vVales:Y,sTarjeta:re,sEmisora:le,sVales:Z,litros100:D,propinas:se,turno1:L.length}});c(w)}catch(x){console.error("Error loading yearly data:",x)}finally{a(!1)}})()},[t]);const u=m=>m===0||!m?" ":m.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}),d=m=>m===0||!m?" ":m.toLocaleString("es-ES"),h=(m,x=1)=>m===0||!m?" ":m.toFixed(x).replace(".",",");return l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 flex flex-col p-4 bg-gradient-to-br from-zinc-950 to-zinc-900",children:[l.jsx(ia,{title:"Resumen Anual Detallado",navigateTo:e,backTarget:mt.Informes}),l.jsx("div",{className:"flex items-center justify-between mb-4 mt-2",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>r(m=>m-1),className:"bg-zinc-800 p-2 rounded-lg hover:bg-zinc-700 transition-colors",children:""}),l.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:t}),l.jsx("button",{onClick:()=>r(m=>m+1),className:"bg-zinc-800 p-2 rounded-lg hover:bg-zinc-700 transition-colors",children:""})]})}),l.jsx("div",{className:"flex-1 overflow-auto rounded-xl border border-zinc-800 shadow-2xl bg-zinc-900/50 backdrop-blur-sm relative",children:l.jsxs("table",{className:"w-full text-[10px] text-left border-separate border-spacing-0 min-w-[1000px]",children:[l.jsx("thead",{className:"sticky top-0 bg-zinc-950 z-30",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 border-b border-r border-zinc-700 font-bold uppercase tracking-wider sticky left-0 z-40 bg-zinc-950 min-w-[80px]",children:"Mes"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"Ing."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"Gast."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"Benef."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"Das"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"Kms"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"Carr."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"C.Tarj."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"C.Ems."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"Vales"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"S.Tarj."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"S.Ems."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"S.Vales"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"L/100"}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-right font-bold uppercase tracking-wider bg-zinc-900",children:"Prop."}),l.jsx("th",{className:"p-2 border-b border-zinc-700 text-center font-bold uppercase tracking-wider bg-zinc-900",children:"T1"})]})}),l.jsx("tbody",{className:"divide-y divide-zinc-800",children:n?l.jsx("tr",{children:l.jsx("td",{colSpan:16,className:"p-8 text-center text-zinc-500",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Procesando datos anuales..."})]})})}):s.map((m,x)=>l.jsxs("tr",{className:"hover:bg-zinc-800/50 transition-colors group",children:[l.jsx("td",{className:"p-2 font-semibold text-zinc-300 group-hover:text-cyan-400 sticky left-0 z-20 bg-zinc-950 border-r border-zinc-800 shadow-[2px_0_5px_rgba(0,0,0,0.3)]",children:m.nombre}),l.jsx("td",{className:"p-2 text-right font-bold text-cyan-400",children:u(m.ingreso)}),l.jsx("td",{className:"p-2 text-right font-bold text-pink-500",children:u(m.egreso)}),l.jsx("td",{className:`p-2 text-right font-bold ${m.total>=0?"text-emerald-400":"text-red-500"}`,children:u(m.total)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.dias)}),l.jsx("td",{className:"p-2 text-right text-zinc-400",children:d(m.kilometros)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.carreras)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.cTarjeta)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.cEmisora)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.vVales)}),l.jsx("td",{className:"p-2 text-right text-zinc-400",children:u(m.sTarjeta)}),l.jsx("td",{className:"p-2 text-right text-zinc-400",children:u(m.sEmisora)}),l.jsx("td",{className:"p-2 text-right text-zinc-400",children:u(m.sVales)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:h(m.litros100,2)}),l.jsx("td",{className:"p-2 text-right text-zinc-400",children:u(m.propinas)}),l.jsx("td",{className:"p-2 text-center text-zinc-400",children:d(m.turno1)})]},x))}),!n&&l.jsxs("tfoot",{className:"sticky bottom-0 z-30",children:[l.jsxs("tr",{className:"bg-zinc-800 text-cyan-400 font-bold border-t-2 border-cyan-500/50",children:[l.jsx("td",{className:"p-2 uppercase sticky left-0 z-20 bg-zinc-800 border-r border-cyan-500/50",children:"TOTAL"}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+x.ingreso,0))}),l.jsx("td",{className:"p-2 text-right text-pink-400",children:u(s.reduce((m,x)=>m+x.egreso,0))}),l.jsx("td",{className:"p-2 text-right text-emerald-400",children:u(s.reduce((m,x)=>m+x.total,0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.dias||0),0))}),l.jsx("td",{className:"p-2 text-right",children:d(s.reduce((m,x)=>m+(x.kilometros||0),0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.carreras||0),0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.cTarjeta||0),0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.cEmisora||0),0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.vVales||0),0))}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sTarjeta||0),0))}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sEmisora||0),0))}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sVales||0),0))}),l.jsx("td",{className:"p-2 text-center",children:h(s.filter(m=>m.litros100>0).reduce((m,x)=>m+x.litros100,0)/(s.filter(m=>m.litros100>0).length||1),2)}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.propinas||0),0))}),l.jsx("td",{className:"p-2 text-center",children:d(s.reduce((m,x)=>m+(x.turno1||0),0))})]}),l.jsxs("tr",{className:"bg-zinc-950 text-zinc-400 font-semibold border-t border-zinc-800 text-[9px]",children:[l.jsx("td",{className:"p-2 uppercase sticky left-0 z-20 bg-zinc-950 border-r border-zinc-800",children:"MEDIA"}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+x.ingreso,0)/12)}),l.jsx("td",{className:"p-2 text-right text-pink-400/80",children:u(s.reduce((m,x)=>m+x.egreso,0)/12)}),l.jsx("td",{className:"p-2 text-right text-emerald-400/80",children:u(s.reduce((m,x)=>m+(x.total||0),0)/12)}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.dias||0),0)/12,1)}),l.jsx("td",{className:"p-2 text-right",children:d(Math.round(s.reduce((m,x)=>m+(x.kilometros||0),0)/12))}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.carreras||0),0)/12,1)}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.cTarjeta||0),0)/12,1)}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.cEmisora||0),0)/12,1)}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.vVales||0),0)/12,1)}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sTarjeta||0),0)/12)}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sEmisora||0),0)/12)}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.sVales||0),0)/12)}),l.jsx("td",{className:"p-2 text-center",children:h(s.filter(m=>(m.litros100??0)>0).reduce((m,x)=>m+(x.litros100??0),0)/(s.filter(m=>(m.litros100??0)>0).length||1),2)}),l.jsx("td",{className:"p-2 text-right",children:u(s.reduce((m,x)=>m+(x.propinas||0),0)/12)}),l.jsx("td",{className:"p-2 text-center",children:h(s.reduce((m,x)=>m+(x.turno1||0),0)/12,1)})]})]})]})}),!n&&l.jsxs("div",{className:"mt-4 bg-zinc-900/80 p-4 rounded-xl border border-zinc-800 flex flex-wrap gap-6 justify-center text-sm shadow-inner",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-zinc-500 text-xs uppercase font-bold tracking-widest mb-1",children:"Total Ao"}),l.jsxs("span",{className:"text-cyan-400 font-extrabold text-xl",children:[u(s.reduce((m,x)=>m+x.ingreso,0)),""]})]}),l.jsx("div",{className:"w-px h-10 bg-zinc-800 hidden sm:block"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-zinc-500 text-xs uppercase font-bold tracking-widest mb-1",children:"Beneficio Anual"}),l.jsxs("span",{className:"text-emerald-400 font-extrabold text-xl",children:[u(s.reduce((m,x)=>m+x.total,0)),""]})]})]})]})},tA=W.createContext(void 0),UI=({children:e})=>{const[t,r]=W.useState(()=>{const a=localStorage.getItem("tamanoFuente")??localStorage.getItem("tamoFuente");return a?parseFloat(a):12});W.useEffect(()=>{document.documentElement.style.setProperty("--base-font-size",`${t}px`),localStorage.setItem("tamanoFuente",t.toString()),localStorage.removeItem("tamoFuente")},[t]);const n=a=>{r(a)};return l.jsx(tA.Provider,{value:{fontSize:t,setFontSize:n},children:e})},HI=()=>{const e=W.useContext(tA);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e},ns=e=>{if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(ns);if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(r=>{t[r]=ns(e[r])}),t}return e},rA=async()=>{const e=async(w,_)=>{var E;try{return await w()}catch(F){if((F==null?void 0:F.code)==="permission-denied"||(E=F==null?void 0:F.message)!=null&&E.includes("permission"))return console.warn(`Error de permisos al obtener datos: ${F.message}`),_;throw F}},[t,r,n,a,s,c,u,d,h,m,x,b,g]=await Promise.all([e(()=>pd(),null),e(()=>z5(),null),e(()=>x1(),[]),e(()=>qi(),[]),e(()=>Cs(),[]),e(()=>Oc(),[]),e(()=>h1(),[]),e(()=>Gp(),[]),e(()=>m1(),[]),e(()=>Rh(),[]),e(()=>E5(),[]),e(()=>Ym(),[]),e(()=>p1(),[])]);return{meta:{app:"TAppXI",version:"1.0",createdAt:new Date().toISOString()},ajustes:t?ns(t):null,breakConfiguration:r?ns(r):null,excepciones:n?ns(n):[],carreras:a?ns(a):[],gastos:s?ns(s):[],turnos:c?ns(c):[],proveedores:u?ns(u):[],conceptos:d?ns(d):[],talleres:h?ns(h):[],vales:m?ns(m):[],reminders:x?ns(x):[],customReports:b?ns(b):[],otrosIngresos:g?ns(g):[]}},VI=async()=>{const e=await rA(),t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json;charset=utf-8"}),n=URL.createObjectURL(r),a=document.createElement("a"),s=new Date().toISOString().replace(/[:.]/g,"-");a.href=n,a.download=`tappxi-backup-${s}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},Fv=async(e,t)=>{if(!e||!e.meta||!e.meta.app)throw new Error("El archivo no parece ser un backup vlido de TAppXI.");const r={carreras:0,gastos:0,turnos:0},n=13;let a=0;const s=c=>{if(t){const u=Math.round(a/n*100);t(u,c)}};if(s("Limpiando base de datos actual..."),await q_(),s("Restaurando ajustes..."),e.ajustes&&(await op(e.ajustes,!0),e.ajustes.tamoFuente&&!e.ajustes.tamanoFuente&&await op({tamanoFuente:e.ajustes.tamoFuente},!0)),a++,s("Restaurando configuracin..."),e.breakConfiguration&&await F5(e.breakConfiguration,!0),a++,s("Restaurando carreras..."),e.carreras&&Array.isArray(e.carreras)){const c=e.carreras.length;for(let u=0;u<c;u++){const d=e.carreras[u],h={...d,fechaHora:ri(d.fechaHora),taximetro:gr(d.taximetro),cobrado:gr(d.cobrado)};await D8(h,!0),r.carreras++,u%10===0&&t&&t(Math.round(2/n*100+u/c*(100/n)),`Restaurando carreras (${u+1}/${c})...`)}}if(a++,s("Restaurando gastos..."),e.gastos&&Array.isArray(e.gastos)){const c=e.gastos.length;for(let u=0;u<c;u++){const d=e.gastos[u],h={...d,fecha:ri(d.fecha),importe:gr(d.importe),baseImponible:gr(d.baseImponible),ivaImporte:gr(d.ivaImporte),ivaPorcentaje:gr(d.ivaPorcentaje),kilometros:gr(d.kilometros),kmParciales:gr(d.kmParciales),litros:gr(d.litros),descuento:gr(d.descuento)};await L8(h,!0),r.gastos++,u%10===0&&t&&t(Math.round(3/n*100+u/c*(100/n)),`Restaurando gastos (${u+1}/${c})...`)}}if(a++,s("Restaurando turnos..."),e.turnos&&Array.isArray(e.turnos)){const c=e.turnos.length;for(let u=0;u<c;u++){const d=e.turnos[u],h={...d,fechaInicio:ri(d.fechaInicio),fechaFin:d.fechaFin?ri(d.fechaFin):void 0,kilometrosInicio:gr(d.kilometrosInicio),kilometrosFin:d.kilometrosFin?gr(d.kilometrosFin):void 0};await z8(h,!0),r.turnos++,u%10===0&&t&&t(Math.round(4/n*100+u/c*(100/n)),`Restaurando turnos (${u+1}/${c})...`)}}if(a++,s("Restaurando proveedores..."),e.proveedores&&Array.isArray(e.proveedores)){const c=e.proveedores.length;for(let u=0;u<c;u++)await F8(e.proveedores[u],!0),u%10===0&&t&&t(Math.round(5/n*100+u/c*(100/n)),`Restaurando proveedores (${u+1}/${c})...`)}if(a++,s("Restaurando conceptos..."),e.conceptos&&Array.isArray(e.conceptos)){const c=e.conceptos.length;for(let u=0;u<c;u++)await O8(e.conceptos[u],!0),u%10===0&&t&&t(Math.round(6/n*100+u/c*(100/n)),`Restaurando conceptos (${u+1}/${c})...`)}if(a++,s("Restaurando talleres..."),e.talleres&&Array.isArray(e.talleres)){const c=e.talleres.length;for(let u=0;u<c;u++)await R8(e.talleres[u],!0),u%10===0&&t&&t(Math.round(7/n*100+u/c*(100/n)),`Restaurando talleres (${u+1}/${c})...`)}if(a++,s("Restaurando excepciones..."),e.excepciones&&Array.isArray(e.excepciones)){const c=e.excepciones.length;for(let u=0;u<c;u++)await C8(e.excepciones[u],!0),u%10===0&&t&&t(Math.round(8/n*100+u/c*(100/n)),`Restaurando excepciones (${u+1}/${c})...`)}if(a++,s("Restaurando directorio de vales..."),e.vales&&Array.isArray(e.vales)){const c=e.vales.length;for(let u=0;u<c;u++)await M8(e.vales[u],!0),u%10===0&&t&&t(Math.round(9/n*100+u/c*(100/n)),`Restaurando vales (${u+1}/${c})...`)}if(a++,s("Restaurando recordatorios..."),e.reminders&&Array.isArray(e.reminders)){const c=e.reminders.length;for(let u=0;u<c;u++)await I8(e.reminders[u],!0),u%10===0&&t&&t(Math.round(10/n*100+u/c*(100/n)),`Restaurando recordatorios (${u+1}/${c})...`)}if(a++,s("Restaurando reportes personalizados..."),e.customReports&&Array.isArray(e.customReports)){const c=e.customReports.length;for(let u=0;u<c;u++)await w9(e.customReports[u],!0),u%10===0&&t&&t(Math.round(11/n*100+u/c*(100/n)),`Restaurando reportes (${u+1}/${c})...`)}if(a++,s("Restaurando otros ingresos..."),e.otrosIngresos&&Array.isArray(e.otrosIngresos)){const c=e.otrosIngresos.length;for(let u=0;u<c;u++)await v8(e.otrosIngresos[u],!0),u%10===0&&t&&t(Math.round(12/n*100+u/c*(100/n)),`Restaurando otros ingresos (${u+1}/${c})...`)}return a++,t&&t(100,"Restauracin completada."),r},uf=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("es-ES")},k2=e=>{if(!e)return"";const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})},GI=async()=>{try{const e=await rA(),t=new Date().toISOString().split("T")[0],r=["Carreras","Gastos","Detalle_Servicios","Turnos","Proveedores","Conceptos","Talleres","Ajustes","Excepciones","Directorio_Vales","Recordatorios","Informes_Personalizados","Otros_Ingresos","Vales_Carreras"],{spreadsheetId:n}=await V9(`TAppXI Export ${t}`,r);if(!n)throw new Error("No se recibi el ID de la hoja de clculo creada.");const a={carreras:["Fecha","Hora","Taxmetro","Cobrado","Forma Pago","Tipo","Emisora","Aeropuerto","Estacin","Notas","Empresa Vale","Cod. Empresa","N Despacho","N Albaran","Autoriza","ID Turno","ID"],gastos:["Fecha","Concepto","Proveedor","Taller","Base","IVA %","IVA ","Total","N Factura","Forma Pago","Km","Notas","ID"],servicios:["Gasto ID","Referencia","Descripcin","Importe","Cantidad","Desc. %","ID"],turnos:["Fecha Inicio","Hora Inicio","Km Inicio","Fecha Fin","Hora Fin","Km Fin","Km Recorridos","ID"],proveedores:["Nombre","NIF","Direccin","Telfono","ID"],conceptos:["Nombre","Descripcin","Categora","ID"],talleres:["Nombre","NIF","Direccin","Telfono","ID"],excepciones:["Fecha Desde","Fecha Hasta","Tipo","Nueva Letra","Nota","Descripcion","ID"],vales:["Empresa","Cdigo","Direccin","Telfono","ID"],recordatorios:["Ttulo","Tipo","Fecha Lmite","Km Lmite","Estado","ID"],informes:["Nombre","Configuracin (JSON)","ID"],ajustes:["Clave","Valor"],otrosIngresos:["Fecha","Concepto","Importe","Forma Pago","Notas","ID"],valesCarreras:["ID Carrera","Empresa","Cdigo","Despacho","Albarn","Autoriza","ID"]},s=[a.carreras],c=[a.valesCarreras];(e.carreras||[]).forEach(I=>{const U=new Date(I.fechaHora);s.push([uf(U),k2(U),I.taximetro||0,I.cobrado||0,I.formaPago||"",I.tipoCarrera||"Urbana",I.emisora?"S":"No",I.aeropuerto?"S":"No",I.estacion?"S":"No",I.notas||"",I.turnoId||"",I.id]),I.formaPago==="Vales"&&I.valeInfo&&c.push([I.id,I.valeInfo.empresa||"",I.valeInfo.codigoEmpresa||"",I.valeInfo.despacho||"",I.valeInfo.numeroAlbaran||"",I.valeInfo.autoriza||"",crypto.randomUUID()])});const u=[a.gastos],d=[a.servicios];(e.gastos||[]).forEach(I=>{u.push([uf(I.fecha),I.concepto||"",I.proveedor||"",I.taller||"",I.baseImponible||I.importe||0,I.ivaPorcentaje||0,I.ivaImporte||0,I.importe||0,I.numeroFactura||"",I.formaPago||"",I.kilometros||"",I.notas||"",I.id]),I.servicios&&Array.isArray(I.servicios)&&I.servicios.forEach(U=>{d.push([I.id,U.referencia||"",U.descripcion||"",U.importe||0,U.cantidad||1,U.descuentoPorcentaje||0,U.id||crypto.randomUUID()])})});const h=[a.turnos];(e.turnos||[]).forEach(I=>{const U=I.kilometrosFin&&I.kilometrosInicio?I.kilometrosFin-I.kilometrosInicio:"";h.push([uf(I.fechaInicio),k2(I.fechaInicio),I.kilometrosInicio,I.fechaFin?uf(I.fechaFin):"",I.fechaFin?k2(I.fechaFin):"",I.kilometrosFin||"",U,I.id])});const m=[a.proveedores];(e.proveedores||[]).forEach(I=>{m.push([I.nombre,I.nif||"",I.direccion||"",I.telefono||"",I.id])});const x=[a.conceptos];(e.conceptos||[]).forEach(I=>{x.push([I.nombre,I.descripcion||"",I.categoria||"",I.id])});const b=[a.talleres];(e.talleres||[]).forEach(I=>{b.push([I.nombre,I.nif||"",I.direccion||"",I.telefono||"",I.id])});const g=[a.excepciones];(e.excepciones||[]).forEach(I=>{g.push([uf(I.fechaDesde),uf(I.fechaHasta),I.tipo,I.nuevaLetra||"",I.nota||"",I.descripcion||"",I.id])});const T=[a.vales];(e.vales||[]).forEach(I=>{T.push([I.empresa,I.codigo||I.codigoEmpresa,I.direccion||"",I.telefono||"",I.id])});const w=[a.recordatorios];(e.reminders||[]).forEach(I=>{w.push([I.titulo,I.tipo,I.fechaLimite,I.kilometrosLimite||"",I.completado?"Completado":"Pendiente",I.id])});const _=[a.informes];(e.customReports||[]).forEach(I=>{const U={descripcion:I.descripcion,filtros:I.filtros,tipoExportacion:I.tipoExportacion,agrupacion:I.agrupacion,createdAt:I.createdAt,lastUsed:I.lastUsed};_.push([I.nombre,JSON.stringify(U),I.id])});const E=[a.ajustes],F={...e.ajustes||{}};e.breakConfiguration&&(F.breakConfiguration=e.breakConfiguration),Object.entries(F).forEach(([I,U])=>{E.push([I,JSON.stringify(U)])});const C=[a.otrosIngresos];(e.otrosIngresos||[]).forEach(I=>{C.push([uf(I.fecha),I.concepto||"",I.importe||0,I.formaPago||"",I.notas||"",I.id])});const L=[{title:"Carreras",rows:s},{title:"Gastos",rows:u},{title:"Detalle_Servicios",rows:d},{title:"Turnos",rows:h},{title:"Proveedores",rows:m},{title:"Conceptos",rows:x},{title:"Talleres",rows:b},{title:"Ajustes",rows:E},{title:"Excepciones",rows:g},{title:"Directorio_Vales",rows:T},{title:"Recordatorios",rows:w},{title:"Informes_Personalizados",rows:_},{title:"Otros_Ingresos",rows:C},{title:"Vales_Carreras",rows:c}];for(const I of L)I.rows.length>=1&&await G9(n,I.title,I.rows);const X=`https://docs.google.com/spreadsheets/d/${n}/edit`;return console.log(`Exportacin completa a Google Sheets. ID: ${n}`),{spreadsheetId:n,url:X}}catch(e){const t=(e==null?void 0:e.message)||String(e);console.error("Error detallado exportacin Sheets:",e);let r=`Error al exportar a Google Sheets: ${t}

`;throw t.includes("403")||t.includes("permission")||t.includes("unverified")?r+=`POSIBLE PROBLEMA DE PERMISOS:
Si ves una pantalla de "Aplicacin no verificada", haz clic en "Configuracin avanzada" y luego en "Ir a tappxi (no seguro)" para continuar.
Asegrate de haber concedido todos los permisos solicitados.`:r+=`Asegrate de:
1. Tener conexin a internet
2. Haber autorizado el acceso a Google Sheets
3. Tener espacio disponible en tu cuenta de Google`,new Error(r)}},qI=e=>{if(!e)return"";const t={taxmetro:"taximetro","cdigo empresa":"codigoEmpresa","n despacho":"despacho","n albaran":"numeroAlbaran","empresa vale":"empresa","cod. empresa":"codigoEmpresa","n albarn":"numeroAlbaran",base:"baseImponible","iva %":"ivaPorcentaje","iva ":"ivaImporte",total:"importe","n factura":"numeroFactura",km:"kilometros",telfono:"telefono",direccin:"direccion",categora:"categoria",descripcin:"descripcion",ttulo:"titulo","fecha lmite":"fechaLimite","km lmite":"kilometrosLimite","fecha desde":"fechaDesde","fecha hasta":"fechaHasta","nueva letra":"nuevaLetra","configuracin (json)":"configuracion","nif / cif":"nif","razn social":"nombre","direccin fiscal":"direccion",email:"email",clave:"clave",valor:"valor",estacin:"estacion","forma pago":"formaPago",tipo:"tipoCarrera",direccin_vales:"Vales",informes_personalizados:"CustomReports",detalle_servicios:"Servicios",vales_carreras:"Vales_Carreras","id carrera":"carreraId",albarn:"numeroAlbaran",cdigo:"codigoEmpresa","id turno":"turnoId",id:"id"},r=e.toLowerCase().trim();return t[r]?t[r]:r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"")},WI=e=>{if(!e||e.length<2)return[];const r=e[0].map(a=>qI(String(a)));return e.slice(1).map(a=>{const s={};return r.forEach((c,u)=>{if(!c)return;let d=a[u];if(d===void 0&&(d=null),typeof d=="string"&&(d.startsWith("{")||d.startsWith("[")))try{d=JSON.parse(d)}catch{}s[c]=d}),s})},$s=gr,Ll=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;if(typeof e=="string"){const t=e.trim();if(!t||t==="")return null;const r=/^(\d{1,2})\/(\d{1,2})\/(\d{2,4})/.exec(t);if(r){const[,a,s,c]=r;let u=parseInt(c);u<100&&(u=u<=50?2e3+u:1900+u);const d=new Date(u,parseInt(s)-1,parseInt(a));if(d.getFullYear()===u&&d.getMonth()===parseInt(s)-1&&d.getDate()===parseInt(a))return d;console.warn(`Invalid Spanish date: ${t} parsed to ${d.toISOString()}`)}const n=new Date(t);return isNaN(n.getTime())?(console.warn(`Failed to parse date: "${t}"`),null):n}if(typeof e=="number"){const t=new Date(e);return isNaN(t.getTime())?null:t}return null},$I=async(e,t)=>{try{console.log(`Iniciando restauracin desde Sheet ID: ${e}`),t&&t(0,"Descargando datos de Google Sheets...");const n=(await W9(e)).sheets.map(ae=>ae.properties.title),a=async(ae,he="A:Z")=>n.includes(ae)?q9(e,`${ae}!${he}`).catch(()=>[]):[],[s,c,u,d,h,m,x,b,g,T,w,_,E,F]=await Promise.all([a("Carreras"),a("Gastos"),a("Detalle_Servicios"),a("Turnos"),a("Proveedores"),a("Conceptos"),a("Talleres"),a("Ajustes","A:B"),a("Excepciones"),a("Directorio_Vales"),a("Recordatorios"),a("Informes_Personalizados"),a("Otros_Ingresos"),a("Vales_Carreras")]);t&&t(10,"Procesando datos...");const C=ae=>WI(ae),L=C(s),X=C(c),I=C(u),U=C(d),K=C(h),H=C(m),oe=C(x),O=C(g),R=C(T),V=C(w),re=C(_),le=C(E),Z=C(F),ie=(ae,he="fecha",Ze="hora")=>{const Oe=ae[he],Qe=ae[Ze];if(!Oe)return null;const Ue=Ll(Oe);if(!Ue)return null;if(Qe&&typeof Qe=="string"&&Qe.includes(":")){const[ct,rt]=Qe.split(":").map(Dt=>parseInt(Dt,10));!isNaN(ct)&&!isNaN(rt)&&Ue.setHours(ct,rt,0,0)}return Ue},J=L.map(ae=>{const he=ae.fechahora?Ll(ae.fechahora):ie(ae,"fecha","hora");let Ze=ae.valeinfo;if(!Ze&&(ae.empresa||ae.empresavale)&&(Ze={empresa:ae.empresa||ae.empresavale,codigoEmpresa:ae.codigoEmpresa||ae.codempresa||ae.codigo,despacho:ae.despacho||ae.ndespacho,numeroAlbaran:ae.numeroAlbaran||ae.nalbaran,autoriza:ae.autoriza}),!Ze){const Oe=Z.find(Qe=>Qe.carreraId===ae.id);Oe&&(Ze={empresa:Oe.empresa,codigoEmpresa:Oe.codigoEmpresa,despacho:Oe.despacho,numeroAlbaran:Oe.numeroAlbaran,autoriza:Oe.autoriza})}return{...ae,id:ae.id||crypto.randomUUID(),taximetro:$s(ae.taximetro),cobrado:$s(ae.cobrado),fechaHora:he,valeInfo:Ze,turnoId:ae.turnoId||ae.idturno||void 0,emisora:ae.emisora==="S"||ae.emisora===!0,aeropuerto:ae.aeropuerto==="S"||ae.aeropuerto===!0,estacion:ae.estacion==="S"||ae.estacion===!0}}).filter(ae=>ae.fechaHora?!0:(console.warn(`Skipping carrera ${ae.id}: invalid date`),!1)),Y=X.map(ae=>{const he=I.filter(Ze=>Ze.gastoid===ae.id).map(Ze=>({id:Ze.id||crypto.randomUUID(),referencia:Ze.referencia,descripcion:Ze.descripcion,importe:$s(Ze.importe),cantidad:$s(Ze.cantidad),descuentoPorcentaje:$s(Ze.descuentoPorcentaje||Ze["desc. %"])}));return{...ae,id:ae.id||crypto.randomUUID(),importe:$s(ae.importe||ae.total),baseImponible:$s(ae.baseimponible||ae.base),ivaImporte:$s(ae.ivaimporte||ae.ivae),ivaPorcentaje:$s(ae.ivaporcentaje||ae.ivaporc),kilometros:$s(ae.kilometros||ae.km),fecha:Ll(ae.fecha),servicios:he.length>0?he:ae.servicios||[]}}).filter(ae=>ae.fecha?!0:(console.warn(`Skipping gasto ${ae.id}: invalid date`),!1)),se=U.map(ae=>{const he=ae.fechainicio?Ll(ae.fechainicio):ie(ae,"fechainicio","horainicio"),Ze=ae.fechafin?Ll(ae.fechafin):ie(ae,"fechafin","horafin");return{...ae,id:ae.id||crypto.randomUUID(),kilometrosInicio:$s(ae.kilometrosinicio||ae.kminicio),kilometrosFin:ae.kilometrosfin||ae.kmfin?$s(ae.kilometrosfin||ae.kmfin):null,fechaInicio:he,fechaFin:Ze||null}}).filter(ae=>ae.fechaInicio?!0:(console.warn(`Skipping turno ${ae.id}: invalid start date`),!1)),P=ae=>{if(ae==null)return null;if(Array.isArray(ae))return ae.map(P);if(typeof ae=="object"){const he={};for(const Ze in ae)ae[Ze]!==void 0&&(he[Ze]=P(ae[Ze]));return he}return ae};let N=null;if(b.length>1){N={};for(let ae=1;ae<b.length;ae++){const[he,Ze]=b[ae];if(he){const Oe=he.split(".");let Qe=N;for(let ct=0;ct<Oe.length-1;ct++)Qe[Oe[ct]]||(Qe[Oe[ct]]={}),Qe=Qe[Oe[ct]];let Ue=Ze;if(typeof Ze=="string"&&(Ze.startsWith("{")||Ze.startsWith("[")))try{Ue=JSON.parse(Ze)}catch{}Qe[Oe[Oe.length-1]]=Ue}}N=P(N)}let k=(N==null?void 0:N.breakConfiguration)||null;N&&N.breakConfiguration&&delete N.breakConfiguration;const D=O.map(ae=>({...ae,id:ae.id||crypto.randomUUID(),fechaDesde:Ll(ae.fechadesde),fechaHasta:Ll(ae.fechahasta)||Ll(ae.fechadesde),createdAt:Ll(ae.createdat)||new Date})).filter(ae=>ae.fechaDesde?!0:(console.warn(`Skipping excepcion ${ae.id}: invalid date`),!1)),M=K.map(ae=>({...ae,id:ae.id||crypto.randomUUID(),createdAt:ri(ae.createdat)})),q=H.map(ae=>({...ae,id:ae.id||crypto.randomUUID(),createdAt:ri(ae.createdat)})),Q=oe.map(ae=>({...ae,id:ae.id||crypto.randomUUID(),createdAt:ri(ae.createdat)})),me=R.map(ae=>({...ae,id:ae.id||crypto.randomUUID()})),de=V.map(ae=>({...ae,id:ae.id||crypto.randomUUID()})),ye=re.map(ae=>({...ae,id:ae.id||crypto.randomUUID()})),Ce=le.map(ae=>({...ae,id:ae.id||crypto.randomUUID(),fecha:Ll(ae.fecha),importe:$s(ae.importe)})).filter(ae=>ae.fecha?!0:(console.warn(`Skipping otro ingreso ${ae.id}: invalid date`),!1));t&&t(90,"Guardando datos...");const Ve={meta:{app:"TAppXI",version:"1.0",createdAt:new Date().toISOString()},ajustes:N,breakConfiguration:k,excepciones:D,carreras:J,gastos:Y,turnos:se,proveedores:M,conceptos:q,talleres:Q,vales:me,reminders:de,customReports:ye,otrosIngresos:Ce};return await Fv(Ve,t)}catch(r){throw console.error("Error en restoreFromGoogleSheets:",r),new Error(`Error al restaurar desde Google Sheets: ${r.message}`)}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Sp={};Sp.version="0.18.5";var nA=1252,YI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aA=function(e){YI.indexOf(e)!=-1&&(nA=e)};function XI(){aA(1252)}var Qh=function(e){aA(e)};function KI(){Qh(1200),XI()}var Om=function(t){return String.fromCharCode(t)},sN=function(t){return String.fromCharCode(t)},Np,Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function e1(e){for(var t="",r=0,n=0,a=0,s=0,c=0,u=0,d=0,h=0;h<e.length;)r=e.charCodeAt(h++),s=r>>2,n=e.charCodeAt(h++),c=(r&3)<<4|n>>4,a=e.charCodeAt(h++),u=(n&15)<<2|a>>6,d=a&63,isNaN(n)?u=d=64:isNaN(a)&&(d=64),t+=Tu.charAt(s)+Tu.charAt(c)+Tu.charAt(u)+Tu.charAt(d);return t}function Lc(e){var t="",r=0,n=0,a=0,s=0,c=0,u=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<e.length;)s=Tu.indexOf(e.charAt(h++)),c=Tu.indexOf(e.charAt(h++)),r=s<<2|c>>4,t+=String.fromCharCode(r),u=Tu.indexOf(e.charAt(h++)),n=(c&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),d=Tu.indexOf(e.charAt(h++)),a=(u&3)<<6|d,d!==64&&(t+=String.fromCharCode(a));return t}var bn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Rc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function jf(e){return bn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function oN(e){return bn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var nl=function(t){return bn?Rc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Kp(e){if(typeof ArrayBuffer>"u")return nl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function y1(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function ZI(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ei=bn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Rc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function JI(e){for(var t=[],r=0,n=e.length+250,a=jf(e.length+255),s=0;s<e.length;++s){var c=e.charCodeAt(s);if(c<128)a[r++]=c;else if(c<2048)a[r++]=192|c>>6&31,a[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var u=e.charCodeAt(++s)&1023;a[r++]=240|c>>8&7,a[r++]=128|c>>2&63,a[r++]=128|u>>6&15|(c&3)<<4,a[r++]=128|u&63}else a[r++]=224|c>>12&15,a[r++]=128|c>>6&63,a[r++]=128|c&63;r>n&&(t.push(a.slice(0,r)),r=0,a=jf(65535),n=65530)}return t.push(a.slice(0,r)),Ei(t)}var _h=/\u0000/g,Rm=/[\u0001-\u0006]/g;function Z0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function il(e,t){var r=""+e;return r.length>=t?r:_a("0",t-r.length)+r}function Z5(e,t){var r=""+e;return r.length>=t?r:_a(" ",t-r.length)+r}function _p(e,t){var r=""+e;return r.length>=t?r:r+_a(" ",t-r.length)}function QI(e,t){var r=""+Math.round(e);return r.length>=t?r:_a("0",t-r.length)+r}function eP(e,t){var r=""+e;return r.length>=t?r:_a("0",t-r.length)+r}var lN=Math.pow(2,32);function j0(e,t){if(e>lN||e<-lN)return QI(e,t);var r=Math.round(e);return eP(r,t)}function Tp(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var cN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],D2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function tP(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ta={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},uN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ap(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,c=1,u=0,d=1,h=0,m=0,x=Math.floor(a);h<t&&(x=Math.floor(a),u=x*c+s,m=x*h+d,!(a-x<5e-8));)a=1/(a-x),s=c,c=u,d=h,h=m;if(m>t&&(h>t?(m=d,u=s):(m=h,u=c)),!r)return[0,n*u,m];var b=Math.floor(n*u/m);return[b,n*u-b*m,m]}function Mm(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,c=[],u={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++n,++u.D)),n===60)c=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),c=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),n<60&&(s=(s+6)%7),r&&(s=cP(d,c))}return u.y=c[0],u.m=c[1],u.d=c[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=s,u}var iA=new Date(1899,11,31,0,0,0),nP=iA.getTime(),aP=new Date(1900,2,1,0,0,0);function sA(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=aP&&(r+=1440*60*1e3),(r-(nP+(e.getTimezoneOffset()-iA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function J5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iP(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function sP(e){var t=e<0?12:11,r=J5(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function oP(e){var t=J5(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function lP(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=sP(e):t===10?r=e.toFixed(10).substr(0,12):r=oP(e),J5(iP(r.toUpperCase()))}function Ov(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):lP(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ru(14,sA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function cP(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function uP(e,t,r,n){var a="",s=0,c=0,u=r.y,d,h=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,h=t.length;break;case 3:return D2[r.m-1][1];case 5:return D2[r.m-1][0];default:return D2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,h=t.length;break;case 3:return cN[r.q][0];default:return cN[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?il(r.S,t.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,s=Math.round(c*(r.S+r.u)),s>=60*c&&(s=0),t==="s"?s===0?"0":""+s/c:(a=il(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}h=t.length===3?1:2;break;case 101:d=u,h=1;break}var m=h>0?il(d,h):"";return m}function Au(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var oA=/%/g;function fP(e,t,r){var n=t.replace(oA,""),a=t.length-n.length;return Ac(e,n,r*Math.pow(10,2*a))+_a("%",a)}function dP(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ac(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function lA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var c=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,m){return d+h+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cA=/# (\?+)( ?)\/( ?)(\d+)/;function hP(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),c=a-s*n,u=n;return r+(s===0?"":""+s)+" "+(c===0?_a(" ",e[1].length+1+e[4].length):Z5(c,e[1].length)+e[2]+"/"+e[3]+il(u,e[4].length))}function mP(e,t,r){return r+(t===0?"":""+t)+_a(" ",e[1].length+2+e[4].length)}var uA=/^#*0*\.([0#]+)/,fA=/\).*[0#]/,dA=/\(###\) ###\\?-####/;function as(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function fN(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function dN(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function pP(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function gP(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vo("n",n,r):"("+vo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return dP(e,t,r);if(t.indexOf("%")!==-1)return fP(e,t,r);if(t.indexOf("E")!==-1)return lA(t,r);if(t.charCodeAt(0)===36)return"$"+vo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,c,u,d=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+j0(d,t.length);if(t.match(/^[#?]+$/))return a=j0(r,0),a==="0"&&(a=""),a.length>t.length?a:as(t.substr(0,t.length-a.length))+a;if(s=t.match(cA))return hP(s,d,h);if(t.match(/^#+0+$/))return h+j0(d,t.length-t.indexOf("0"));if(s=t.match(uA))return a=fN(r,s[1].length).replace(/^([^\.]+)$/,"$1."+as(s[1])).replace(/\.$/,"."+as(s[1])).replace(/\.(\d*)$/,function(T,w){return"."+w+_a("0",as(s[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+fN(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+Au(j0(d,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vo(e,t,-r):Au(""+(Math.floor(r)+pP(r,s[1].length)))+"."+il(dN(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return vo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Z0(vo(e,t.replace(/[\\-]/g,""),r)),c=0,Z0(Z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return c<a.length?a.charAt(c++):T==="0"?"0":""}));if(t.match(dA))return a=vo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),u=Ap(d,Math.pow(10,c)-1,!1),a=""+h,m=Ac("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=_p(u[2],c),m.length<s[4].length&&(m=as(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),u=Ap(d,Math.pow(10,c)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Z5(u[1],c)+s[2]+"/"+s[3]+_p(u[2],c):_a(" ",2*c+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=j0(r,0),t.length<=a.length?a:as(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var x=t.indexOf(".")-c,b=t.length-a.length-x;return as(t.substr(0,x)+a+t.substr(t.length-b))}if(s=t.match(/^00,000\.([#0]*0)$/))return c=dN(r,s[1].length),r<0?"-"+vo(e,t,-r):Au(gP(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?il(0,3-T.length):"")+T})+"."+il(c,s[1].length);switch(t){case"###,##0.00":return vo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Au(j0(d,0));return g!=="0"?h+g:"";case"###,###.00":return vo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function xP(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ac(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function vP(e,t,r){var n=t.replace(oA,""),a=t.length-n.length;return Ac(e,n,r*Math.pow(10,2*a))+_a("%",a)}function hA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var c=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,m){return d+h+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(fA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fl("n",n,r):"("+Fl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return xP(e,t,r);if(t.indexOf("%")!==-1)return vP(e,t,r);if(t.indexOf("E")!==-1)return hA(t,r);if(t.charCodeAt(0)===36)return"$"+Fl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,c,u,d=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+il(d,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:as(t.substr(0,t.length-a.length))+a;if(s=t.match(cA))return mP(s,d,h);if(t.match(/^#+0+$/))return h+il(d,t.length-t.indexOf("0"));if(s=t.match(uA))return a=(""+r).replace(/^([^\.]+)$/,"$1."+as(s[1])).replace(/\.$/,"."+as(s[1])),a=a.replace(/\.(\d*)$/,function(T,w){return"."+w+_a("0",as(s[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+Au(""+d);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fl(e,t,-r):Au(""+r)+"."+_a("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Fl(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Z0(Fl(e,t.replace(/[\\-]/g,""),r)),c=0,Z0(Z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return c<a.length?a.charAt(c++):T==="0"?"0":""}));if(t.match(dA))return a=Fl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),u=Ap(d,Math.pow(10,c)-1,!1),a=""+h,m=Ac("n",s[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=_p(u[2],c),m.length<s[4].length&&(m=as(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),u=Ap(d,Math.pow(10,c)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Z5(u[1],c)+s[2]+"/"+s[3]+_p(u[2],c):_a(" ",2*c+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:as(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var x=t.indexOf(".")-c,b=t.length-a.length-x;return as(t.substr(0,x)+a+t.substr(t.length-b))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fl(e,t,-r):Au(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?il(0,3-T.length):"")+T})+"."+il(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Au(""+d);return g!=="0"?h+g:"";default:if(t.match(/\.[0#?]*$/))return Fl(e,t.slice(0,t.lastIndexOf(".")),r)+as(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ac(e,t,r){return(r|0)===r?Fl(e,t,r):vo(e,t,r)}function bP(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var mA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pA(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Tp(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(mA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function yP(e,t,r,n){for(var a=[],s="",c=0,u="",d="t",h,m,x,b="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!Tp(e,c))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(s="";(x=e.charCodeAt(++c))!==34&&c<e.length;)s+=String.fromCharCode(x);a[a.length]={t:"t",v:s},++c;break;case"\\":var g=e.charAt(++c),T=g==="("||g===")"?g:"t";a[a.length]={t:T,v:g},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:t},++c;break;case"B":case"b":if(e.charAt(c+1)==="1"||e.charAt(c+1)==="2"){if(h==null&&(h=Mm(t,r,e.charAt(c+1)==="2"),h==null))return"";a[a.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||h==null&&(h=Mm(t,r),h==null))return"";for(s=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)s+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=b),a[a.length]={t:u,v:s},d=u;break;case"A":case"a":case"":var w={t:u,v:u};if(h==null&&(h=Mm(t,r)),e.substr(c,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",b="h",c+=3):e.substr(c,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",c+=5,b="h"):e.substr(c,5).toUpperCase()==="/"?(h!=null&&(w.v=h.H>=12?"":""),w.t="T",c+=5,b="h"):(w.t="t",++c),h==null&&w.t==="T")return"";a[a.length]=w,d=u;break;case"[":for(s=u;e.charAt(c++)!=="]"&&c<e.length;)s+=e.charAt(c);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(mA)){if(h==null&&(h=Mm(t,r),h==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",pA(e)||(a[a.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=u;++c<e.length&&(u=e.charAt(c))==="0";)s+=u;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)s+=u;a[a.length]={t:"n",v:s};break;case"?":for(s=u;e.charAt(++c)===u;)s+=u;a[a.length]={t:u,v:s},d=u;break;case"*":++c,(e.charAt(c)==" "||e.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:n===1?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)s+=e.charAt(c);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:u,v:u},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"t",v:u},++c;break}var _=0,E=0,F;for(c=a.length-1,d="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=b,d="h",_<1&&(_=1);break;case"s":(F=a[c].v.match(/\.0+$/))&&(E=Math.max(E,F[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":d=a[c].t;break;case"m":d==="s"&&(a[c].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[c].v.match(/[Hh]/)&&(_=1),_<2&&a[c].v.match(/[Mm]/)&&(_=2),_<3&&a[c].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",L;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=uP(a[c].t.charCodeAt(0),a[c].v,h,E),a[c].t="t";break;case"n":case"?":for(L=c+1;a[L]!=null&&((u=a[L].t)==="?"||u==="D"||(u===" "||u==="t")&&a[L+1]!=null&&(a[L+1].t==="?"||a[L+1].t==="t"&&a[L+1].v==="/")||a[c].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[L].v==="/"||a[L].v===" "&&a[L+1]!=null&&a[L+1].t=="?"));)a[c].v+=a[L].v,a[L]={v:"",t:";"},++L;C+=a[c].v,c=L-1;break;case"G":a[c].t="t",a[c].v=Ov(t,r);break}var X="",I,U;if(C.length>0){C.charCodeAt(0)==40?(I=t<0&&C.charCodeAt(0)===45?-t:t,U=Ac("n",C,I)):(I=t<0&&n>1?-t:t,U=Ac("n",C,I),I<0&&a[0]&&a[0].t=="t"&&(U=U.substr(1),a[0].v="-"+a[0].v)),L=U.length-1;var K=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){K=c;break}var H=a.length;if(K===a.length&&U.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(L>=a[c].v.length-1?(L-=a[c].v.length,a[c].v=U.substr(L+1,a[c].v.length)):L<0?a[c].v="":(a[c].v=U.substr(0,L+1),L=-1),a[c].t="t",H=c);L>=0&&H<a.length&&(a[H].v=U.substr(0,L+1)+a[H].v)}else if(K!==a.length&&U.indexOf("E")===-1){for(L=U.indexOf(".")-1,c=K;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(m=a[c].v.indexOf(".")>-1&&c===K?a[c].v.indexOf(".")-1:a[c].v.length-1,X=a[c].v.substr(m+1);m>=0;--m)L>=0&&(a[c].v.charAt(m)==="0"||a[c].v.charAt(m)==="#")&&(X=U.charAt(L--)+X);a[c].v=X,a[c].t="t",H=c}for(L>=0&&H<a.length&&(a[H].v=U.substr(0,L+1)+a[H].v),L=U.indexOf(".")+1,c=K;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==K)){for(m=a[c].v.indexOf(".")>-1&&c===K?a[c].v.indexOf(".")+1:0,X=a[c].v.substr(0,m);m<a[c].v.length;++m)L<U.length&&(X+=U.charAt(L++));a[c].v=X,a[c].t="t",H=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(I=n>1&&t<0&&c>0&&a[c-1].v==="-"?-t:t,a[c].v=Ac(a[c].t,a[c].v,I),a[c].t="t");var oe="";for(c=0;c!==a.length;++c)a[c]!=null&&(oe+=a[c].v);return oe}var hN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mN(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function wP(e,t){var r=bP(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(hN),u=r[1].match(hN);return mN(t,c)?[n,r[0]]:mN(t,u)?[n,r[1]]:[n,r[c!=null&&u!=null?2:1]]}return[n,s]}function Ru(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ta)[e],n==null&&(n=r.table&&r.table[uN[e]]||Ta[uN[e]]),n==null&&(n=rP[e]||"General");break}if(Tp(n,0))return Ov(t,r);t instanceof Date&&(t=sA(t,r.date1904));var a=wP(n,t);if(Tp(a[1]))return Ov(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return yP(a[1],t,r,a[0])}function gA(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ta[r]==null){t<0&&(t=r);continue}if(Ta[r]==e){t=r;break}}t<0&&(t=391)}return Ta[t]=e,t}function Zp(e){for(var t=0;t!=392;++t)e[t]!==void 0&&gA(e[t],t)}function Jp(){Ta=tP()}var xA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SP(e){var t=typeof e=="number"?Ta[e]:e;return t=t.replace(xA,"(\\d+)"),new RegExp("^"+t+"$")}function NP(e,t,r){var n=-1,a=-1,s=-1,c=-1,u=-1,d=-1;(t.match(xA)||[]).forEach(function(x,b){var g=parseInt(r[b+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=g;break;case"d":s=g;break;case"h":c=g;break;case"s":d=g;break;case"m":c>=0?u=g:a=g;break}}),d>=0&&u==-1&&a>=0&&(u=a,a=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return c==-1&&u==-1&&d==-1?h:n==-1&&a==-1&&s==-1?m:h+"T"+m}var _P=(function(){var e={};e.version="1.2.0";function t(){for(var U=0,K=new Array(256),H=0;H!=256;++H)U=H,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,K[H]=U;return typeof Int32Array<"u"?new Int32Array(K):K}var r=t();function n(U){var K=0,H=0,oe=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(oe=0;oe!=256;++oe)O[oe]=U[oe];for(oe=0;oe!=256;++oe)for(H=U[oe],K=256+oe;K<4096;K+=256)H=O[K]=H>>>8^U[H&255];var R=[];for(oe=1;oe!=16;++oe)R[oe-1]=typeof Int32Array<"u"?O.subarray(oe*256,oe*256+256):O.slice(oe*256,oe*256+256);return R}var a=n(r),s=a[0],c=a[1],u=a[2],d=a[3],h=a[4],m=a[5],x=a[6],b=a[7],g=a[8],T=a[9],w=a[10],_=a[11],E=a[12],F=a[13],C=a[14];function L(U,K){for(var H=K^-1,oe=0,O=U.length;oe<O;)H=H>>>8^r[(H^U.charCodeAt(oe++))&255];return~H}function X(U,K){for(var H=K^-1,oe=U.length-15,O=0;O<oe;)H=C[U[O++]^H&255]^F[U[O++]^H>>8&255]^E[U[O++]^H>>16&255]^_[U[O++]^H>>>24]^w[U[O++]]^T[U[O++]]^g[U[O++]]^b[U[O++]]^x[U[O++]]^m[U[O++]]^h[U[O++]]^d[U[O++]]^u[U[O++]]^c[U[O++]]^s[U[O++]]^r[U[O++]];for(oe+=15;O<oe;)H=H>>>8^r[(H^U[O++])&255];return~H}function I(U,K){for(var H=K^-1,oe=0,O=U.length,R=0,V=0;oe<O;)R=U.charCodeAt(oe++),R<128?H=H>>>8^r[(H^R)&255]:R<2048?(H=H>>>8^r[(H^(192|R>>6&31))&255],H=H>>>8^r[(H^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,V=U.charCodeAt(oe++)&1023,H=H>>>8^r[(H^(240|R>>8&7))&255],H=H>>>8^r[(H^(128|R>>2&63))&255],H=H>>>8^r[(H^(128|V>>6&15|(R&3)<<4))&255],H=H>>>8^r[(H^(128|V&63))&255]):(H=H>>>8^r[(H^(224|R>>12&15))&255],H=H>>>8^r[(H^(128|R>>6&63))&255],H=H>>>8^r[(H^(128|R&63))&255]);return~H}return e.table=r,e.bstr=L,e.buf=X,e.str=I,e})(),Rn=(function(){var t={};t.version="1.2.1";function r(ne,we){for(var pe=ne.split("/"),xe=we.split("/"),be=0,Se=0,Ie=Math.min(pe.length,xe.length);be<Ie;++be){if(Se=pe[be].length-xe[be].length)return Se;if(pe[be]!=xe[be])return pe[be]<xe[be]?-1:1}return pe.length-xe.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var we=ne.lastIndexOf("/");return we===-1?ne:ne.slice(0,we+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var we=ne.lastIndexOf("/");return we===-1?ne:ne.slice(we+1)}function s(ne,we){typeof we=="string"&&(we=new Date(we));var pe=we.getHours();pe=pe<<6|we.getMinutes(),pe=pe<<5|we.getSeconds()>>>1,ne.write_shift(2,pe);var xe=we.getFullYear()-1980;xe=xe<<4|we.getMonth()+1,xe=xe<<5|we.getDate(),ne.write_shift(2,xe)}function c(ne){var we=ne.read_shift(2)&65535,pe=ne.read_shift(2)&65535,xe=new Date,be=pe&31;pe>>>=5;var Se=pe&15;pe>>>=4,xe.setMilliseconds(0),xe.setFullYear(pe+1980),xe.setMonth(Se-1),xe.setDate(be);var Ie=we&31;we>>>=5;var et=we&63;return we>>>=6,xe.setHours(we),xe.setMinutes(et),xe.setSeconds(Ie<<1),xe}function u(ne){Xs(ne,0);for(var we={},pe=0;ne.l<=ne.length-4;){var xe=ne.read_shift(2),be=ne.read_shift(2),Se=ne.l+be,Ie={};switch(xe){case 21589:pe=ne.read_shift(1),pe&1&&(Ie.mtime=ne.read_shift(4)),be>5&&(pe&2&&(Ie.atime=ne.read_shift(4)),pe&4&&(Ie.ctime=ne.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}ne.l=Se,we[xe]=Ie}return we}var d;function h(){return d||(d={})}function m(ne,we){if(ne[0]==80&&ne[1]==75)return Dr(ne,we);if((ne[0]|32)==109&&(ne[1]|32)==105)return De(ne,we);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var pe=3,xe=512,be=0,Se=0,Ie=0,et=0,Ge=0,qe=[],We=ne.slice(0,512);Xs(We,0);var St=x(We);switch(pe=St[0],pe){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(St[1]==0)return Dr(ne,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}xe!==512&&(We=ne.slice(0,xe),Xs(We,28));var Et=ne.slice(0,xe);b(We,pe);var It=We.read_shift(4,"i");if(pe===3&&It!==0)throw new Error("# Directory Sectors: Expected 0 saw "+It);We.l+=4,Ie=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),et=We.read_shift(4,"i"),be=We.read_shift(4,"i"),Ge=We.read_shift(4,"i"),Se=We.read_shift(4,"i");for(var _t=-1,zt=0;zt<109&&(_t=We.read_shift(4,"i"),!(_t<0));++zt)qe[zt]=_t;var Gt=g(ne,xe);_(Ge,Se,Gt,xe,qe);var rn=F(Gt,Ie,qe,xe);rn[Ie].name="!Directory",be>0&&et!==V&&(rn[et].name="!MiniFAT"),rn[qe[0]].name="!FAT",rn.fat_addrs=qe,rn.ssz=xe;var Fr={},fn=[],sa=[],Di=[];C(Ie,rn,Gt,fn,be,Fr,sa,et),T(sa,Di,fn),fn.shift();var Li={FileIndex:sa,FullPaths:Di};return we&&we.raw&&(Li.raw={header:Et,sectors:Gt}),Li}function x(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(re,"Header Signature: "),ne.l+=16;var we=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),we]}function b(ne,we){var pe=9;switch(ne.l+=2,pe=ne.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function g(ne,we){for(var pe=Math.ceil(ne.length/we)-1,xe=[],be=1;be<pe;++be)xe[be-1]=ne.slice(be*we,(be+1)*we);return xe[pe-1]=ne.slice(pe*we),xe}function T(ne,we,pe){for(var xe=0,be=0,Se=0,Ie=0,et=0,Ge=pe.length,qe=[],We=[];xe<Ge;++xe)qe[xe]=We[xe]=xe,we[xe]=pe[xe];for(;et<We.length;++et)xe=We[et],be=ne[xe].L,Se=ne[xe].R,Ie=ne[xe].C,qe[xe]===xe&&(be!==-1&&qe[be]!==be&&(qe[xe]=qe[be]),Se!==-1&&qe[Se]!==Se&&(qe[xe]=qe[Se])),Ie!==-1&&(qe[Ie]=xe),be!==-1&&xe!=qe[xe]&&(qe[be]=qe[xe],We.lastIndexOf(be)<et&&We.push(be)),Se!==-1&&xe!=qe[xe]&&(qe[Se]=qe[xe],We.lastIndexOf(Se)<et&&We.push(Se));for(xe=1;xe<Ge;++xe)qe[xe]===xe&&(Se!==-1&&qe[Se]!==Se?qe[xe]=qe[Se]:be!==-1&&qe[be]!==be&&(qe[xe]=qe[be]));for(xe=1;xe<Ge;++xe)if(ne[xe].type!==0){if(et=xe,et!=qe[et])do et=qe[et],we[xe]=we[et]+"/"+we[xe];while(et!==0&&qe[et]!==-1&&et!=qe[et]);qe[xe]=-1}for(we[0]+="/",xe=1;xe<Ge;++xe)ne[xe].type!==2&&(we[xe]+="/")}function w(ne,we,pe){for(var xe=ne.start,be=ne.size,Se=[],Ie=xe;pe&&be>0&&Ie>=0;)Se.push(we.slice(Ie*R,Ie*R+R)),be-=R,Ie=pf(pe,Ie*4);return Se.length===0?st(0):Ei(Se).slice(0,ne.size)}function _(ne,we,pe,xe,be){var Se=V;if(ne===V){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var Ie=pe[ne],et=(xe>>>2)-1;if(!Ie)return;for(var Ge=0;Ge<et&&(Se=pf(Ie,Ge*4))!==V;++Ge)be.push(Se);_(pf(Ie,xe-4),we-1,pe,xe,be)}}function E(ne,we,pe,xe,be){var Se=[],Ie=[];be||(be=[]);var et=xe-1,Ge=0,qe=0;for(Ge=we;Ge>=0;){be[Ge]=!0,Se[Se.length]=Ge,Ie.push(ne[Ge]);var We=pe[Math.floor(Ge*4/xe)];if(qe=Ge*4&et,xe<4+qe)throw new Error("FAT boundary crossed: "+Ge+" 4 "+xe);if(!ne[We])break;Ge=pf(ne[We],qe)}return{nodes:Se,data:SN([Ie])}}function F(ne,we,pe,xe){var be=ne.length,Se=[],Ie=[],et=[],Ge=[],qe=xe-1,We=0,St=0,Et=0,It=0;for(We=0;We<be;++We)if(et=[],Et=We+we,Et>=be&&(Et-=be),!Ie[Et]){Ge=[];var _t=[];for(St=Et;St>=0;){_t[St]=!0,Ie[St]=!0,et[et.length]=St,Ge.push(ne[St]);var zt=pe[Math.floor(St*4/xe)];if(It=St*4&qe,xe<4+It)throw new Error("FAT boundary crossed: "+St+" 4 "+xe);if(!ne[zt]||(St=pf(ne[zt],It),_t[St]))break}Se[Et]={nodes:et,data:SN([Ge])}}return Se}function C(ne,we,pe,xe,be,Se,Ie,et){for(var Ge=0,qe=xe.length?2:0,We=we[ne].data,St=0,Et=0,It;St<We.length;St+=128){var _t=We.slice(St,St+128);Xs(_t,64),Et=_t.read_shift(2),It=nb(_t,0,Et-qe),xe.push(It);var zt={name:It,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Gt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Gt!==0&&(zt.ct=L(_t,_t.l-8));var rn=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);rn!==0&&(zt.mt=L(_t,_t.l-8)),zt.start=_t.read_shift(4,"i"),zt.size=_t.read_shift(4,"i"),zt.size<0&&zt.start<0&&(zt.size=zt.type=0,zt.start=V,zt.name=""),zt.type===5?(Ge=zt.start,be>0&&Ge!==V&&(we[Ge].name="!StreamData")):zt.size>=4096?(zt.storage="fat",we[zt.start]===void 0&&(we[zt.start]=E(pe,zt.start,we.fat_addrs,we.ssz)),we[zt.start].name=zt.name,zt.content=we[zt.start].data.slice(0,zt.size)):(zt.storage="minifat",zt.size<0?zt.size=0:Ge!==V&&zt.start!==V&&we[Ge]&&(zt.content=w(zt,we[Ge].data,(we[et]||{}).data))),zt.content&&Xs(zt.content,0),Se[It]=zt,Ie.push(zt)}}function L(ne,we){return new Date((Zs(ne,we+4)/1e7*Math.pow(2,32)+Zs(ne,we)/1e7-11644473600)*1e3)}function X(ne,we){return h(),m(d.readFileSync(ne),we)}function I(ne,we){var pe=we&&we.type;switch(pe||bn&&Buffer.isBuffer(ne)&&(pe="buffer"),pe||"base64"){case"file":return X(ne,we);case"base64":return m(nl(Lc(ne)),we);case"binary":return m(nl(ne),we)}return m(ne,we)}function U(ne,we){var pe=we||{},xe=pe.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=xe+"/",ne.FileIndex[0]={name:xe,type:5}),pe.CLSID&&(ne.FileIndex[0].clsid=pe.CLSID),K(ne)}function K(ne){var we="Sh33tJ5";if(!Rn.find(ne,"/"+we)){var pe=st(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,ne.FileIndex.push({name:we,type:2,content:pe,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+we),H(ne)}}function H(ne,we){U(ne);for(var pe=!1,xe=!1,be=ne.FullPaths.length-1;be>=0;--be){var Se=ne.FileIndex[be];switch(Se.type){case 0:xe?pe=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Se.R*Se.L*Se.C)&&(pe=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!we)){var Ie=new Date(1987,1,19),et=0,Ge=Object.create?Object.create(null):{},qe=[];for(be=0;be<ne.FullPaths.length;++be)Ge[ne.FullPaths[be]]=!0,ne.FileIndex[be].type!==0&&qe.push([ne.FullPaths[be],ne.FileIndex[be]]);for(be=0;be<qe.length;++be){var We=n(qe[be][0]);xe=Ge[We],xe||(qe.push([We,{name:a(We).replace("/",""),type:1,clsid:Z,ct:Ie,mt:Ie,content:null}]),Ge[We]=!0)}for(qe.sort(function(It,_t){return r(It[0],_t[0])}),ne.FullPaths=[],ne.FileIndex=[],be=0;be<qe.length;++be)ne.FullPaths[be]=qe[be][0],ne.FileIndex[be]=qe[be][1];for(be=0;be<qe.length;++be){var St=ne.FileIndex[be],Et=ne.FullPaths[be];if(St.name=a(Et).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||Z,be===0)St.C=qe.length>1?1:-1,St.size=0,St.type=5;else if(Et.slice(-1)=="/"){for(et=be+1;et<qe.length&&n(ne.FullPaths[et])!=Et;++et);for(St.C=et>=qe.length?-1:et,et=be+1;et<qe.length&&n(ne.FullPaths[et])!=n(Et);++et);St.R=et>=qe.length?-1:et,St.type=1}else n(ne.FullPaths[be+1]||"")==n(Et)&&(St.R=be+1),St.type=2}}}function oe(ne,we){var pe=we||{};if(pe.fileType=="mad")return or(ne,pe);switch(H(ne),pe.fileType){case"zip":return jr(ne,pe)}var xe=(function(It){for(var _t=0,zt=0,Gt=0;Gt<It.FileIndex.length;++Gt){var rn=It.FileIndex[Gt];if(rn.content){var Fr=rn.content.length;Fr>0&&(Fr<4096?_t+=Fr+63>>6:zt+=Fr+511>>9)}}for(var fn=It.FullPaths.length+3>>2,sa=_t+7>>3,Di=_t+127>>7,Li=sa+zt+fn+Di,ni=Li+127>>7,Os=ni<=109?0:Math.ceil((ni-109)/127);Li+ni+Os+127>>7>ni;)Os=++ni<=109?0:Math.ceil((ni-109)/127);var Kn=[1,Os,ni,Di,fn,zt,_t,0];return It.FileIndex[0].size=_t<<6,Kn[7]=(It.FileIndex[0].start=Kn[0]+Kn[1]+Kn[2]+Kn[3]+Kn[4]+Kn[5])+(Kn[6]+7>>3),Kn})(ne),be=st(xe[7]<<9),Se=0,Ie=0;{for(Se=0;Se<8;++Se)be.write_shift(1,le[Se]);for(Se=0;Se<8;++Se)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),Se=0;Se<3;++Se)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,xe[2]),be.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:V),be.write_shift(4,xe[3]),be.write_shift(-4,xe[1]?xe[0]-1:V),be.write_shift(4,xe[1]),Se=0;Se<109;++Se)be.write_shift(-4,Se<xe[2]?xe[1]+Se:-1)}if(xe[1])for(Ie=0;Ie<xe[1];++Ie){for(;Se<236+Ie*127;++Se)be.write_shift(-4,Se<xe[2]?xe[1]+Se:-1);be.write_shift(-4,Ie===xe[1]-1?V:Ie+1)}var et=function(It){for(Ie+=It;Se<Ie-1;++Se)be.write_shift(-4,Se+1);It&&(++Se,be.write_shift(-4,V))};for(Ie=Se=0,Ie+=xe[1];Se<Ie;++Se)be.write_shift(-4,ie.DIFSECT);for(Ie+=xe[2];Se<Ie;++Se)be.write_shift(-4,ie.FATSECT);et(xe[3]),et(xe[4]);for(var Ge=0,qe=0,We=ne.FileIndex[0];Ge<ne.FileIndex.length;++Ge)We=ne.FileIndex[Ge],We.content&&(qe=We.content.length,!(qe<4096)&&(We.start=Ie,et(qe+511>>9)));for(et(xe[6]+7>>3);be.l&511;)be.write_shift(-4,ie.ENDOFCHAIN);for(Ie=Se=0,Ge=0;Ge<ne.FileIndex.length;++Ge)We=ne.FileIndex[Ge],We.content&&(qe=We.content.length,!(!qe||qe>=4096)&&(We.start=Ie,et(qe+63>>6)));for(;be.l&511;)be.write_shift(-4,ie.ENDOFCHAIN);for(Se=0;Se<xe[4]<<2;++Se){var St=ne.FullPaths[Se];if(!St||St.length===0){for(Ge=0;Ge<17;++Ge)be.write_shift(4,0);for(Ge=0;Ge<3;++Ge)be.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)be.write_shift(4,0);continue}We=ne.FileIndex[Se],Se===0&&(We.start=We.size?We.start-1:V);var Et=Se===0&&pe.root||We.name;if(qe=2*(Et.length+1),be.write_shift(64,Et,"utf16le"),be.write_shift(2,qe),be.write_shift(1,We.type),be.write_shift(1,We.color),be.write_shift(-4,We.L),be.write_shift(-4,We.R),be.write_shift(-4,We.C),We.clsid)be.write_shift(16,We.clsid,"hex");else for(Ge=0;Ge<4;++Ge)be.write_shift(4,0);be.write_shift(4,We.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,We.start),be.write_shift(4,We.size),be.write_shift(4,0)}for(Se=1;Se<ne.FileIndex.length;++Se)if(We=ne.FileIndex[Se],We.size>=4096)if(be.l=We.start+1<<9,bn&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+511&-512;else{for(Ge=0;Ge<We.size;++Ge)be.write_shift(1,We.content[Ge]);for(;Ge&511;++Ge)be.write_shift(1,0)}for(Se=1;Se<ne.FileIndex.length;++Se)if(We=ne.FileIndex[Se],We.size>0&&We.size<4096)if(bn&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+63&-64;else{for(Ge=0;Ge<We.size;++Ge)be.write_shift(1,We.content[Ge]);for(;Ge&63;++Ge)be.write_shift(1,0)}if(bn)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function O(ne,we){var pe=ne.FullPaths.map(function(Ge){return Ge.toUpperCase()}),xe=pe.map(function(Ge){var qe=Ge.split("/");return qe[qe.length-(Ge.slice(-1)=="/"?2:1)]}),be=!1;we.charCodeAt(0)===47?(be=!0,we=pe[0].slice(0,-1)+we):be=we.indexOf("/")!==-1;var Se=we.toUpperCase(),Ie=be===!0?pe.indexOf(Se):xe.indexOf(Se);if(Ie!==-1)return ne.FileIndex[Ie];var et=!Se.match(Rm);for(Se=Se.replace(_h,""),et&&(Se=Se.replace(Rm,"!")),Ie=0;Ie<pe.length;++Ie)if((et?pe[Ie].replace(Rm,"!"):pe[Ie]).replace(_h,"")==Se||(et?xe[Ie].replace(Rm,"!"):xe[Ie]).replace(_h,"")==Se)return ne.FileIndex[Ie];return null}var R=64,V=-2,re="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(ne,we,pe){h();var xe=oe(ne,pe);d.writeFileSync(we,xe)}function Y(ne){for(var we=new Array(ne.length),pe=0;pe<ne.length;++pe)we[pe]=String.fromCharCode(ne[pe]);return we.join("")}function se(ne,we){var pe=oe(ne,we);switch(we&&we.type||"buffer"){case"file":return h(),d.writeFileSync(we.filename,pe),pe;case"binary":return typeof pe=="string"?pe:Y(pe);case"base64":return e1(typeof pe=="string"?pe:Y(pe));case"buffer":if(bn)return Buffer.isBuffer(pe)?pe:Rc(pe);case"array":return typeof pe=="string"?nl(pe):pe}return pe}var P;function N(ne){try{var we=ne.InflateRaw,pe=new we;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)P=ne;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function k(ne,we){if(!P)return yr(ne,we);var pe=P.InflateRaw,xe=new pe,be=xe._processChunk(ne.slice(ne.l),xe._finishFlushFlag);return ne.l+=xe.bytesRead,be}function D(ne){return P?P.deflateRawSync(ne):Bt(ne)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(ne){var we=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(we>>16|we>>8|we)&255}for(var de=typeof Uint8Array<"u",ye=de?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)ye[Ce]=me(Ce);function Ve(ne,we){var pe=ye[ne&255];return we<=8?pe>>>8-we:(pe=pe<<8|ye[ne>>8&255],we<=16?pe>>>16-we:(pe=pe<<8|ye[ne>>16&255],pe>>>24-we))}function Be(ne,we){var pe=we&7,xe=we>>>3;return(ne[xe]|(pe<=6?0:ne[xe+1]<<8))>>>pe&3}function ae(ne,we){var pe=we&7,xe=we>>>3;return(ne[xe]|(pe<=5?0:ne[xe+1]<<8))>>>pe&7}function he(ne,we){var pe=we&7,xe=we>>>3;return(ne[xe]|(pe<=4?0:ne[xe+1]<<8))>>>pe&15}function Ze(ne,we){var pe=we&7,xe=we>>>3;return(ne[xe]|(pe<=3?0:ne[xe+1]<<8))>>>pe&31}function Oe(ne,we){var pe=we&7,xe=we>>>3;return(ne[xe]|(pe<=1?0:ne[xe+1]<<8))>>>pe&127}function Qe(ne,we,pe){var xe=we&7,be=we>>>3,Se=(1<<pe)-1,Ie=ne[be]>>>xe;return pe<8-xe||(Ie|=ne[be+1]<<8-xe,pe<16-xe)||(Ie|=ne[be+2]<<16-xe,pe<24-xe)||(Ie|=ne[be+3]<<24-xe),Ie&Se}function Ue(ne,we,pe){var xe=we&7,be=we>>>3;return xe<=5?ne[be]|=(pe&7)<<xe:(ne[be]|=pe<<xe&255,ne[be+1]=(pe&7)>>8-xe),we+3}function ct(ne,we,pe){var xe=we&7,be=we>>>3;return pe=(pe&1)<<xe,ne[be]|=pe,we+1}function rt(ne,we,pe){var xe=we&7,be=we>>>3;return pe<<=xe,ne[be]|=pe&255,pe>>>=8,ne[be+1]=pe,we+8}function Dt(ne,we,pe){var xe=we&7,be=we>>>3;return pe<<=xe,ne[be]|=pe&255,pe>>>=8,ne[be+1]=pe&255,ne[be+2]=pe>>>8,we+16}function jt(ne,we){var pe=ne.length,xe=2*pe>we?2*pe:we+5,be=0;if(pe>=we)return ne;if(bn){var Se=oN(xe);if(ne.copy)ne.copy(Se);else for(;be<ne.length;++be)Se[be]=ne[be];return Se}else if(de){var Ie=new Uint8Array(xe);if(Ie.set)Ie.set(ne);else for(;be<pe;++be)Ie[be]=ne[be];return Ie}return ne.length=xe,ne}function Ft(ne){for(var we=new Array(ne),pe=0;pe<ne;++pe)we[pe]=0;return we}function it(ne,we,pe){var xe=1,be=0,Se=0,Ie=0,et=0,Ge=ne.length,qe=de?new Uint16Array(32):Ft(32);for(Se=0;Se<32;++Se)qe[Se]=0;for(Se=Ge;Se<pe;++Se)ne[Se]=0;Ge=ne.length;var We=de?new Uint16Array(Ge):Ft(Ge);for(Se=0;Se<Ge;++Se)qe[be=ne[Se]]++,xe<be&&(xe=be),We[Se]=0;for(qe[0]=0,Se=1;Se<=xe;++Se)qe[Se+16]=et=et+qe[Se-1]<<1;for(Se=0;Se<Ge;++Se)et=ne[Se],et!=0&&(We[Se]=qe[et+16]++);var St=0;for(Se=0;Se<Ge;++Se)if(St=ne[Se],St!=0)for(et=Ve(We[Se],xe)>>xe-St,Ie=(1<<xe+4-St)-1;Ie>=0;--Ie)we[et|Ie<<St]=St&15|Se<<4;return xe}var Ct=de?new Uint16Array(512):Ft(512),pt=de?new Uint16Array(32):Ft(32);if(!de){for(var vt=0;vt<512;++vt)Ct[vt]=0;for(vt=0;vt<32;++vt)pt[vt]=0}(function(){for(var ne=[],we=0;we<32;we++)ne.push(5);it(ne,pt,32);var pe=[];for(we=0;we<=143;we++)pe.push(8);for(;we<=255;we++)pe.push(9);for(;we<=279;we++)pe.push(7);for(;we<=287;we++)pe.push(8);it(pe,Ct,288)})();var ut=(function(){for(var we=de?new Uint8Array(32768):[],pe=0,xe=0;pe<Q.length-1;++pe)for(;xe<Q[pe+1];++xe)we[xe]=pe;for(;xe<32768;++xe)we[xe]=29;var be=de?new Uint8Array(259):[];for(pe=0,xe=0;pe<q.length-1;++pe)for(;xe<q[pe+1];++xe)be[xe]=pe;function Se(et,Ge){for(var qe=0;qe<et.length;){var We=Math.min(65535,et.length-qe),St=qe+We==et.length;for(Ge.write_shift(1,+St),Ge.write_shift(2,We),Ge.write_shift(2,~We&65535);We-- >0;)Ge[Ge.l++]=et[qe++]}return Ge.l}function Ie(et,Ge){for(var qe=0,We=0,St=de?new Uint16Array(32768):[];We<et.length;){var Et=Math.min(65535,et.length-We);if(Et<10){for(qe=Ue(Ge,qe,+(We+Et==et.length)),qe&7&&(qe+=8-(qe&7)),Ge.l=qe/8|0,Ge.write_shift(2,Et),Ge.write_shift(2,~Et&65535);Et-- >0;)Ge[Ge.l++]=et[We++];qe=Ge.l*8;continue}qe=Ue(Ge,qe,+(We+Et==et.length)+2);for(var It=0;Et-- >0;){var _t=et[We];It=(It<<5^_t)&32767;var zt=-1,Gt=0;if((zt=St[It])&&(zt|=We&-32768,zt>We&&(zt-=32768),zt<We))for(;et[zt+Gt]==et[We+Gt]&&Gt<250;)++Gt;if(Gt>2){_t=be[Gt],_t<=22?qe=rt(Ge,qe,ye[_t+1]>>1)-1:(rt(Ge,qe,3),qe+=5,rt(Ge,qe,ye[_t-23]>>5),qe+=3);var rn=_t<8?0:_t-4>>2;rn>0&&(Dt(Ge,qe,Gt-q[_t]),qe+=rn),_t=we[We-zt],qe=rt(Ge,qe,ye[_t]>>3),qe-=3;var Fr=_t<4?0:_t-2>>1;Fr>0&&(Dt(Ge,qe,We-zt-Q[_t]),qe+=Fr);for(var fn=0;fn<Gt;++fn)St[It]=We&32767,It=(It<<5^et[We])&32767,++We;Et-=Gt-1}else _t<=143?_t=_t+48:qe=ct(Ge,qe,1),qe=rt(Ge,qe,ye[_t]),St[It]=We&32767,++We}qe=rt(Ge,qe,0)-1}return Ge.l=(qe+7)/8|0,Ge.l}return function(Ge,qe){return Ge.length<8?Se(Ge,qe):Ie(Ge,qe)}})();function Bt(ne){var we=st(50+Math.floor(ne.length*1.1)),pe=ut(ne,we);return we.slice(0,pe)}var Lt=de?new Uint16Array(32768):Ft(32768),xr=de?new Uint16Array(32768):Ft(32768),Fe=de?new Uint16Array(128):Ft(128),ot=1,bt=1;function Pt(ne,we){var pe=Ze(ne,we)+257;we+=5;var xe=Ze(ne,we)+1;we+=5;var be=he(ne,we)+4;we+=4;for(var Se=0,Ie=de?new Uint8Array(19):Ft(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,qe=de?new Uint8Array(8):Ft(8),We=de?new Uint8Array(8):Ft(8),St=Ie.length,Et=0;Et<be;++Et)Ie[M[Et]]=Se=ae(ne,we),Ge<Se&&(Ge=Se),qe[Se]++,we+=3;var It=0;for(qe[0]=0,Et=1;Et<=Ge;++Et)We[Et]=It=It+qe[Et-1]<<1;for(Et=0;Et<St;++Et)(It=Ie[Et])!=0&&(et[Et]=We[It]++);var _t=0;for(Et=0;Et<St;++Et)if(_t=Ie[Et],_t!=0){It=ye[et[Et]]>>8-_t;for(var zt=(1<<7-_t)-1;zt>=0;--zt)Fe[It|zt<<_t]=_t&7|Et<<3}var Gt=[];for(Ge=1;Gt.length<pe+xe;)switch(It=Fe[Oe(ne,we)],we+=It&7,It>>>=3){case 16:for(Se=3+Be(ne,we),we+=2,It=Gt[Gt.length-1];Se-- >0;)Gt.push(It);break;case 17:for(Se=3+ae(ne,we),we+=3;Se-- >0;)Gt.push(0);break;case 18:for(Se=11+Oe(ne,we),we+=7;Se-- >0;)Gt.push(0);break;default:Gt.push(It),Ge<It&&(Ge=It);break}var rn=Gt.slice(0,pe),Fr=Gt.slice(pe);for(Et=pe;Et<286;++Et)rn[Et]=0;for(Et=xe;Et<30;++Et)Fr[Et]=0;return ot=it(rn,Lt,286),bt=it(Fr,xr,30),we}function Ut(ne,we){if(ne[0]==3&&!(ne[1]&3))return[jf(we),2];for(var pe=0,xe=0,be=oN(we||1<<18),Se=0,Ie=be.length>>>0,et=0,Ge=0;(xe&1)==0;){if(xe=ae(ne,pe),pe+=3,xe>>>1)xe>>1==1?(et=9,Ge=5):(pe=Pt(ne,pe),et=ot,Ge=bt);else{pe&7&&(pe+=8-(pe&7));var qe=ne[pe>>>3]|ne[(pe>>>3)+1]<<8;if(pe+=32,qe>0)for(!we&&Ie<Se+qe&&(be=jt(be,Se+qe),Ie=be.length);qe-- >0;)be[Se++]=ne[pe>>>3],pe+=8;continue}for(;;){!we&&Ie<Se+32767&&(be=jt(be,Se+32767),Ie=be.length);var We=Qe(ne,pe,et),St=xe>>>1==1?Ct[We]:Lt[We];if(pe+=St&15,St>>>=4,(St>>>8&255)===0)be[Se++]=St;else{if(St==256)break;St-=257;var Et=St<8?0:St-4>>2;Et>5&&(Et=0);var It=Se+q[St];Et>0&&(It+=Qe(ne,pe,Et),pe+=Et),We=Qe(ne,pe,Ge),St=xe>>>1==1?pt[We]:xr[We],pe+=St&15,St>>>=4;var _t=St<4?0:St-2>>1,zt=Q[St];for(_t>0&&(zt+=Qe(ne,pe,_t),pe+=_t),!we&&Ie<It&&(be=jt(be,It+100),Ie=be.length);Se<It;)be[Se]=be[Se-zt],++Se}}}return we?[be,pe+7>>>3]:[be.slice(0,Se),pe+7>>>3]}function yr(ne,we){var pe=ne.slice(ne.l||0),xe=Ut(pe,we);return ne.l+=xe[1],xe[0]}function tr(ne,we){if(ne)typeof console<"u"&&console.error(we);else throw new Error(we)}function Dr(ne,we){var pe=ne;Xs(pe,0);var xe=[],be=[],Se={FileIndex:xe,FullPaths:be};U(Se,{root:we.root});for(var Ie=pe.length-4;(pe[Ie]!=80||pe[Ie+1]!=75||pe[Ie+2]!=5||pe[Ie+3]!=6)&&Ie>=0;)--Ie;pe.l=Ie+4,pe.l+=4;var et=pe.read_shift(2);pe.l+=6;var Ge=pe.read_shift(4);for(pe.l=Ge,Ie=0;Ie<et;++Ie){pe.l+=20;var qe=pe.read_shift(4),We=pe.read_shift(4),St=pe.read_shift(2),Et=pe.read_shift(2),It=pe.read_shift(2);pe.l+=8;var _t=pe.read_shift(4),zt=u(pe.slice(pe.l+St,pe.l+St+Et));pe.l+=St+Et+It;var Gt=pe.l;pe.l=_t+4,nr(pe,qe,We,Se,zt),pe.l=Gt}return Se}function nr(ne,we,pe,xe,be){ne.l+=2;var Se=ne.read_shift(2),Ie=ne.read_shift(2),et=c(ne);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ne.read_shift(4),qe=ne.read_shift(4),We=ne.read_shift(4),St=ne.read_shift(2),Et=ne.read_shift(2),It="",_t=0;_t<St;++_t)It+=String.fromCharCode(ne[ne.l++]);if(Et){var zt=u(ne.slice(ne.l,ne.l+Et));(zt[21589]||{}).mt&&(et=zt[21589].mt),((be||{})[21589]||{}).mt&&(et=be[21589].mt)}ne.l+=Et;var Gt=ne.slice(ne.l,ne.l+qe);switch(Ie){case 8:Gt=k(ne,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var rn=!1;Se&8&&(Ge=ne.read_shift(4),Ge==134695760&&(Ge=ne.read_shift(4),rn=!0),qe=ne.read_shift(4),We=ne.read_shift(4)),qe!=we&&tr(rn,"Bad compressed size: "+we+" != "+qe),We!=pe&&tr(rn,"Bad uncompressed size: "+pe+" != "+We),pr(xe,It,Gt,{unsafe:!0,mt:et})}function jr(ne,we){var pe=we||{},xe=[],be=[],Se=st(1),Ie=pe.compression?8:0,et=0,Ge=0,qe=0,We=0,St=0,Et=ne.FullPaths[0],It=Et,_t=ne.FileIndex[0],zt=[],Gt=0;for(Ge=1;Ge<ne.FullPaths.length;++Ge)if(It=ne.FullPaths[Ge].slice(Et.length),_t=ne.FileIndex[Ge],!(!_t.size||!_t.content||It=="Sh33tJ5")){var rn=We,Fr=st(It.length);for(qe=0;qe<It.length;++qe)Fr.write_shift(1,It.charCodeAt(qe)&127);Fr=Fr.slice(0,Fr.l),zt[St]=_P.buf(_t.content,0);var fn=_t.content;Ie==8&&(fn=D(fn)),Se=st(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,et),Se.write_shift(2,Ie),_t.mt?s(Se,_t.mt):Se.write_shift(4,0),Se.write_shift(-4,zt[St]),Se.write_shift(4,fn.length),Se.write_shift(4,_t.content.length),Se.write_shift(2,Fr.length),Se.write_shift(2,0),We+=Se.length,xe.push(Se),We+=Fr.length,xe.push(Fr),We+=fn.length,xe.push(fn),Se=st(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,et),Se.write_shift(2,Ie),Se.write_shift(4,0),Se.write_shift(-4,zt[St]),Se.write_shift(4,fn.length),Se.write_shift(4,_t.content.length),Se.write_shift(2,Fr.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,rn),Gt+=Se.l,be.push(Se),Gt+=Fr.length,be.push(Fr),++St}return Se=st(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,St),Se.write_shift(2,St),Se.write_shift(4,Gt),Se.write_shift(4,We),Se.write_shift(2,0),Ei([Ei(xe),Ei(be),Se])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function mr(ne,we){if(ne.ctype)return ne.ctype;var pe=ne.name||"",xe=pe.match(/\.([^\.]+)$/);return xe&&Vt[xe[1]]||we&&(xe=(pe=we).match(/[\.\\]([^\.\\])+$/),xe&&Vt[xe[1]])?Vt[xe[1]]:"application/octet-stream"}function Cn(ne){for(var we=e1(ne),pe=[],xe=0;xe<we.length;xe+=76)pe.push(we.slice(xe,xe+76));return pe.join(`\r
`)+`\r
`}function Xe(ne){var we=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var We=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],xe=we.split(`\r
`),be=0;be<xe.length;++be){var Se=xe[be];if(Se.length==0){pe.push("");continue}for(var Ie=0;Ie<Se.length;){var et=76,Ge=Se.slice(Ie,Ie+et);Ge.charAt(et-1)=="="?et--:Ge.charAt(et-2)=="="?et-=2:Ge.charAt(et-3)=="="&&(et-=3),Ge=Se.slice(Ie,Ie+et),Ie+=et,Ie<Se.length&&(Ge+="="),pe.push(Ge)}}return pe.join(`\r
`)}function At(ne){for(var we=[],pe=0;pe<ne.length;++pe){for(var xe=ne[pe];pe<=ne.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+ne[++pe];we.push(xe)}for(var be=0;be<we.length;++be)we[be]=we[be].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return nl(we.join(`\r
`))}function Yt(ne,we,pe){for(var xe="",be="",Se="",Ie,et=0;et<10;++et){var Ge=we[et];if(!Ge||Ge.match(/^\s*$/))break;var qe=Ge.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":xe=qe[2].trim();break;case"content-type":Se=qe[2].trim();break;case"content-transfer-encoding":be=qe[2].trim();break}}switch(++et,be.toLowerCase()){case"base64":Ie=nl(Lc(we.slice(et).join("")));break;case"quoted-printable":Ie=At(we.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var We=pr(ne,xe.slice(pe.length),Ie,{unsafe:!0});Se&&(We.ctype=Se)}function De(ne,we){if(Y(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=we&&we.root||"",xe=(bn&&Buffer.isBuffer(ne)?ne.toString("binary"):Y(ne)).split(`\r
`),be=0,Se="";for(be=0;be<xe.length;++be)if(Se=xe[be],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),pe||(pe=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),Se.slice(0,pe.length)!=pe););var Ie=(xe[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var et="--"+(Ie[1]||""),Ge=[],qe=[],We={FileIndex:Ge,FullPaths:qe};U(We);var St,Et=0;for(be=0;be<xe.length;++be){var It=xe[be];It!==et&&It!==et+"--"||(Et++&&Yt(We,xe.slice(St,be),pe),St=be)}return We}function or(ne,we){var pe=we||{},xe=pe.boundary||"SheetJS";xe="------="+xe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Se=ne.FullPaths[0],Ie=Se,et=ne.FileIndex[0],Ge=1;Ge<ne.FullPaths.length;++Ge)if(Ie=ne.FullPaths[Ge].slice(Se.length),et=ne.FileIndex[Ge],!(!et.size||!et.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var qe=et.content,We=bn&&Buffer.isBuffer(qe)?qe.toString("binary"):Y(qe),St=0,Et=Math.min(1024,We.length),It=0,_t=0;_t<=Et;++_t)(It=We.charCodeAt(_t))>=32&&It<128&&++St;var zt=St>=Et*4/5;be.push(xe),be.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+Ie),be.push("Content-Transfer-Encoding: "+(zt?"quoted-printable":"base64")),be.push("Content-Type: "+mr(et,Ie)),be.push(""),be.push(zt?Xe(We):Cn(We))}return be.push(xe+`--\r
`),be.join(`\r
`)}function Jt(ne){var we={};return U(we,ne),we}function pr(ne,we,pe,xe){var be=xe&&xe.unsafe;be||U(ne);var Se=!be&&Rn.find(ne,we);if(!Se){var Ie=ne.FullPaths[0];we.slice(0,Ie.length)==Ie?Ie=we:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+we).replace("//","/")),Se={name:a(we),type:2},ne.FileIndex.push(Se),ne.FullPaths.push(Ie),be||Rn.utils.cfb_gc(ne)}return Se.content=pe,Se.size=pe?pe.length:0,xe&&(xe.CLSID&&(Se.clsid=xe.CLSID),xe.mt&&(Se.mt=xe.mt),xe.ct&&(Se.ct=xe.ct)),Se}function rr(ne,we){U(ne);var pe=Rn.find(ne,we);if(pe){for(var xe=0;xe<ne.FileIndex.length;++xe)if(ne.FileIndex[xe]==pe)return ne.FileIndex.splice(xe,1),ne.FullPaths.splice(xe,1),!0}return!1}function Tr(ne,we,pe){U(ne);var xe=Rn.find(ne,we);if(xe){for(var be=0;be<ne.FileIndex.length;++be)if(ne.FileIndex[be]==xe)return ne.FileIndex[be].name=a(pe),ne.FullPaths[be]=pe,!0}return!1}function lr(ne){H(ne,!0)}return t.find=O,t.read=I,t.parse=m,t.write=se,t.writeFile=J,t.utils={cfb_new:Jt,cfb_add:pr,cfb_del:rr,cfb_mov:Tr,cfb_gc:lr,ReadShift:Ah,CheckField:OA,prep_blob:Xs,bconcat:Ei,use_zlib:N,_deflateRaw:Bt,_inflateRaw:yr,consts:ie},t})();function TP(e){return typeof e=="string"?Kp(e):Array.isArray(e)?ZI(e):e}function w1(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Kp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?r1(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([TP(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=e,c.href=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(e);return u.open("w"),u.encoding="binary",Array.isArray(t)&&(t=y1(t)),u.write(t),u.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function ki(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function pN(e,t){for(var r=[],n=ki(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Q5(e){for(var t=[],r=ki(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Qp(e){for(var t=[],r=ki(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function AP(e){for(var t=[],r=ki(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Ep=new Date(1899,11,30,0,0,0);function Ls(e,t){var r=e.getTime(),n=Ep.getTime()+(e.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var vA=new Date,EP=Ep.getTime()+(vA.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4,gN=vA.getTimezoneOffset();function bA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+EP),t.getTimezoneOffset()!==gN&&t.setTime(t.getTime()+(t.getTimezoneOffset()-gN)*6e4),t}var xN=new Date("2017-02-19T19:06:09.000Z"),yA=isNaN(xN.getFullYear())?new Date("2/19/17"):xN,jP=yA.getFullYear()==2017;function os(e,t){var r=new Date(e);if(jP)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(yA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function eg(e,t){if(bn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function zs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=zs(e[r]));return t}function _a(e,t){for(var r="";r.length<t;)r+=e;return r}function Ec(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var CP=["january","february","march","april","may","june","july","august","september","october","november","december"];function t1(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var c=e.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&CP.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Gr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return bn?n=Rc(r):n=JI(r),Rn.utils.cfb_add(e,t,n)}Rn.utils.cfb_add(e,t,r)}else e.file(t,r)}function eb(){return Rn.utils.cfb_new()}var Ua=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},tb=Q5(kP),rb=/[&<>'"]/g,DP=/[\u0000-\u0008\u000b-\u001f]/g;function En(e){var t=e+"";return t.replace(rb,function(r){return tb[r]}).replace(DP,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vN(e){return En(e).replace(/ /g,"_x0020_")}var wA=/[\u0000-\u001f]/g;function LP(e){var t=e+"";return t.replace(rb,function(r){return tb[r]}).replace(/\n/g,"<br/>").replace(wA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function zP(e){var t=e+"";return t.replace(rb,function(r){return tb[r]}).replace(wA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function FP(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function OP(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function L2(e){for(var t="",r=0,n=0,a=0,s=0,c=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=a&63,t+=String.fromCharCode(c);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}c=e.charCodeAt(r++),u=((n&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function bN(e){var t=jf(2*e.length),r,n,a=1,s=0,c=0,u;for(n=0;n<e.length;n+=a)a=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),a=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(t[s++]=c&255,t[s++]=c>>>8,c=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function yN(e){return Rc(e,"binary").toString("utf8")}var Im="foo bar baz",Th=bn&&(yN(Im)==L2(Im)&&yN||bN(Im)==L2(Im)&&bN)||L2,r1=bn?function(e){return Rc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},RP=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),SA=/(^\s|\s$|\n)/;function ji(e,t){return"<"+e+(t.match(SA)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function n1(e){return ki(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ot(e,t,r){return"<"+e+(r!=null?n1(r):"")+(t!=null?(t.match(SA)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Rv(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function MP(e,t){switch(typeof e){case"string":var r=Ot("vt:lpwstr",En(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ot((e|0)==e?"vt:i4":"vt:r8",En(String(e)));case"boolean":return Ot("vt:bool",e?"true":"false")}if(e instanceof Date)return Ot("vt:filetime",Rv(e));throw new Error("Unable to serialize "+e)}var mi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ks={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function IP(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function PP(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,c=n?-t:t;isFinite(c)?c==0?a=s=0:(a=Math.floor(Math.log(c)/Math.LN2),s=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var u=0;u<=5;++u,s/=256)e[r+u]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var wN=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},SN=bn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Rc(t)})):wN(e)}:wN,NN=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(gh(e,a)));return n.join("").replace(_h,"")},nb=bn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(_h,""):NN(e,t,r)}:NN,_N=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},NA=bn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_N(e,t,r)}:_N,TN=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(F0(e,a)));return n.join("")},S1=bn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):TN(t,r,n)}:TN,_A=function(e,t){var r=Zs(e,t);return r>0?S1(e,t+4,t+4+r-1):""},TA=_A,AA=function(e,t){var r=Zs(e,t);return r>0?S1(e,t+4,t+4+r-1):""},EA=AA,jA=function(e,t){var r=2*Zs(e,t);return r>0?S1(e,t+4,t+4+r-1):""},CA=jA,kA=function(t,r){var n=Zs(t,r);return n>0?nb(t,r+4,r+4+n):""},DA=kA,LA=function(e,t){var r=Zs(e,t);return r>0?S1(e,t+4,t+4+r):""},zA=LA,FA=function(e,t){return IP(e,t)},jp=FA,ab=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};bn&&(TA=function(t,r){if(!Buffer.isBuffer(t))return _A(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},EA=function(t,r){if(!Buffer.isBuffer(t))return AA(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},CA=function(t,r){if(!Buffer.isBuffer(t))return jA(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},DA=function(t,r){if(!Buffer.isBuffer(t))return kA(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},zA=function(t,r){if(!Buffer.isBuffer(t))return LA(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},jp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):FA(t,r)},ab=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var F0=function(e,t){return e[t]},gh=function(e,t){return e[t+1]*256+e[t]},BP=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Zs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},pf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},UP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ah(e,t){var r="",n,a,s=[],c,u,d,h;switch(t){case"dbcs":if(h=this.l,bn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(gh(this,h)),h+=2;e*=2;break;case"utf8":r=S1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=nb(this,this.l,this.l+e);break;case"wstr":return Ah.call(this,e,"dbcs");case"lpstr-ansi":r=TA(this,this.l),e=4+Zs(this,this.l);break;case"lpstr-cp":r=EA(this,this.l),e=4+Zs(this,this.l);break;case"lpwstr":r=CA(this,this.l),e=4+2*Zs(this,this.l);break;case"lpp4":e=4+Zs(this,this.l),r=DA(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Zs(this,this.l),r=zA(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(c=F0(this,this.l+e++))!==0;)s.push(Om(c));r=s.join("");break;case"_wstr":for(e=0,r="";(c=gh(this,this.l+e))!==0;)s.push(Om(c)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return c=F0(this,h),this.l=h+1,u=Ah.call(this,e-d,c?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Om(gh(this,h))),h+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return c=F0(this,h),this.l=h+1,u=Ah.call(this,e-d,c?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Om(F0(this,h))),h+=1}r=s.join("");break;default:switch(e){case 1:return n=F0(this,this.l),this.l++,n;case 2:return n=(t==="i"?BP:gh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?pf:UP)(this,this.l),this.l+=4,n):(a=Zs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=jp(this,this.l):a=jp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=NA(this,this.l,e);break}}return this.l+=e,r}var HP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},VP=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},GP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function qP(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)GP(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var c=t.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,HP(this,t,this.l);break;case 8:if(n=8,r==="f"){PP(this,t,this.l);break}case 16:break;case-4:n=4,VP(this,t,this.l);break}return this.l+=n,this}function OA(e,t){var r=NA(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Xs(e,t){e.l=t,e.read_shift=Ah,e.chk=OA,e.write_shift=qP}function Vl(e,t){e.l+=t}function st(e){var t=jf(e);return Xs(t,0),t}function ks(){var e=[],t=bn?256:2048,r=function(h){var m=st(h);return Xs(m,0),m},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(a(),n=r(Math.max(h+1,t)))},c=function(){return a(),Ei(e)},u=function(h){a(),n=h,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:u,end:c,_bufs:e}}function wt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=Iq[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var c=e.next(s);a<=127?c.write_shift(1,a):(c.write_shift(1,(a&127)+128),c.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(n>=128)c.write_shift(1,(n&127)+128),n>>=7;else{c.write_shift(1,n);break}n>0&&ab(r)&&e.push(r)}}function Eh(e,t,r){var n=zs(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AN(e,t,r){var n=zs(e);return n.s=Eh(n.s,t.s,r),n.e=Eh(n.e,t.s,r),n}function jh(e,t){if(e.cRel&&e.c<0)for(e=zs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=zs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=jn(e);return!e.cRel&&e.cRel!=null&&(r=YP(r)),!e.rRel&&e.rRel!=null&&(r=WP(r)),r}function z2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Wi(e.s.c)+":"+(e.e.cRel?"":"$")+Wi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ci(e.s.r)+":"+(e.e.rRel?"":"$")+Ci(e.e.r):jh(e.s,t.biff)+":"+jh(e.e,t.biff)}function ib(e){return parseInt($P(e),10)-1}function Ci(e){return""+(e+1)}function WP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $P(e){return e.replace(/\$(\d+)$/,"$1")}function sb(e){for(var t=XP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Wi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function YP(e){return e.replace(/^([A-Z])/,"$$$1")}function XP(e){return e.replace(/^\$([A-Z])/,"$1")}function KP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function pi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function jn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function eo(e){var t=e.indexOf(":");return t==-1?{s:pi(e),e:pi(e)}:{s:pi(e.slice(0,t)),e:pi(e.slice(t+1))}}function Ba(e,t){return typeof t>"u"||typeof t=="number"?Ba(e.s,e.e):(typeof e!="string"&&(e=jn(e)),typeof t!="string"&&(t=jn(t)),e==t?e:e+":"+t)}function Xn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function EN(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ru(e.z,r?Ls(t):t)}catch{}try{return e.w=Ru((e.XF||{}).numFmtId||(r?14:0),r?Ls(t):t)}catch{return""+t}}function zc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?N1[e.v]||e.v:t==null?EN(e,e.v):EN(e,t))}function Ff(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function RA(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),c=0,u=0;if(s&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?pi(n.origin):n.origin;c=d.r,u=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=Xn(s["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),c==-1&&(h.e.r=c=m.e.r+1)}for(var x=0;x!=t.length;++x)if(t[x]){if(!Array.isArray(t[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=t[x].length;++b)if(!(typeof t[x][b]>"u")){var g={v:t[x][b]},T=c+x,w=u+b;if(h.s.r>T&&(h.s.r=T),h.s.c>w&&(h.s.c=w),h.e.r<T&&(h.e.r=T),h.e.c<w&&(h.e.c=w),t[x][b]&&typeof t[x][b]=="object"&&!Array.isArray(t[x][b])&&!(t[x][b]instanceof Date))g=t[x][b];else if(Array.isArray(g.v)&&(g.f=t[x][b][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Ta[14],n.cellDates?(g.t="d",g.w=Ru(g.z,Ls(g.v))):(g.t="n",g.v=Ls(g.v),g.w=Ru(g.z,g.v))):g.t="s";if(a)s[T]||(s[T]=[]),s[T][w]&&s[T][w].z&&(g.z=s[T][w].z),s[T][w]=g;else{var _=jn({c:w,r:T});s[_]&&s[_].z&&(g.z=s[_].z),s[_]=g}}}return h.s.c<1e7&&(s["!ref"]=Ba(h)),s}function vd(e,t){return RA(null,e,t)}function ZP(e){return e.read_shift(4,"i")}function ll(e,t){return t||(t=st(4)),t.write_shift(4,e),t}function $i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function gi(e,t){var r=!1;return t==null&&(r=!0,t=st(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function JP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function QP(e,t){return t||(t=st(4)),t.write_shift(2,0),t.write_shift(2,0),t}function ob(e,t){var r=e.l,n=e.read_shift(1),a=$i(e),s=[],c={t:a,h:a};if((n&1)!==0){for(var u=e.read_shift(4),d=0;d!=u;++d)s.push(JP(e));c.r=s}else c.r=[{ich:0,ifnt:0}];return e.l=r+t,c}function eB(e,t){var r=!1;return t==null&&(r=!0,t=st(15+4*e.t.length)),t.write_shift(1,0),gi(e.t,t),r?t.slice(0,t.l):t}var tB=ob;function rB(e,t){var r=!1;return t==null&&(r=!0,t=st(23+4*e.t.length)),t.write_shift(1,1),gi(e.t,t),t.write_shift(4,1),QP({},t),r?t.slice(0,t.l):t}function Ao(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Of(e,t){return t==null&&(t=st(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Rf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Mf(e,t){return t==null&&(t=st(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var nB=$i,MA=gi;function lb(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Cp(e,t){var r=!1;return t==null&&(r=!0,t=st(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var aB=$i,Mv=lb,cb=Cp;function IA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?jp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):pf(t,0)>>2;return r?a/100:a}function PA(e,t){t==null&&(t=st(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function BA(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function iB(e,t){return t||(t=st(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var If=BA,bd=iB;function yd(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Cf(e,t){return(t||st(8)).write_shift(8,e,"f")}function sB(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),c=e.read_shift(1),u=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var h=pB[a];h&&(t.rgb=IN(h));break;case 2:t.rgb=IN([c,u,d]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function kp(e,t){if(t||(t=st(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function oB(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function lB(e,t){t||(t=st(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var UA=2,Ys=3,Pm=11,Dp=19,Bm=64,cB=65,uB=71,fB=4108,dB=4126,Ai=80,jN={1:{n:"CodePage",t:UA},2:{n:"Category",t:Ai},3:{n:"PresentationFormat",t:Ai},4:{n:"ByteCount",t:Ys},5:{n:"LineCount",t:Ys},6:{n:"ParagraphCount",t:Ys},7:{n:"SlideCount",t:Ys},8:{n:"NoteCount",t:Ys},9:{n:"HiddenCount",t:Ys},10:{n:"MultimediaClipCount",t:Ys},11:{n:"ScaleCrop",t:Pm},12:{n:"HeadingPairs",t:fB},13:{n:"TitlesOfParts",t:dB},14:{n:"Manager",t:Ai},15:{n:"Company",t:Ai},16:{n:"LinksUpToDate",t:Pm},17:{n:"CharacterCount",t:Ys},19:{n:"SharedDoc",t:Pm},22:{n:"HyperlinksChanged",t:Pm},23:{n:"AppVersion",t:Ys,p:"version"},24:{n:"DigSig",t:cB},26:{n:"ContentType",t:Ai},27:{n:"ContentStatus",t:Ai},28:{n:"Language",t:Ai},29:{n:"Version",t:Ai},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}},CN={1:{n:"CodePage",t:UA},2:{n:"Title",t:Ai},3:{n:"Subject",t:Ai},4:{n:"Author",t:Ai},5:{n:"Keywords",t:Ai},6:{n:"Comments",t:Ai},7:{n:"Template",t:Ai},8:{n:"LastAuthor",t:Ai},9:{n:"RevNumber",t:Ai},10:{n:"EditTime",t:Bm},11:{n:"LastPrinted",t:Bm},12:{n:"CreatedDate",t:Bm},13:{n:"ModifiedDate",t:Bm},14:{n:"PageCount",t:Ys},15:{n:"WordCount",t:Ys},16:{n:"CharCount",t:Ys},17:{n:"Thumbnail",t:uB},18:{n:"Application",t:Ai},19:{n:"DocSecurity",t:Ys},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}};function hB(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var mB=hB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pB=zs(mB),N1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Um={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VA(e,t){var r=AP(gB),n=[],a;n[n.length]=Ua,n[n.length]=Ot("Types",null,{xmlns:mi.CT,"xmlns:xsd":mi.xsd,"xmlns:xsi":mi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ot("Default",null,{Extension:d[0],ContentType:d[1]})}));var s=function(d){e[d]&&e[d].length>0&&(a=e[d][0],n[n.length]=Ot("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Um[d][t.bookType]||Um[d].xlsx}))},c=function(d){(e[d]||[]).forEach(function(h){n[n.length]=Ot("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Um[d][t.bookType]||Um[d].xlsx})})},u=function(d){(e[d]||[]).forEach(function(h){n[n.length]=Ot("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return s("workbooks"),c("sheets"),c("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),c("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var pn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function J0(e){var t=[Ua,Ot("Relationships",null,{xmlns:mi.RELS})];return ki(e["!id"]).forEach(function(r){t[t.length]=Ot("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Tn(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[pn.HLINK,pn.XPATH,pn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function xB(e){var t=[Ua];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function kN(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function vB(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function bB(e){var t=[Ua];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(kN(e[r][0],e[r][1])),t.push(vB("",e[r][0]));return t.push(kN("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function qA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Sp.version+"</meta:generator></office:meta></office:document-meta>"}var Nf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function F2(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=En(t),n[n.length]=r?Ot(e,t,r):ji(e,t))}function WA(e,t){var r=t||{},n=[Ua,Ot("cp:coreProperties",null,{"xmlns:cp":mi.CORE_PROPS,"xmlns:dc":mi.dc,"xmlns:dcterms":mi.dcterms,"xmlns:dcmitype":mi.dcmitype,"xmlns:xsi":mi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&F2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Rv(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&F2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Rv(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=Nf.length;++s){var c=Nf[s],u=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:e?e[c[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&F2(c[0],u,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Q0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],$A=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function YA(e){var t=[],r=Ot;return e||(e={}),e.Application="SheetJS",t[t.length]=Ua,t[t.length]=Ot("Properties",null,{xmlns:mi.EXT_PROPS,"xmlns:vt":mi.vt}),Q0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=En(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+En(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function XA(e){var t=[Ua,Ot("Properties",null,{xmlns:mi.CUST_PROPS,"xmlns:vt":mi.vt})];if(!e)return t.join("");var r=1;return ki(e).forEach(function(a){++r,t[t.length]=Ot("property",MP(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:En(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var DN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function yB(e,t){var r=[];return ki(DN).map(function(n){for(var a=0;a<Nf.length;++a)if(Nf[a][1]==n)return Nf[a];for(a=0;a<Q0.length;++a)if(Q0[a][1]==n)return Q0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ji(DN[n[1]]||n[1],a))}}),Ot("DocumentProperties",r.join(""),{xmlns:Ks.o})}function wB(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ki(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var c=0;c<Nf.length;++c)if(s==Nf[c][1])return;for(c=0;c<Q0.length;++c)if(s==Q0[c][1])return;for(c=0;c<r.length;++c)if(s==r[c])return;var u=e[s],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),a.push(Ot(vN(s),u,{"dt:dt":d}))}}),t&&ki(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var c=t[s],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c instanceof Date?(u="dateTime.tz",c=c.toISOString()):c=String(c),a.push(Ot(vN(s),c,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Ks.o+'">'+a.join("")+"</"+n+">"}function SB(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var c=st(8);return c.write_shift(4,n),c.write_shift(4,a),c}function LN(e,t){var r=st(4),n=st(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=st(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=SB(t);break;case 31:case 80:for(n=st(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ei([r,n])}var KA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function NB(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function zN(e,t,r){var n=st(8),a=[],s=[],c=8,u=0,d=st(8),h=st(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),s.push(d),a.push(h),c+=8+d.length,!t){h=st(8),h.write_shift(4,0),a.unshift(h);var m=[st(4)];for(m[0].write_shift(4,e.length),u=0;u<e.length;++u){var x=e[u][0];for(d=st(8+2*(x.length+1)+(x.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,x.length+1),d.write_shift(0,x,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=Ei(m),s.unshift(d),c+=8+d.length}for(u=0;u<e.length;++u)if(!(t&&!t[e[u][0]])&&!(KA.indexOf(e[u][0])>-1||$A.indexOf(e[u][0])>-1)&&e[u][1]!=null){var b=e[u][1],g=0;if(t){g=+t[e[u][0]];var T=r[g];if(T.p=="version"&&typeof b=="string"){var w=b.split(".");b=(+w[0]<<16)+(+w[1]||0)}d=LN(T.t,b)}else{var _=NB(b);_==-1&&(_=31,b=String(b)),d=LN(_,b)}s.push(d),h=st(8),h.write_shift(4,t?g:2+u),a.push(h),c+=8+d.length}var E=8*(s.length+1);for(u=0;u<s.length;++u)a[u].write_shift(4,E),E+=s[u].length;return n.write_shift(4,c),n.write_shift(4,s.length),Ei([n].concat(a).concat(s))}function FN(e,t,r,n,a,s){var c=st(a?68:48),u=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Rn.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,a?2:1),c.write_shift(16,t,"hex"),c.write_shift(4,a?68:48);var d=zN(e,r,n);if(u.push(d),a){var h=zN(a,null,null);c.write_shift(16,s,"hex"),c.write_shift(4,68+d.length),u.push(h)}return Ei(u)}function _B(e,t){t||(t=st(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function TB(e,t){return e.read_shift(t)===1}function is(e,t){return t||(t=st(2)),t.write_shift(2,+!!e),t}function ZA(e){return e.read_shift(2,"u")}function yo(e,t){return t||(t=st(2)),t.write_shift(2,e),t}function JA(e,t,r){return r||(r=st(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function QA(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var c=n?e.read_shift(n,a):"";return c}function AB(e){var t=e.t||"",r=st(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=st(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ei(a)}function EB(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function jB(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):EB(e,n,r)}function CB(e,t,r){if(r.biff>5)return jB(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function eE(e,t,r){return r||(r=st(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ON(e,t){t||(t=st(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function kB(e){var t=st(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)t.write_shift(4,c[r]);if(s==28)n=n.slice(1),ON(n,t);else if(s&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)t.write_shift(1,parseInt(c[r],16));var u=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)t.write_shift(2,u.charCodeAt(r));t.write_shift(2,0),s&8&&ON(a>-1?n.slice(a+1):"",t)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)t.write_shift(1,parseInt(c[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)t.write_shift(1,n.charCodeAt(r+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function kf(e,t,r,n){return n||(n=st(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function DB(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),c=e.read_shift(n,"i");return[a,s,c]}function LB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function tE(e,t){return t||(t=st(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function ub(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=st(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function zB(e,t){var r=!t||t.biff==8,n=st(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function FB(e,t){var r=!t||t.biff>=8?2:1,n=st(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function OB(e,t){var r=st(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=AB(e[a]);var s=Ei([r].concat(n));return s.parts=[r.length].concat(n.map(function(c){return c.length})),s}function RB(){var e=st(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function MB(e){var t=st(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function IB(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=st(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function PB(e,t,r,n){var a=st(10);return kf(e,t,n,a),a.write_shift(4,r),a}function BB(e,t,r,n,a){var s=!a||a.biff==8,c=st(8+ +s+(1+s)*r.length);return kf(e,t,n,c),c.write_shift(2,r.length),s&&c.write_shift(1,1),c.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),c}function UB(e,t,r,n){var a=r&&r.biff==5;n||(n=st(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function HB(e,t){var r=t.biff==8||!t.biff?4:2,n=st(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function RN(e,t,r,n){var a=r&&r.biff==5;n||(n=st(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function VB(e){var t=st(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function GB(e,t,r,n,a,s){var c=st(8);return kf(e,t,n,c),JA(r,s,c),c}function qB(e,t,r,n){var a=st(14);return kf(e,t,n,a),Cf(r,a),a}function WB(e,t,r){if(r.biff<8)return $B(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(DB(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function $B(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=QA(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function YB(e){var t=st(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)tE(e[r],t);return t}function XB(e){var t=st(24),r=pi(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ei([t,kB(e[1])])}function KB(e){var t=e[1].Tooltip,r=st(10+2*(t.length+1));r.write_shift(2,2048);var n=pi(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function ZB(e){return e||(e=st(4)),e.write_shift(2,1),e.write_shift(2,1),e}function JB(e,t,r){if(!r.cellStyles)return Vl(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),c=e.read_shift(n),u=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var h={s:a,e:s,w:c,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function QB(e,t){var r=st(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function eU(e){for(var t=st(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function tU(e,t,r){var n=st(15);return T1(n,e,t),n.write_shift(8,r,"f"),n}function rU(e,t,r){var n=st(9);return T1(n,e,t),n.write_shift(2,r),n}var nU=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Q5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],m=jf(1);switch(d.type){case"base64":m=nl(Lc(u));break;case"binary":m=nl(u);break;case"buffer":case"array":m=u;break}Xs(m,0);var x=m.read_shift(1),b=!!(x&136),g=!1,T=!1;switch(x){case 2:break;case 3:break;case 48:g=!0,b=!0;break;case 49:g=!0,b=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var w=0,_=521;x==2&&(w=m.read_shift(2)),m.l+=3,x!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),x!=2&&(_=m.read_shift(2));var E=m.read_shift(2),F=d.codepage||1252;x!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(F=e[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var C=[],L={},X=Math.min(m.length,x==2?521:_-10-(g?264:0)),I=T?32:11;m.l<X&&m[m.l]!=13;)switch(L={},L.name=Np.utils.decode(F,m.slice(m.l,m.l+I)).replace(/[\u0000\r\n].*$/g,""),m.l+=I,L.type=String.fromCharCode(m.read_shift(1)),x!=2&&!T&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),x==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&C.push(L),x!=2&&(m.l+=T?13:14),L.type){case"B":(!g||L.len!=8)&&d.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=_-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=_;var U=0,K=0;for(h[0]=[],K=0;K!=C.length;++K)h[0][K]=C[K].name;for(;w-- >0;){if(m[m.l]===42){m.l+=E;continue}for(++m.l,h[++U]=[],K=0,K=0;K!=C.length;++K){var H=m.slice(m.l,m.l+C[K].len);m.l+=C[K].len,Xs(H,0);var oe=Np.utils.decode(F,H);switch(C[K].type){case"C":oe.trim().length&&(h[U][K]=oe.replace(/\s+$/,""));break;case"D":oe.length===8?h[U][K]=new Date(+oe.slice(0,4),+oe.slice(4,6)-1,+oe.slice(6,8)):h[U][K]=oe;break;case"F":h[U][K]=parseFloat(oe.trim());break;case"+":case"I":h[U][K]=T?H.read_shift(-4,"i")^2147483648:H.read_shift(4,"i");break;case"L":switch(oe.trim().toUpperCase()){case"Y":case"T":h[U][K]=!0;break;case"N":case"F":h[U][K]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+oe+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));h[U][K]="##MEMO##"+(T?parseInt(oe.trim(),10):H.read_shift(4));break;case"N":oe=oe.replace(/\u0000/g,"").trim(),oe&&oe!="."&&(h[U][K]=+oe||0);break;case"@":h[U][K]=new Date(H.read_shift(-8,"f")-621356832e5);break;case"T":h[U][K]=new Date((H.read_shift(4)-2440588)*864e5+H.read_shift(4));break;case"Y":h[U][K]=H.read_shift(4,"i")/1e4+H.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[U][K]=-H.read_shift(-8,"f");break;case"B":if(g&&C[K].len==8){h[U][K]=H.read_shift(8,"f");break}case"G":case"P":H.l+=C[K].len;break;case"0":if(C[K].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[K].type)}}}if(x!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=C,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=vd(r(u,h),h);return m["!cols"]=h.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete h.DBF,m}function a(u,d){try{return Ff(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function c(u,d){var h=d||{};if(+h.codepage>=0&&Qh(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=ks(),x=Rp(u,{header:1,raw:!0,cellDates:!0}),b=x[0],g=x.slice(1),T=u["!cols"]||[],w=0,_=0,E=0,F=1;for(w=0;w<b.length;++w){if(((T[w]||{}).DBF||{}).name){b[w]=T[w].DBF.name,++E;continue}if(b[w]!=null){if(++E,typeof b[w]=="number"&&(b[w]=b[w].toString(10)),typeof b[w]!="string")throw new Error("DBF Invalid column name "+b[w]+" |"+typeof b[w]+"|");if(b.indexOf(b[w])!==w){for(_=0;_<1024;++_)if(b.indexOf(b[w]+"_"+_)==-1){b[w]+="_"+_;break}}}}var C=Xn(u["!ref"]),L=[],X=[],I=[];for(w=0;w<=C.e.c-C.s.c;++w){var U="",K="",H=0,oe=[];for(_=0;_<g.length;++_)g[_][w]!=null&&oe.push(g[_][w]);if(oe.length==0||b[w]==null){L[w]="?";continue}for(_=0;_<oe.length;++_){switch(typeof oe[_]){case"number":K="B";break;case"string":K="C";break;case"boolean":K="L";break;case"object":K=oe[_]instanceof Date?"D":"C";break;default:K="C"}H=Math.max(H,String(oe[_]).length),U=U&&U!=K?"C":K}H>250&&(H=250),K=((T[w]||{}).DBF||{}).type,K=="C"&&T[w].DBF.len>H&&(H=T[w].DBF.len),U=="B"&&K=="N"&&(U="N",I[w]=T[w].DBF.dec,H=T[w].DBF.len),X[w]=U=="C"||K=="N"?H:s[U]||0,F+=X[w],L[w]=U}var O=m.next(32);for(O.write_shift(4,318902576),O.write_shift(4,g.length),O.write_shift(2,296+32*E),O.write_shift(2,F),w=0;w<4;++w)O.write_shift(4,0);for(O.write_shift(4,0|(+t[nA]||3)<<8),w=0,_=0;w<b.length;++w)if(b[w]!=null){var R=m.next(32),V=(b[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,V,"sbcs"),R.write_shift(1,L[w]=="?"?"C":L[w],"sbcs"),R.write_shift(4,_),R.write_shift(1,X[w]||s[L[w]]||0),R.write_shift(1,I[w]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),_+=X[w]||s[L[w]]||0}var re=m.next(264);for(re.write_shift(4,13),w=0;w<65;++w)re.write_shift(4,0);for(w=0;w<g.length;++w){var le=m.next(F);for(le.write_shift(1,0),_=0;_<b.length;++_)if(b[_]!=null)switch(L[_]){case"L":le.write_shift(1,g[w][_]==null?63:g[w][_]?84:70);break;case"B":le.write_shift(8,g[w][_]||0,"f");break;case"N":var Z="0";for(typeof g[w][_]=="number"&&(Z=g[w][_].toFixed(I[_]||0)),E=0;E<X[_]-Z.length;++E)le.write_shift(1,32);le.write_shift(1,Z,"sbcs");break;case"D":g[w][_]?(le.write_shift(4,("0000"+g[w][_].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(g[w][_].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+g[w][_].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(g[w][_]!=null?g[w][_]:"").slice(0,X[_]);for(le.write_shift(1,ie,"sbcs"),E=0;E<X[_]-ie.length;++E)le.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:c}})(),aU=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ki(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,g){var T=e[g];return typeof T=="number"?sN(T):T},n=function(b,g,T){var w=g.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return w==59?b:sN(w)};e["|"]=254;function a(b,g){switch(g.type){case"base64":return s(Lc(b),g);case"binary":return s(b,g);case"buffer":return s(bn&&Buffer.isBuffer(b)?b.toString("binary"):y1(b),g);case"array":return s(eg(b),g)}throw new Error("Unrecognized type "+g.type)}function s(b,g){var T=b.split(/[\n\r]+/),w=-1,_=-1,E=0,F=0,C=[],L=[],X=null,I={},U=[],K=[],H=[],oe=0,O;for(+g.codepage>=0&&Qh(+g.codepage);E!==T.length;++E){oe=0;var R=T[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=R.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),re=V[0],le;if(R.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&L.push(R.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,ie=!1,J=!1,Y=!1,se=-1,P=-1;for(F=1;F<V.length;++F)switch(V[F].charAt(0)){case"A":break;case"X":_=parseInt(V[F].slice(1))-1,ie=!0;break;case"Y":for(w=parseInt(V[F].slice(1))-1,ie||(_=0),O=C.length;O<=w;++O)C[O]=[];break;case"K":le=V[F].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Ec(le))?isNaN(t1(le).getDate())||(le=os(le)):(le=Ec(le),X!==null&&pA(X)&&(le=bA(le))),Z=!0;break;case"E":Y=!0;var N=rH(V[F].slice(1),{r:w,c:_});C[w][_]=[C[w][_],N];break;case"S":J=!0,C[w][_]=[C[w][_],"S5S"];break;case"G":break;case"R":se=parseInt(V[F].slice(1))-1;break;case"C":P=parseInt(V[F].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}if(Z&&(C[w][_]&&C[w][_].length==2?C[w][_][0]=le:C[w][_]=le,X=null),J){if(Y)throw new Error("SYLK shared formula cannot have own formula");var k=se>-1&&C[se][P];if(!k||!k[1])throw new Error("SYLK shared formula cannot find base");C[w][_][1]=nH(k[1],{r:w-se,c:_-P})}break;case"F":var D=0;for(F=1;F<V.length;++F)switch(V[F].charAt(0)){case"X":_=parseInt(V[F].slice(1))-1,++D;break;case"Y":for(w=parseInt(V[F].slice(1))-1,O=C.length;O<=w;++O)C[O]=[];break;case"M":oe=parseInt(V[F].slice(1))/20;break;case"F":break;case"G":break;case"P":X=L[parseInt(V[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(H=V[F].slice(1).split(" "),O=parseInt(H[0],10);O<=parseInt(H[1],10);++O)oe=parseInt(H[2],10),K[O-1]=oe===0?{hidden:!0}:{wch:oe},fb(K[O-1]);break;case"C":_=parseInt(V[F].slice(1))-1,K[_]||(K[_]={});break;case"R":w=parseInt(V[F].slice(1))-1,U[w]||(U[w]={}),oe>0?(U[w].hpt=oe,U[w].hpx=sE(oe)):oe===0&&(U[w].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}D<1&&(X=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+R)}}return U.length>0&&(I["!rows"]=U),K.length>0&&(I["!cols"]=K),g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),[C,I]}function c(b,g){var T=a(b,g),w=T[0],_=T[1],E=vd(w,g);return ki(_).forEach(function(F){E[F]=_[F]}),E}function u(b,g){return Ff(c(b,g),g)}function d(b,g,T,w){var _="C;Y"+(T+1)+";X"+(w+1)+";K";switch(b.t){case"n":_+=b.v||0,b.f&&!b.F&&(_+=";E"+hb(b.f,{r:T,c:w}));break;case"b":_+=b.v?"TRUE":"FALSE";break;case"e":_+=b.w||b.v;break;case"d":_+='"'+(b.w||b.v)+'"';break;case"s":_+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function h(b,g){g.forEach(function(T,w){var _="F;W"+(w+1)+" "+(w+1)+" ";T.hidden?_+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=Lp(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=zp(T.wpx)),typeof T.wch=="number"&&(_+=Math.round(T.wch))),_.charAt(_.length-1)!=" "&&b.push(_)})}function m(b,g){g.forEach(function(T,w){var _="F;";T.hidden?_+="M0;":T.hpt?_+="M"+20*T.hpt+";":T.hpx&&(_+="M"+20*Fp(T.hpx)+";"),_.length>2&&b.push(_+"R"+(w+1))})}function x(b,g){var T=["ID;PWXL;N;E"],w=[],_=Xn(b["!ref"]),E,F=Array.isArray(b),C=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),b["!cols"]&&h(T,b["!cols"]),b["!rows"]&&m(T,b["!rows"]),T.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var L=_.s.r;L<=_.e.r;++L)for(var X=_.s.c;X<=_.e.c;++X){var I=jn({r:L,c:X});E=F?(b[L]||[])[X]:b[I],!(!E||E.v==null&&(!E.f||E.F))&&w.push(d(E,b,L,X))}return T.join(C)+C+w.join(C)+C+"E"+C}return{to_workbook:u,to_sheet:c,from_sheet:x}})(),iU=(function(){function e(s,c){switch(c.type){case"base64":return t(Lc(s),c);case"binary":return t(s,c);case"buffer":return t(bn&&Buffer.isBuffer(s)?s.toString("binary"):y1(s),c);case"array":return t(eg(s),c)}throw new Error("Unrecognized type "+c.type)}function t(s,c){for(var u=s.split(`
`),d=-1,h=-1,m=0,x=[];m!==u.length;++m){if(u[m].trim()==="BOT"){x[++d]=[],h=0;continue}if(!(d<0)){var b=u[m].trim().split(","),g=b[0],T=b[1];++m;for(var w=u[m]||"";(w.match(/["]/g)||[]).length&1&&m<u.length-1;)w+=`
`+u[++m];switch(w=w.trim(),+g){case-1:if(w==="BOT"){x[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[d][h]=!0:w==="FALSE"?x[d][h]=!1:isNaN(Ec(T))?isNaN(t1(T).getDate())?x[d][h]=T:x[d][h]=os(T):x[d][h]=Ec(T),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function r(s,c){return vd(e(s,c),c)}function n(s,c){return Ff(r(s,c),c)}var a=(function(){var s=function(d,h,m,x,b){d.push(h),d.push(m+","+x),d.push('"'+b.replace(/"/g,'""')+'"')},c=function(d,h,m,x){d.push(h+","+m),d.push(h==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(d){var h=[],m=Xn(d["!ref"]),x,b=Array.isArray(d);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,m.e.r-m.s.r+1,""),s(h,"TUPLES",0,m.e.c-m.s.c+1,""),s(h,"DATA",0,0,"");for(var g=m.s.r;g<=m.e.r;++g){c(h,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var w=jn({r:g,c:T});if(x=b?(d[g]||[])[T]:d[w],!x){c(h,1,0,"");continue}switch(x.t){case"n":var _=x.w;!_&&x.v!=null&&(_=x.v),_==null?x.f&&!x.F?c(h,1,0,"="+x.f):c(h,1,0,""):c(h,0,_,"V");break;case"b":c(h,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(h,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Ru(x.z||Ta[14],Ls(os(x.v)))),c(h,0,x.w,"V");break;default:c(h,1,0,"")}}}c(h,-1,0,"EOD");var E=`\r
`,F=h.join(E);return F}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),rE=(function(){function e(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,b){for(var g=x.split(`
`),T=-1,w=-1,_=0,E=[];_!==g.length;++_){var F=g[_].trim().split(":");if(F[0]==="cell"){var C=pi(F[1]);if(E.length<=C.r)for(T=E.length;T<=C.r;++T)E[T]||(E[T]=[]);switch(T=C.r,w=C.c,F[2]){case"t":E[T][w]=e(F[3]);break;case"v":E[T][w]=+F[3];break;case"vtf":var L=F[F.length-1];case"vtc":switch(F[3]){case"nl":E[T][w]=!!+F[4];break;default:E[T][w]=+F[4];break}F[2]=="vtf"&&(E[T][w]=[E[T][w],L])}}}return b&&b.sheetRows&&(E=E.slice(0,b.sheetRows)),E}function n(x,b){return vd(r(x,b),b)}function a(x,b){return Ff(n(x,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(x){if(!x||!x["!ref"])return"";for(var b=[],g=[],T,w="",_=eo(x["!ref"]),E=Array.isArray(x),F=_.s.r;F<=_.e.r;++F)for(var C=_.s.c;C<=_.e.c;++C)if(w=jn({r:F,c:C}),T=E?(x[F]||[])[C]:x[w],!(!T||T.v==null||T.t==="z")){switch(g=["cell",w,"t"],T.t){case"s":case"str":g.push(t(T.v));break;case"n":T.f?(g[2]="vtf",g[3]="n",g[4]=T.v,g[5]=t(T.f)):(g[2]="v",g[3]=T.v);break;case"b":g[2]="vt"+(T.f?"f":"c"),g[3]="nl",g[4]=T.v?"1":"0",g[5]=t(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var L=Ls(os(T.v));g[2]="vtc",g[3]="nd",g[4]=""+L,g[5]=T.w||Ru(T.z||Ta[14],L);break;case"e":continue}b.push(g.join(":"))}return b.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(x){return[s,c,u,c,h(x),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:m}})(),sU=(function(){function e(m,x,b,g,T){T.raw?x[b][g]=m:m===""||(m==="TRUE"?x[b][g]=!0:m==="FALSE"?x[b][g]=!1:isNaN(Ec(m))?isNaN(t1(m).getDate())?x[b][g]=m:x[b][g]=os(m):x[b][g]=Ec(m))}function t(m,x){var b=x||{},g=[];if(!m||m.length===0)return g;for(var T=m.split(/[\r\n]/),w=T.length-1;w>=0&&T[w].length===0;)--w;for(var _=10,E=0,F=0;F<=w;++F)E=T[F].indexOf(" "),E==-1?E=T[F].length:E++,_=Math.max(_,E);for(F=0;F<=w;++F){g[F]=[];var C=0;for(e(T[F].slice(0,_).trim(),g,F,C,b),C=1;C<=(T[F].length-_)/10+1;++C)e(T[F].slice(_+(C-1)*10,_+C*10).trim(),g,F,C,b)}return b.sheetRows&&(g=g.slice(0,b.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(m){for(var x={},b=!1,g=0,T=0;g<m.length;++g)(T=m.charCodeAt(g))==34?b=!b:!b&&T in r&&(x[T]=(x[T]||0)+1);T=[];for(g in x)Object.prototype.hasOwnProperty.call(x,g)&&T.push([x[g],g]);if(!T.length){x=n;for(g in x)Object.prototype.hasOwnProperty.call(x,g)&&T.push([x[g],g])}return T.sort(function(w,_){return w[0]-_[0]||n[w[1]]-n[_[1]]}),r[T.pop()[1]]||44}function s(m,x){var b=x||{},g="",T=b.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(g=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(g=m.charAt(4),m=m.slice(6)):g=a(m.slice(0,1024)):b&&b.FS?g=b.FS:g=a(m.slice(0,1024));var _=0,E=0,F=0,C=0,L=0,X=g.charCodeAt(0),I=!1,U=0,K=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var H=b.dateNF!=null?SP(b.dateNF):null;function oe(){var O=m.slice(C,L),R={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)R.t="z";else if(b.raw)R.t="s",R.v=O;else if(O.trim().length===0)R.t="s",R.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(R.t="s",R.v=O.slice(2,-1).replace(/""/g,'"')):aH(O)?(R.t="n",R.f=O.slice(1)):(R.t="s",R.v=O);else if(O=="TRUE")R.t="b",R.v=!0;else if(O=="FALSE")R.t="b",R.v=!1;else if(!isNaN(F=Ec(O)))R.t="n",b.cellText!==!1&&(R.w=O),R.v=F;else if(!isNaN(t1(O).getDate())||H&&O.match(H)){R.z=b.dateNF||Ta[14];var V=0;H&&O.match(H)&&(O=NP(O,b.dateNF,O.match(H)||[]),V=1),b.cellDates?(R.t="d",R.v=os(O,V)):(R.t="n",R.v=Ls(os(O,V))),b.cellText!==!1&&(R.w=Ru(R.z,R.v instanceof Date?Ls(R.v):R.v)),b.cellNF||delete R.z}else R.t="s",R.v=O;if(R.t=="z"||(b.dense?(T[_]||(T[_]=[]),T[_][E]=R):T[jn({c:E,r:_})]=R),C=L+1,K=m.charCodeAt(C),w.e.c<E&&(w.e.c=E),w.e.r<_&&(w.e.r=_),U==X)++E;else if(E=0,++_,b.sheetRows&&b.sheetRows<=_)return!0}e:for(;L<m.length;++L)switch(U=m.charCodeAt(L)){case 34:K===34&&(I=!I);break;case X:case 10:case 13:if(!I&&oe())break e;break}return L-C>0&&oe(),T["!ref"]=Ba(w),T}function c(m,x){return!(x&&x.PRN)||x.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,x):vd(t(m,x),x)}function u(m,x){var b="",g=x.type=="string"?[0,0,0,0]:vW(m,x);switch(x.type){case"base64":b=Lc(m);break;case"binary":b=m;break;case"buffer":x.codepage==65001?b=m.toString("utf8"):x.codepage&&typeof Np<"u"||(b=bn&&Buffer.isBuffer(m)?m.toString("binary"):y1(m));break;case"array":b=eg(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+x.type)}return g[0]==239&&g[1]==187&&g[2]==191?b=Th(b.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?b=Th(b):x.type=="binary"&&typeof Np<"u",b.slice(0,19)=="socialcalc:version:"?rE.to_sheet(x.type=="string"?b:Th(b),x):c(b,x)}function d(m,x){return Ff(u(m,x),x)}function h(m){for(var x=[],b=Xn(m["!ref"]),g,T=Array.isArray(m),w=b.s.r;w<=b.e.r;++w){for(var _=[],E=b.s.c;E<=b.e.c;++E){var F=jn({r:w,c:E});if(g=T?(m[w]||[])[E]:m[F],!g||g.v==null){_.push("          ");continue}for(var C=(g.w||(zc(g),g.w)||"").slice(0,10);C.length<10;)C+=" ";_.push(C+(E===0?" ":""))}x.push(_.join(""))}return x.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),MN=(function(){function e(N,k,D){if(N){Xs(N,N.l||0);for(var M=D.Enum||se;N.l<N.length;){var q=N.read_shift(2),Q=M[q]||M[65535],me=N.read_shift(2),de=N.l+me,ye=Q.f&&Q.f(N,me,D);if(N.l=de,k(ye,Q,q))return}}}function t(N,k){switch(k.type){case"base64":return r(nl(Lc(N)),k);case"binary":return r(nl(N),k);case"buffer":case"array":return r(N,k)}throw"Unsupported type "+k.type}function r(N,k){if(!N)return N;var D=k||{},M=D.dense?[]:{},q="Sheet1",Q="",me=0,de={},ye=[],Ce=[],Ve={s:{r:0,c:0},e:{r:0,c:0}},Be=D.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)D.Enum=se,e(N,function(Oe,Qe,Ue){switch(Ue){case 0:D.vers=Oe,Oe>=4096&&(D.qpro=!0);break;case 6:Ve=Oe;break;case 204:Oe&&(Q=Oe);break;case 222:Q=Oe;break;case 15:case 51:D.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=D.dateNF||Ta[14],D.cellDates&&(Oe[1].t="d",Oe[1].v=bA(Oe[1].v))),D.qpro&&Oe[3]>me&&(M["!ref"]=Ba(Ve),de[q]=M,ye.push(q),M=D.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=Oe[3],q=Q||"Sheet"+(me+1),Q="");var ct=D.dense?(M[Oe[0].r]||[])[Oe[0].c]:M[jn(Oe[0])];if(ct){ct.t=Oe[1].t,ct.v=Oe[1].v,Oe[1].z!=null&&(ct.z=Oe[1].z),Oe[1].f!=null&&(ct.f=Oe[1].f);break}D.dense?(M[Oe[0].r]||(M[Oe[0].r]=[]),M[Oe[0].r][Oe[0].c]=Oe[1]):M[jn(Oe[0])]=Oe[1];break}},D);else if(N[2]==26||N[2]==14)D.Enum=P,N[2]==14&&(D.qpro=!0,N.l=0),e(N,function(Oe,Qe,Ue){switch(Ue){case 204:q=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>me&&(M["!ref"]=Ba(Ve),de[q]=M,ye.push(q),M=D.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=Oe[3],q="Sheet"+(me+1)),Be>0&&Oe[0].r>=Be)break;D.dense?(M[Oe[0].r]||(M[Oe[0].r]=[]),M[Oe[0].r][Oe[0].c]=Oe[1]):M[jn(Oe[0])]=Oe[1],Ve.e.c<Oe[0].c&&(Ve.e.c=Oe[0].c),Ve.e.r<Oe[0].r&&(Ve.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Ce[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Ce[Oe[0]]=Oe[1],Oe[0]==me&&(q=Oe[1]);break}},D);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(M["!ref"]=Ba(Ve),de[Q||q]=M,ye.push(Q||q),!Ce.length)return{SheetNames:ye,Sheets:de};for(var ae={},he=[],Ze=0;Ze<Ce.length;++Ze)de[ye[Ze]]?(he.push(Ce[Ze]||ye[Ze]),ae[Ce[Ze]]=de[Ce[Ze]]||de[ye[Ze]]):(he.push(Ce[Ze]),ae[Ce[Ze]]={"!ref":"A1"});return{SheetNames:he,Sheets:ae}}function n(N,k){var D=k||{};if(+D.codepage>=0&&Qh(+D.codepage),D.type=="string")throw new Error("Cannot write WK1 to JS string");var M=ks(),q=Xn(N["!ref"]),Q=Array.isArray(N),me=[];Rt(M,0,s(1030)),Rt(M,6,d(q));for(var de=Math.min(q.e.r,8191),ye=q.s.r;ye<=de;++ye)for(var Ce=Ci(ye),Ve=q.s.c;Ve<=q.e.c;++Ve){ye===q.s.r&&(me[Ve]=Wi(Ve));var Be=me[Ve]+Ce,ae=Q?(N[ye]||[])[Ve]:N[Be];if(!(!ae||ae.t=="z"))if(ae.t=="n")(ae.v|0)==ae.v&&ae.v>=-32768&&ae.v<=32767?Rt(M,13,g(ye,Ve,ae.v)):Rt(M,14,w(ye,Ve,ae.v));else{var he=zc(ae);Rt(M,15,x(ye,Ve,he.slice(0,239)))}}return Rt(M,1),M.end()}function a(N,k){var D=k||{};if(+D.codepage>=0&&Qh(+D.codepage),D.type=="string")throw new Error("Cannot write WK3 to JS string");var M=ks();Rt(M,0,c(N));for(var q=0,Q=0;q<N.SheetNames.length;++q)(N.Sheets[N.SheetNames[q]]||{})["!ref"]&&Rt(M,27,Y(N.SheetNames[q],Q++));var me=0;for(q=0;q<N.SheetNames.length;++q){var de=N.Sheets[N.SheetNames[q]];if(!(!de||!de["!ref"])){for(var ye=Xn(de["!ref"]),Ce=Array.isArray(de),Ve=[],Be=Math.min(ye.e.r,8191),ae=ye.s.r;ae<=Be;++ae)for(var he=Ci(ae),Ze=ye.s.c;Ze<=ye.e.c;++Ze){ae===ye.s.r&&(Ve[Ze]=Wi(Ze));var Oe=Ve[Ze]+he,Qe=Ce?(de[ae]||[])[Ze]:de[Oe];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")Rt(M,23,oe(ae,Ze,me,Qe.v));else{var Ue=zc(Qe);Rt(M,22,U(ae,Ze,me,Ue.slice(0,239)))}}++me}}return Rt(M,1),M.end()}function s(N){var k=st(2);return k.write_shift(2,N),k}function c(N){var k=st(26);k.write_shift(2,4096),k.write_shift(2,4),k.write_shift(4,0);for(var D=0,M=0,q=0,Q=0;Q<N.SheetNames.length;++Q){var me=N.SheetNames[Q],de=N.Sheets[me];if(!(!de||!de["!ref"])){++q;var ye=eo(de["!ref"]);D<ye.e.r&&(D=ye.e.r),M<ye.e.c&&(M=ye.e.c)}}return D>8191&&(D=8191),k.write_shift(2,D),k.write_shift(1,q),k.write_shift(1,M),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(1,1),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(4,0),k}function u(N,k,D){var M={s:{c:0,r:0},e:{c:0,r:0}};return k==8&&D.qpro?(M.s.c=N.read_shift(1),N.l++,M.s.r=N.read_shift(2),M.e.c=N.read_shift(1),N.l++,M.e.r=N.read_shift(2),M):(M.s.c=N.read_shift(2),M.s.r=N.read_shift(2),k==12&&D.qpro&&(N.l+=2),M.e.c=N.read_shift(2),M.e.r=N.read_shift(2),k==12&&D.qpro&&(N.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function d(N){var k=st(8);return k.write_shift(2,N.s.c),k.write_shift(2,N.s.r),k.write_shift(2,N.e.c),k.write_shift(2,N.e.r),k}function h(N,k,D){var M=[{c:0,r:0},{t:"n",v:0},0,0];return D.qpro&&D.vers!=20768?(M[0].c=N.read_shift(1),M[3]=N.read_shift(1),M[0].r=N.read_shift(2),N.l+=2):(M[2]=N.read_shift(1),M[0].c=N.read_shift(2),M[0].r=N.read_shift(2)),M}function m(N,k,D){var M=N.l+k,q=h(N,k,D);if(q[1].t="s",D.vers==20768){N.l++;var Q=N.read_shift(1);return q[1].v=N.read_shift(Q,"utf8"),q}return D.qpro&&N.l++,q[1].v=N.read_shift(M-N.l,"cstr"),q}function x(N,k,D){var M=st(7+D.length);M.write_shift(1,255),M.write_shift(2,k),M.write_shift(2,N),M.write_shift(1,39);for(var q=0;q<M.length;++q){var Q=D.charCodeAt(q);M.write_shift(1,Q>=128?95:Q)}return M.write_shift(1,0),M}function b(N,k,D){var M=h(N,k,D);return M[1].v=N.read_shift(2,"i"),M}function g(N,k,D){var M=st(7);return M.write_shift(1,255),M.write_shift(2,k),M.write_shift(2,N),M.write_shift(2,D,"i"),M}function T(N,k,D){var M=h(N,k,D);return M[1].v=N.read_shift(8,"f"),M}function w(N,k,D){var M=st(13);return M.write_shift(1,255),M.write_shift(2,k),M.write_shift(2,N),M.write_shift(8,D,"f"),M}function _(N,k,D){var M=N.l+k,q=h(N,k,D);if(q[1].v=N.read_shift(8,"f"),D.qpro)N.l=M;else{var Q=N.read_shift(2);L(N.slice(N.l,N.l+Q),q),N.l+=Q}return q}function E(N,k,D){var M=k&32768;return k&=-32769,k=(M?N:0)+(k>=8192?k-16384:k),(M?"":"$")+(D?Wi(k):Ci(k))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(N,k){Xs(N,0);for(var D=[],M=0,q="",Q="",me="",de="";N.l<N.length;){var ye=N[N.l++];switch(ye){case 0:D.push(N.read_shift(8,"f"));break;case 1:Q=E(k[0].c,N.read_shift(2),!0),q=E(k[0].r,N.read_shift(2),!1),D.push(Q+q);break;case 2:{var Ce=E(k[0].c,N.read_shift(2),!0),Ve=E(k[0].r,N.read_shift(2),!1);Q=E(k[0].c,N.read_shift(2),!0),q=E(k[0].r,N.read_shift(2),!1),D.push(Ce+Ve+":"+Q+q)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:D.push("("+D.pop()+")");break;case 5:D.push(N.read_shift(2));break;case 6:{for(var Be="";ye=N[N.l++];)Be+=String.fromCharCode(ye);D.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:D.push("-"+D.pop());break;case 23:D.push("+"+D.pop());break;case 22:D.push("NOT("+D.pop()+")");break;case 20:case 21:de=D.pop(),me=D.pop(),D.push(["AND","OR"][ye-20]+"("+me+","+de+")");break;default:if(ye<32&&C[ye])de=D.pop(),me=D.pop(),D.push(me+C[ye]+de);else if(F[ye]){if(M=F[ye][1],M==69&&(M=N[N.l++]),M>D.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+D.join("|")+"|");return}var ae=D.slice(-M);D.length-=M,D.push(F[ye][0]+"("+ae.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}D.length==1?k[1].f=""+D[0]:console.error("WK1 bad formula parse |"+D.join("|")+"|")}function X(N){var k=[{c:0,r:0},{t:"n",v:0},0];return k[0].r=N.read_shift(2),k[3]=N[N.l++],k[0].c=N[N.l++],k}function I(N,k){var D=X(N);return D[1].t="s",D[1].v=N.read_shift(k-4,"cstr"),D}function U(N,k,D,M){var q=st(6+M.length);q.write_shift(2,N),q.write_shift(1,D),q.write_shift(1,k),q.write_shift(1,39);for(var Q=0;Q<M.length;++Q){var me=M.charCodeAt(Q);q.write_shift(1,me>=128?95:me)}return q.write_shift(1,0),q}function K(N,k){var D=X(N);D[1].v=N.read_shift(2);var M=D[1].v>>1;if(D[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return D[1].v=M,D}function H(N,k){var D=X(N),M=N.read_shift(4),q=N.read_shift(4),Q=N.read_shift(2);if(Q==65535)return M===0&&q===3221225472?(D[1].t="e",D[1].v=15):M===0&&q===3489660928?(D[1].t="e",D[1].v=42):D[1].v=0,D;var me=Q&32768;return Q=(Q&32767)-16446,D[1].v=(1-me*2)*(q*Math.pow(2,Q+32)+M*Math.pow(2,Q)),D}function oe(N,k,D,M){var q=st(14);if(q.write_shift(2,N),q.write_shift(1,D),q.write_shift(1,k),M==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var Q=0,me=0,de=0,ye=0;return M<0&&(Q=1,M=-M),me=Math.log2(M)|0,M/=Math.pow(2,me-31),ye=M>>>0,(ye&2147483648)==0&&(M/=2,++me,ye=M>>>0),M-=ye,ye|=2147483648,ye>>>=0,M*=Math.pow(2,32),de=M>>>0,q.write_shift(4,de),q.write_shift(4,ye),me+=16383+(Q?32768:0),q.write_shift(2,me),q}function O(N,k){var D=H(N);return N.l+=k-14,D}function R(N,k){var D=X(N),M=N.read_shift(4);return D[1].v=M>>6,D}function V(N,k){var D=X(N),M=N.read_shift(8,"f");return D[1].v=M,D}function re(N,k){var D=V(N);return N.l+=k-10,D}function le(N,k){return N[N.l+k-1]==0?N.read_shift(k,"cstr"):""}function Z(N,k){var D=N[N.l++];D>k-1&&(D=k-1);for(var M="";M.length<D;)M+=String.fromCharCode(N[N.l++]);return M}function ie(N,k,D){if(!(!D.qpro||k<21)){var M=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var q=N.read_shift(k-21,"cstr");return[M,q]}}function J(N,k){for(var D={},M=N.l+k;N.l<M;){var q=N.read_shift(2);if(q==14e3){for(D[q]=[0,""],D[q][0]=N.read_shift(2);N[N.l];)D[q][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return D}function Y(N,k){var D=st(5+N.length);D.write_shift(2,14e3),D.write_shift(2,k);for(var M=0;M<N.length;++M){var q=N.charCodeAt(M);D[D.l++]=q>127?95:q}return D[D.l++]=0,D}var se={0:{n:"BOF",f:ZA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},P={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:H},24:{n:"NUMBER18",f:K},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})(),oU=/^\s|\s$|[\t\n\r]/;function nE(e,t){if(!t.bookSST)return"";var r=[Ua];r[r.length]=Ot("sst",null,{xmlns:xd[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(oU)&&(s+=' xml:space="preserve"'),s+=">"+En(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function lU(e){return[e.read_shift(4),e.read_shift(4)]}function cU(e,t){return t||(t=st(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var uU=eB;function fU(e){var t=ks();wt(t,159,cU(e));for(var r=0;r<e.length;++r)wt(t,19,uU(e[r]));return wt(t,160),t.end()}function dU(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function aE(e){var t=0,r,n=dU(e),a=n.length+1,s,c,u,d,h;for(r=jf(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)c=r[s],u=(t&16384)===0?0:1,d=t<<1&32767,h=u|d,t=h^c;return t^52811}var hU=(function(){function e(a,s){switch(s.type){case"base64":return t(Lc(a),s);case"binary":return t(a,s);case"buffer":return t(bn&&Buffer.isBuffer(a)?a.toString("binary"):y1(a),s);case"array":return t(eg(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var c=s||{},u=c.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,x){Array.isArray(u)&&(u[x]=[]);for(var b=/\\\w+\b/g,g=0,T,w=-1;T=b.exec(m);){switch(T[0]){case"\\cell":var _=m.slice(g,b.lastIndex-T[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var E={v:_,t:"s"};Array.isArray(u)?u[x][w]=E:u[jn({r:x,c:w})]=E}break}g=b.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=Ba(h),u}function r(a,s){return Ff(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],c=Xn(a["!ref"]),u,d=Array.isArray(a),h=c.s.r;h<=c.e.r;++h){s.push("\\trowd\\trautofit1");for(var m=c.s.c;m<=c.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=c.s.c;m<=c.e.c;++m){var x=jn({r:h,c:m});u=d?(a[h]||[])[m]:a[x],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(zc(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function IN(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var mU=6,jc=mU;function Lp(e){return Math.floor((e+Math.round(128/jc)/256)*jc)}function zp(e){return Math.floor((e-5)/jc*100+.5)/100}function Iv(e){return Math.round((e*jc+5)/jc*256)/256}function fb(e){e.width?(e.wpx=Lp(e.width),e.wch=zp(e.wpx),e.MDW=jc):e.wpx?(e.wch=zp(e.wpx),e.width=Iv(e.wch),e.MDW=jc):typeof e.wch=="number"&&(e.width=Iv(e.wch),e.wpx=Lp(e.width),e.MDW=jc),e.customWidth&&delete e.customWidth}var pU=96,iE=pU;function Fp(e){return e*96/iE}function sE(e){return e*iE/96}function gU(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ot("numFmt",null,{numFmtId:n,formatCode:En(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ot("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function xU(e){var t=[];return t[t.length]=Ot("cellXfs",null),e.forEach(function(r){t[t.length]=Ot("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ot("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function oE(e,t){var r=[Ua,Ot("styleSheet",null,{xmlns:xd[0],"xmlns:vt":mi.vt})],n;return e.SSF&&(n=gU(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=xU(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function vU(e,t){var r=e.read_shift(2),n=$i(e);return[r,n]}function bU(e,t,r){r||(r=st(6+4*t.length)),r.write_shift(2,e),gi(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function yU(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=oB(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=e.read_shift(1);c!=0&&(n.underline=c);var u=e.read_shift(1);u>0&&(n.family=u);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=sB(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=$i(e),n}function wU(e,t){t||(t=st(153)),t.write_shift(2,e.sz*20),lB(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),kp(e.color,t);var n=0;return n=2,t.write_shift(1,n),gi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var SU=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],O2,NU=Vl;function PN(e,t){t||(t=st(84)),O2||(O2=Q5(SU));var r=O2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(kp({auto:1},t),kp({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function _U(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function lE(e,t,r){r||(r=st(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function fh(e,t){return t||(t=st(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var TU=Vl;function AU(e,t){return t||(t=st(51)),t.write_shift(1,0),fh(null,t),fh(null,t),fh(null,t),fh(null,t),fh(null,t),t.length>t.l?t.slice(0,t.l):t}function EU(e,t){return t||(t=st(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Cp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function jU(e,t,r){var n=st(2052);return n.write_shift(4,e),Cp(t,n),Cp(r,n),n.length>n.l?n.slice(0,n.l):n}function CU(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(wt(e,615,ll(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&wt(e,44,bU(a,t[a]))}),wt(e,616))}}function kU(e){var t=1;wt(e,611,ll(t)),wt(e,43,wU({sz:12,color:{theme:1},name:"Calibri",family:2})),wt(e,612)}function DU(e){var t=2;wt(e,603,ll(t)),wt(e,45,PN({patternType:"none"})),wt(e,45,PN({patternType:"gray125"})),wt(e,604)}function LU(e){var t=1;wt(e,613,ll(t)),wt(e,46,AU()),wt(e,614)}function zU(e){var t=1;wt(e,626,ll(t)),wt(e,47,lE({numFmtId:0},65535)),wt(e,627)}function FU(e,t){wt(e,617,ll(t.length)),t.forEach(function(r){wt(e,47,lE(r,0))}),wt(e,618)}function OU(e){var t=1;wt(e,619,ll(t)),wt(e,48,EU({xfId:0,name:"Normal"})),wt(e,620)}function RU(e){var t=0;wt(e,505,ll(t)),wt(e,506)}function MU(e){var t=0;wt(e,508,jU(t,"TableStyleMedium9","PivotStyleMedium4")),wt(e,509)}function IU(e,t){var r=ks();return wt(r,278),CU(r,e.SSF),kU(r),DU(r),LU(r),zU(r),FU(r,t.cellXfs),OU(r),RU(r),MU(r),wt(r,279),r.end()}function cE(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ua];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function PU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:$i(e)}}function BU(e){var t=st(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),gi(e.name,t),t.slice(0,t.l)}function UU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function HU(e){var t=st(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function VU(e,t){var r=st(8+2*t.length);return r.write_shift(4,e),gi(t,r),r.slice(0,r.l)}function GU(e){return e.l+=4,e.read_shift(4)!=0}function qU(e,t){var r=st(8);return r.write_shift(4,e),r.write_shift(4,1),r}function WU(){var e=ks();return wt(e,332),wt(e,334,ll(1)),wt(e,335,BU({name:"XLDAPR",version:12e4,flags:3496657072})),wt(e,336),wt(e,339,VU(1,"XLDAPR")),wt(e,52),wt(e,35,ll(514)),wt(e,4096,ll(0)),wt(e,4097,yo(1)),wt(e,36),wt(e,53),wt(e,340),wt(e,337,qU(1)),wt(e,51,HU([[1,0]])),wt(e,338),wt(e,333),e.end()}function uE(){var e=[Ua];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function $U(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=jn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var V0=1024;function fE(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Ot("xml",null,{"xmlns:v":Ks.v,"xmlns:o":Ks.o,"xmlns:x":Ks.x,"xmlns:mv":Ks.mv}).replace(/\/>/,">"),Ot("o:shapelayout",Ot("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ot("v:shapetype",[Ot("v:stroke",null,{joinstyle:"miter"}),Ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];V0<e*1e3;)V0+=1e3;return t.forEach(function(s){var c=pi(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?Ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Ot("v:fill",d,u),m={on:"t",obscured:"t"};++V0,a=a.concat(["<v:shape"+n1({id:"_x0000_s"+V0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Ot("v:shadow",null,m),Ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ji("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),ji("x:AutoFill","False"),ji("x:Row",String(c.r)),ji("x:Column",String(c.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function dE(e){var t=[Ua,Ot("comments",null,{xmlns:xd[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=En(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(a=r.indexOf(En(d.a))),s.push(d.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(ji("t",En(s[0]||"")));else{for(var c=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)c+=`Reply:
    `+s[u]+`
`;t.push(ji("t",En(c)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function YU(e,t,r){var n=[Ua,Ot("ThreadedComments",null,{xmlns:mi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(c,u){if(!c.T){delete c.ID;return}c.a&&t.indexOf(c.a)==-1&&t.push(c.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?s=d.id:d.parentId=s,c.ID=d.id,c.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(c.a)).slice(-12)+"}"),n.push(Ot("threadedComment",ji("text",c.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function XU(e){var t=[Ua,Ot("personList",null,{xmlns:mi.TCMNT,"xmlns:x":xd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ot("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function KU(e){var t={};t.iauthor=e.read_shift(4);var r=If(e);return t.rfx=r.s,t.ref=jn(r.s),e.l+=16,t}function ZU(e,t){return t==null&&(t=st(36)),t.write_shift(4,e[1].iauthor),bd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var JU=$i;function QU(e){return gi(e.slice(0,54))}function eH(e){var t=ks(),r=[];return wt(t,628),wt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),wt(t,632,QU(a.a)))})}),wt(t,631),wt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:pi(n[0]),e:pi(n[0])};wt(t,635,ZU([s,a])),a.t&&a.t.length>0&&wt(t,637,rB(a)),wt(t,636),delete a.iauthor})}),wt(t,634),wt(t,629),t.end()}function tH(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var hE=["xlsb","xlsm","xlam","biff8","xla"],rH=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,c){var u=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),c.length==0?u=!0:c.charAt(0)=="["&&(u=!0,c=c.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,m=c.length>0?parseInt(c,10)|0:0;return u?m+=t.c:--m,d?h+=t.r:--h,a+(u?"":"$")+Wi(m)+(d?"":"$")+Ci(h)}return function(a,s){return t=s,a.replace(e,r)}})(),db=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hb=(function(){return function(t,r){return t.replace(db,function(n,a,s,c,u,d){var h=sb(c)-(s?0:r.c),m=ib(d)-(u?0:r.r),x=m==0?"":u?m+1:"["+m+"]",b=h==0?"":s?h+1:"["+h+"]";return a+"R"+x+"C"+b})}})();function nH(e,t){return e.replace(db,function(r,n,a,s,c,u){return n+(a=="$"?a+s:Wi(sb(s)+t.c))+(c=="$"?c+u:Ci(ib(u)+t.r))})}function aH(e){return e.length!=1}function Ia(e){e.l+=1}function Mu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function mE(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return pE(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),c=Mu(e),u=Mu(e);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function pE(e){var t=Mu(e),r=Mu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function iH(e,t,r){if(r.biff<8)return pE(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Mu(e),c=Mu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function gE(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return sH(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Mu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function sH(e){var t=Mu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function oH(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function lH(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return cH(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),c=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;a>524287;)a-=1048576;if(c==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:c,rRel:u}}function cH(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function uH(e,t,r){var n=(e[e.l++]&96)>>5,a=mE(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function fH(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var c=mE(e,s,r);return[n,a,c]}function dH(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function hH(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function mH(e,t,r){var n=(e[e.l++]&96)>>5,a=iH(e,t-1,r);return[n,a]}function pH(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function BN(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function gH(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function xH(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vH(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bH(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yH(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function xE(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function wH(e){return e.read_shift(2),xE(e)}function SH(e){return e.read_shift(2),xE(e)}function NH(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=gE(e,0,r);return[n,a]}function _H(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=lH(e,0,r);return[n,a]}function TH(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=gE(e,0,r);return[n,a,s]}function AH(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[AV[a],yE[a],n]}function EH(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:jH(e);return[a,(s[0]===0?yE:TV)[s[1]]]}function jH(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function CH(e,t,r){e.l+=r&&r.biff==2?3:4}function kH(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function DH(e){return e.l++,N1[e.read_shift(1)]}function LH(e){return e.l++,e.read_shift(2)}function zH(e){return e.l++,e.read_shift(1)!==0}function FH(e){return e.l++,yd(e)}function OH(e,t,r){return e.l++,QA(e,t-1,r)}function RH(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=TB(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=N1[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yd(e);break;case 2:r[1]=CB(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function MH(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?If:LB)(e));return a}function IH(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,c=[];s!=n&&(c[s]=[]);++s)for(var u=0;u!=a;++u)c[s][u]=RH(e,r.biff);return c}function PH(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function BH(e,t,r){if(r.biff==5)return UH(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function UH(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function HH(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function VH(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function GH(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function qH(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var WH=Vl,$H=Vl,YH=Vl;function _1(e,t,r){return e.l+=2,[oH(e)]}function mb(e){return e.l+=6,[]}var XH=_1,KH=mb,ZH=mb,JH=_1;function vE(e){return e.l+=2,[ZA(e),e.read_shift(2)&1]}var QH=_1,eV=vE,tV=mb,rV=_1,nV=_1,aV=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function iV(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),c=aV[r>>2&31];return{ixti:t,coltype:r&3,rt:c,idx:n,c:a,C:s}}function sV(e){return e.l+=2,[e.read_shift(4)]}function oV(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function lV(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function cV(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function uV(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fV(e){return e.l+=4,[0,0]}var UN={1:{n:"PtgExp",f:kH},2:{n:"PtgTbl",f:YH},3:{n:"PtgAdd",f:Ia},4:{n:"PtgSub",f:Ia},5:{n:"PtgMul",f:Ia},6:{n:"PtgDiv",f:Ia},7:{n:"PtgPower",f:Ia},8:{n:"PtgConcat",f:Ia},9:{n:"PtgLt",f:Ia},10:{n:"PtgLe",f:Ia},11:{n:"PtgEq",f:Ia},12:{n:"PtgGe",f:Ia},13:{n:"PtgGt",f:Ia},14:{n:"PtgNe",f:Ia},15:{n:"PtgIsect",f:Ia},16:{n:"PtgUnion",f:Ia},17:{n:"PtgRange",f:Ia},18:{n:"PtgUplus",f:Ia},19:{n:"PtgUminus",f:Ia},20:{n:"PtgPercent",f:Ia},21:{n:"PtgParen",f:Ia},22:{n:"PtgMissArg",f:Ia},23:{n:"PtgStr",f:OH},26:{n:"PtgSheet",f:oV},27:{n:"PtgEndSheet",f:lV},28:{n:"PtgErr",f:DH},29:{n:"PtgBool",f:zH},30:{n:"PtgInt",f:LH},31:{n:"PtgNum",f:FH},32:{n:"PtgArray",f:pH},33:{n:"PtgFunc",f:AH},34:{n:"PtgFuncVar",f:EH},35:{n:"PtgName",f:PH},36:{n:"PtgRef",f:NH},37:{n:"PtgArea",f:uH},38:{n:"PtgMemArea",f:HH},39:{n:"PtgMemErr",f:WH},40:{n:"PtgMemNoMem",f:$H},41:{n:"PtgMemFunc",f:VH},42:{n:"PtgRefErr",f:GH},43:{n:"PtgAreaErr",f:dH},44:{n:"PtgRefN",f:_H},45:{n:"PtgAreaN",f:mH},46:{n:"PtgMemAreaN",f:cV},47:{n:"PtgMemNoMemN",f:uV},57:{n:"PtgNameX",f:BH},58:{n:"PtgRef3d",f:TH},59:{n:"PtgArea3d",f:fH},60:{n:"PtgRefErr3d",f:qH},61:{n:"PtgAreaErr3d",f:hH},255:{}},dV={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},hV={1:{n:"PtgElfLel",f:vE},2:{n:"PtgElfRw",f:rV},3:{n:"PtgElfCol",f:XH},6:{n:"PtgElfRwV",f:nV},7:{n:"PtgElfColV",f:JH},10:{n:"PtgElfRadical",f:QH},11:{n:"PtgElfRadicalS",f:tV},13:{n:"PtgElfColS",f:KH},15:{n:"PtgElfColSV",f:ZH},16:{n:"PtgElfRadicalLel",f:eV},25:{n:"PtgList",f:iV},29:{n:"PtgSxName",f:sV},255:{}},mV={0:{n:"PtgAttrNoop",f:fV},1:{n:"PtgAttrSemi",f:yH},2:{n:"PtgAttrIf",f:vH},4:{n:"PtgAttrChoose",f:gH},8:{n:"PtgAttrGoto",f:xH},16:{n:"PtgAttrSum",f:CH},32:{n:"PtgAttrBaxcel",f:BN},33:{n:"PtgAttrBaxcel",f:BN},64:{n:"PtgAttrSpace",f:wH},65:{n:"PtgAttrSpaceSemi",f:SH},128:{n:"PtgAttrIfError",f:bH},255:{}};function pV(e,t,r,n){if(n.biff<8)return Vl(e,t);for(var a=e.l+t,s=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=IH(e,0,n),s.push(r[c][1]);break;case"PtgMemArea":r[c][2]=MH(e,r[c][1],n),s.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=e.read_shift(4),s.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return t=a-e.l,t!==0&&s.push(Vl(e,t)),s}function gV(e,t,r){for(var n=e.l+t,a,s,c=[];n!=e.l;)t=n-e.l,s=e[e.l],a=UN[s]||UN[dV[s]],(s===24||s===25)&&(a=(s===24?hV:mV)[e[e.l+1]]),!a||!a.f?Vl(e,t):c.push([a.n,a.f(e,t,r)]);return c}function xV(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var c=n[s];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var vV={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bV(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function bE(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HN(e,t,r){var n=bE(e,t,r);return n=="#REF"?n:bV(n,r)}function ud(e,t,r,n,a){var s=a&&a.biff||8,c={s:{c:0,r:0}},u=[],d,h,m,x=0,b=0,g,T="";if(!e[0]||!e[0][0])return"";for(var w=-1,_="",E=0,F=e[0].length;E<F;++E){var C=e[0][E];switch(C[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(e[0][w][1][0]){case 0:_=_a(" ",e[0][w][1][1]);break;case 1:_=_a("\r",e[0][w][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}h=h+_,w=-1}u.push(h+vV[C[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Eh(C[1][1],c,a),u.push(jh(m,s));break;case"PtgRefN":m=r?Eh(C[1][1],r,a):C[1][1],u.push(jh(m,s));break;case"PtgRef3d":x=C[1][1],m=Eh(C[1][2],c,a),T=HN(n,x,a),u.push(T+"!"+jh(m,s));break;case"PtgFunc":case"PtgFuncVar":var L=C[1][0],X=C[1][1];L||(L=0),L&=127;var I=L==0?[]:u.slice(-L);u.length-=L,X==="User"&&(X=I.shift()),u.push(X+"("+I.join(",")+")");break;case"PtgBool":u.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(C[1]);break;case"PtgNum":u.push(String(C[1]));break;case"PtgStr":u.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(C[1]);break;case"PtgAreaN":g=AN(C[1][1],r?{s:r}:c,a),u.push(z2(g,a));break;case"PtgArea":g=AN(C[1][1],c,a),u.push(z2(g,a));break;case"PtgArea3d":x=C[1][1],g=C[1][2],T=HN(n,x,a),u.push(T+"!"+z2(g,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=C[1][2];var U=(n.names||[])[b-1]||(n[0]||[])[b],K=U?U.Name:"SH33TJSNAME"+String(b);K&&K.slice(0,6)=="_xlfn."&&!a.xlfn&&(K=K.slice(6)),u.push(K);break;case"PtgNameX":var H=C[1][1];b=C[1][2];var oe;if(a.biff<=5)H<0&&(H=-H),n[H]&&(oe=n[H][b]);else{var O="";if(((n[H]||[])[0]||[])[0]==14849||(((n[H]||[])[0]||[])[0]==1025?n[H][b]&&n[H][b].itab>0&&(O=n.SheetNames[n[H][b].itab-1]+"!"):O=n.SheetNames[b-1]+"!"),n[H]&&n[H][b])O+=n[H][b].Name;else if(n[0]&&n[0][b])O+=n[0][b].Name;else{var R=(bE(n,H,a)||"").split(";;");R[b-1]?O=R[b-1]:O+="SH33TJSERRX"}u.push(O);break}oe||(oe={Name:"SH33TJSERRY"}),u.push(oe.Name);break;case"PtgParen":var V="(",re=")";if(w>=0){switch(_="",e[0][w][1][0]){case 2:V=_a(" ",e[0][w][1][1])+V;break;case 3:V=_a("\r",e[0][w][1][1])+V;break;case 4:re=_a(" ",e[0][w][1][1])+re;break;case 5:re=_a("\r",e[0][w][1][1])+re;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}u.push(V+u.pop()+re);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:C[1][1],r:C[1][0]};var le={c:r.c,r:r.r};if(n.sharedf[jn(m)]){var Z=n.sharedf[jn(m)];u.push(ud(Z,c,le,n,a))}else{var ie=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){u.push(ud(h[1],c,le,n,a)),ie=!0;break}ie||u.push(C[1])}break;case"PtgArray":u.push("{"+xV(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&J.indexOf(e[0][E][0])==-1){C=e[0][w];var Y=!0;switch(C[1][0]){case 4:Y=!1;case 0:_=_a(" ",C[1][1]);break;case 5:Y=!1;case 1:_=_a("\r",C[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}u.push((Y?_:"")+u.pop()+(Y?"":_)),w=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function yV(e){if(e==null){var t=st(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Cf(e);return Cf(0)}function wV(e,t,r,n,a){var s=kf(t,r,a),c=yV(e.v),u=st(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=st(e.bf.length),m=0;m<e.bf.length;++m)h[m]=e.bf[m];var x=Ei([s,c,u,h]);return x}function tg(e,t,r){var n=e.read_shift(4),a=gV(e,n,r),s=e.read_shift(4),c=s>0?pV(e,s,a,r):null;return[a,c]}var SV=tg,rg=tg,NV=tg,_V=tg,TV={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yE={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},AV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function EV(e){var t="of:="+e.replace(db,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function jV(e){return e.replace(/\./,"!")}var Ch=typeof Map<"u";function pb(e,t,r){var n=0,a=e.length;if(r){if(Ch?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=Ch?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ch?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function ng(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(jc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=zp(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Iv(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function wE(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Vu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){gA(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function CV(e,t,r){if(e&&e["!ref"]){var n=Xn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function kV(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ba(e[r])+'"/>';return t+"</mergeCells>"}function DV(e,t,r,n,a){var s=!1,c={},u=null;if(n.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[r];try{t.Workbook&&(d=t.Workbook.Sheets[r].CodeName||d)}catch{}s=!0,c.codeName=r1(En(d))}if(e&&e["!outline"]){var h={summaryBelow:1,summaryRight:1};e["!outline"].above&&(h.summaryBelow=0),e["!outline"].left&&(h.summaryRight=0),u=(u||"")+Ot("outlinePr",null,h)}!s&&!u||(a[a.length]=Ot("sheetPr",u,c))}var LV=["objects","scenarios","selectLockedCells","selectUnlockedCells"],zV=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function FV(e){var t={sheet:1};return LV.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),zV.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=aE(e.password).toString(16).toUpperCase()),Ot("sheetProtection",null,t)}function OV(e){return wE(e),Ot("pageMargins",null,e)}function RV(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Ot("col",null,ng(a,n)));return r[r.length]="</cols>",r.join("")}function MV(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Ba(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,c=eo(a);c.s.r==c.e.r&&(c.e.r=eo(t["!ref"]).e.r,a=Ba(c));for(var u=0;u<s.length;++u){var d=s[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ot("autoFilter",null,{ref:a})}function IV(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ot("sheetViews",Ot("sheetView",null,a),{})}function PV(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,c=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=N1[e.v];break;case"d":n&&n.cellDates?a=os(e.v,-1).toISOString():(e=zs(e),e.t="n",a=""+(e.v=Ls(os(e.v)))),typeof e.z>"u"&&(e.z=Ta[14]);break;default:a=e.v;break}var u=ji("v",En(a)),d={r:t},h=Vu(n.cellXfs,e,n);switch(h!==0&&(d.s=h),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=ji("v",""+pb(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=s&&(e.t=s,e.v=c),typeof e.f=="string"&&e.f){var m=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;u=Ot("f",En(e.f),m)+(e.v!=null?u:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(d.cm=1),Ot("c",u,d)}function BV(e,t,r,n){var a=[],s=[],c=Xn(e["!ref"]),u="",d,h="",m=[],x=0,b=0,g=e["!rows"],T=Array.isArray(e),w={r:h},_,E=-1;for(b=c.s.c;b<=c.e.c;++b)m[b]=Wi(b);for(x=c.s.r;x<=c.e.r;++x){for(s=[],h=Ci(x),b=c.s.c;b<=c.e.c;++b){d=m[b]+h;var F=T?(e[x]||[])[b]:e[d];F!==void 0&&(u=PV(F,d,e,t))!=null&&s.push(u)}(s.length>0||g&&g[x])&&(w={r:h},g&&g[x]&&(_=g[x],_.hidden&&(w.hidden=1),E=-1,_.hpx?E=Fp(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(w.ht=E,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),a[a.length]=Ot("row",s.join(""),w))}if(g)for(;x<g.length;++x)g&&g[x]&&(w={r:x+1},_=g[x],_.hidden&&(w.hidden=1),E=-1,_.hpx?E=Fp(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(w.ht=E,w.customHeight=1),_.level&&(w.outlineLevel=_.level),a[a.length]=Ot("row","",w));return a.join("")}function SE(e,t,r,n){var a=[Ua,Ot("worksheet",null,{xmlns:xd[0],"xmlns:r":mi.r})],s=r.SheetNames[e],c=0,u="",d=r.Sheets[s];d==null&&(d={});var h=d["!ref"]||"A1",m=Xn(h);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=Ba(m)}n||(n={}),d["!comments"]=[];var x=[];DV(d,r,e,t,a),a[a.length]=Ot("dimension",null,{ref:h}),a[a.length]=IV(d,t,e,r),t.sheetFormat&&(a[a.length]=Ot("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=RV(d,d["!cols"])),a[c=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=BV(d,t),u.length>0&&(a[a.length]=u)),a.length>c+1&&(a[a.length]="</sheetData>",a[c]=a[c].replace("/>",">")),d["!protect"]&&(a[a.length]=FV(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=MV(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=kV(d["!merges"]));var b=-1,g,T=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(g={ref:w[0]},w[1].Target.charAt(0)!="#"&&(T=Tn(n,-1,En(w[1].Target).replace(/#.*$/,""),pn.HLINK),g["r:id"]="rId"+T),(b=w[1].Target.indexOf("#"))>-1&&(g.location=En(w[1].Target.slice(b+1))),w[1].Tooltip&&(g.tooltip=En(w[1].Tooltip)),a[a.length]=Ot("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=OV(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ji("ignoredErrors",Ot("ignoredError",null,{numberStoredAsText:1,sqref:h}))),x.length>0&&(T=Tn(n,-1,"../drawings/drawing"+(e+1)+".xml",pn.DRAW),a[a.length]=Ot("drawing",null,{"r:id":"rId"+T}),d["!drawing"]=x),d["!comments"].length>0&&(T=Tn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",pn.VML),a[a.length]=Ot("legacyDrawing",null,{"r:id":"rId"+T}),d["!legacy"]=T),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function UV(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function HV(e,t,r){var n=st(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=Fp(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var c=0;a.level&&(c|=a.level),a.hidden&&(c|=16),(a.hpx||a.hpt)&&(c|=32),n.write_shift(1,c),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:e,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var x=-1,b=-1,g=m<<10;g<m+1<<10;++g){h.c=g;var T=Array.isArray(r)?(r[h.r]||[])[h.c]:r[jn(h)];T&&(x<0&&(x=g),b=g)}x<0||(++u,n.write_shift(4,x),n.write_shift(4,b))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function VV(e,t,r,n){var a=HV(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&wt(e,0,a)}var GV=If,qV=bd;function WV(){}function $V(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=nB(e),r}function YV(e,t,r){r==null&&(r=st(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return kp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),MA(e,r),r.slice(0,r.l)}function XV(e){var t=Ao(e);return[t]}function KV(e,t,r){return r==null&&(r=st(8)),Of(t,r)}function ZV(e){var t=Rf(e);return[t]}function JV(e,t,r){return r==null&&(r=st(4)),Mf(t,r)}function QV(e){var t=Ao(e),r=e.read_shift(1);return[t,r,"b"]}function eG(e,t,r){return r==null&&(r=st(9)),Of(t,r),r.write_shift(1,e.v?1:0),r}function tG(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"b"]}function rG(e,t,r){return r==null&&(r=st(5)),Mf(t,r),r.write_shift(1,e.v?1:0),r}function nG(e){var t=Ao(e),r=e.read_shift(1);return[t,r,"e"]}function aG(e,t,r){return r==null&&(r=st(9)),Of(t,r),r.write_shift(1,e.v),r}function iG(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"e"]}function sG(e,t,r){return r==null&&(r=st(8)),Mf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function oG(e){var t=Ao(e),r=e.read_shift(4);return[t,r,"s"]}function lG(e,t,r){return r==null&&(r=st(12)),Of(t,r),r.write_shift(4,t.v),r}function cG(e){var t=Rf(e),r=e.read_shift(4);return[t,r,"s"]}function uG(e,t,r){return r==null&&(r=st(8)),Mf(t,r),r.write_shift(4,t.v),r}function fG(e){var t=Ao(e),r=yd(e);return[t,r,"n"]}function dG(e,t,r){return r==null&&(r=st(16)),Of(t,r),Cf(e.v,r),r}function hG(e){var t=Rf(e),r=yd(e);return[t,r,"n"]}function mG(e,t,r){return r==null&&(r=st(12)),Mf(t,r),Cf(e.v,r),r}function pG(e){var t=Ao(e),r=IA(e);return[t,r,"n"]}function gG(e,t,r){return r==null&&(r=st(12)),Of(t,r),PA(e.v,r),r}function xG(e){var t=Rf(e),r=IA(e);return[t,r,"n"]}function vG(e,t,r){return r==null&&(r=st(8)),Mf(t,r),PA(e.v,r),r}function bG(e){var t=Ao(e),r=ob(e);return[t,r,"is"]}function yG(e){var t=Ao(e),r=$i(e);return[t,r,"str"]}function wG(e,t,r){return r==null&&(r=st(12+4*e.v.length)),Of(t,r),gi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function SG(e){var t=Rf(e),r=$i(e);return[t,r,"str"]}function NG(e,t,r){return r==null&&(r=st(8+4*e.v.length)),Mf(t,r),gi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _G(e,t,r){var n=e.l+t,a=Ao(e);a.r=r["!row"];var s=e.read_shift(1),c=[a,s,"b"];if(r.cellFormula){e.l+=2;var u=rg(e,n-e.l,r);c[3]=ud(u,null,a,r.supbooks,r)}else e.l=n;return c}function TG(e,t,r){var n=e.l+t,a=Ao(e);a.r=r["!row"];var s=e.read_shift(1),c=[a,s,"e"];if(r.cellFormula){e.l+=2;var u=rg(e,n-e.l,r);c[3]=ud(u,null,a,r.supbooks,r)}else e.l=n;return c}function AG(e,t,r){var n=e.l+t,a=Ao(e);a.r=r["!row"];var s=yd(e),c=[a,s,"n"];if(r.cellFormula){e.l+=2;var u=rg(e,n-e.l,r);c[3]=ud(u,null,a,r.supbooks,r)}else e.l=n;return c}function EG(e,t,r){var n=e.l+t,a=Ao(e);a.r=r["!row"];var s=$i(e),c=[a,s,"str"];if(r.cellFormula){e.l+=2;var u=rg(e,n-e.l,r);c[3]=ud(u,null,a,r.supbooks,r)}else e.l=n;return c}var jG=If,CG=bd;function kG(e,t){return t==null&&(t=st(4)),t.write_shift(4,e),t}function DG(e,t){var r=e.l+t,n=If(e),a=lb(e),s=$i(e),c=$i(e),u=$i(e);e.l=r;var d={rfx:n,relId:a,loc:s,display:u};return c&&(d.Tooltip=c),d}function LG(e,t){var r=st(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));bd({s:pi(e[0]),e:pi(e[0])},r),cb("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return gi(a||"",r),gi(e[1].Tooltip||"",r),gi("",r),r.slice(0,r.l)}function zG(){}function FG(e,t,r){var n=e.l+t,a=BA(e),s=e.read_shift(1),c=[a];if(c[2]=s,r.cellFormula){var u=SV(e,n-e.l,r);c[1]=u}else e.l=n;return c}function OG(e,t,r){var n=e.l+t,a=If(e),s=[a];if(r.cellFormula){var c=_V(e,n-e.l,r);s[1]=c,e.l=n}else e.l=n;return s}function RG(e,t,r){r==null&&(r=st(18));var n=ng(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var NE=["left","right","top","bottom","header","footer"];function MG(e){var t={};return NE.forEach(function(r){t[r]=yd(e)}),t}function IG(e,t){return t==null&&(t=st(48)),wE(e),NE.forEach(function(r){Cf(e[r],t)}),t}function PG(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function BG(e,t,r){r==null&&(r=st(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function UG(e){var t=st(24);return t.write_shift(4,4),t.write_shift(4,1),bd(e,t),t}function HG(e,t){return t==null&&(t=st(66)),t.write_shift(2,e.password?aE(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function VG(){}function GG(){}function qG(e,t,r,n,a,s,c){if(t.v===void 0)return!1;var u="";switch(t.t){case"b":u=t.v?"1":"0";break;case"d":t=zs(t),t.z=t.z||Ta[14],t.v=Ls(os(t.v)),t.t="n";break;case"n":case"e":u=""+t.v;break;default:u=t.v;break}var d={r,c:n};switch(d.s=Vu(a.cellXfs,t,a),t.l&&s["!links"].push([jn(d),t.l]),t.c&&s["!comments"].push([jn(d),t.c]),t.t){case"s":case"str":return a.bookSST?(u=pb(a.Strings,t.v,a.revStrings),d.t="s",d.v=u,c?wt(e,18,uG(t,d)):wt(e,7,lG(t,d))):(d.t="str",c?wt(e,17,NG(t,d)):wt(e,6,wG(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?c?wt(e,13,vG(t,d)):wt(e,2,gG(t,d)):c?wt(e,16,mG(t,d)):wt(e,5,dG(t,d)),!0;case"b":return d.t="b",c?wt(e,15,rG(t,d)):wt(e,4,eG(t,d)),!0;case"e":return d.t="e",c?wt(e,14,sG(t,d)):wt(e,3,aG(t,d)),!0}return c?wt(e,12,JV(t,d)):wt(e,1,KV(t,d)),!0}function WG(e,t,r,n){var a=Xn(t["!ref"]||"A1"),s,c="",u=[];wt(e,145);var d=Array.isArray(t),h=a.e.r;t["!rows"]&&(h=Math.max(a.e.r,t["!rows"].length-1));for(var m=a.s.r;m<=h;++m){c=Ci(m),VV(e,t,a,m);var x=!1;if(m<=a.e.r)for(var b=a.s.c;b<=a.e.c;++b){m===a.s.r&&(u[b]=Wi(b)),s=u[b]+c;var g=d?(t[m]||[])[b]:t[s];if(!g){x=!1;continue}x=qG(e,g,m,b,n,t,x)}}wt(e,146)}function $G(e,t){!t||!t["!merges"]||(wt(e,177,kG(t["!merges"].length)),t["!merges"].forEach(function(r){wt(e,176,CG(r))}),wt(e,178))}function YG(e,t){!t||!t["!cols"]||(wt(e,390),t["!cols"].forEach(function(r,n){r&&wt(e,60,RG(n,r))}),wt(e,391))}function XG(e,t){!t||!t["!ref"]||(wt(e,648),wt(e,649,UG(Xn(t["!ref"]))),wt(e,650))}function KG(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Tn(r,-1,n[1].Target.replace(/#.*$/,""),pn.HLINK);wt(e,494,LG(n,a))}}),delete t["!links"]}function ZG(e,t,r,n){if(t["!comments"].length>0){var a=Tn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",pn.VML);wt(e,551,cb("rId"+a)),t["!legacy"]=a}}function JG(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:Ba(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,u=eo(s);u.s.r==u.e.r&&(u.e.r=eo(t["!ref"]).e.r,s=Ba(u));for(var d=0;d<c.length;++d){var h=c[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+s;break}}d==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),wt(e,161,bd(Xn(s))),wt(e,162)}}function QG(e,t,r){wt(e,133),wt(e,137,BG(t,r)),wt(e,138),wt(e,134)}function eq(e,t){t["!protect"]&&wt(e,535,HG(t["!protect"]))}function tq(e,t,r,n){var a=ks(),s=r.SheetNames[e],c=r.Sheets[s]||{},u=s;try{r&&r.Workbook&&(u=r.Workbook.Sheets[e].CodeName||u)}catch{}var d=Xn(c["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],wt(a,129),(r.vbaraw||c["!outline"])&&wt(a,147,YV(u,c["!outline"])),wt(a,148,qV(d)),QG(a,c,r.Workbook),YG(a,c),WG(a,c,e,t),eq(a,c),JG(a,c,r,e),$G(a,c),KG(a,c,n),c["!margins"]&&wt(a,476,IG(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&XG(a,c),ZG(a,c,e,n),wt(a,130),a.end()}function rq(e,t){e.l+=10;var r=$i(e);return{name:r}}var nq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function aq(e){return!e.Workbook||!e.Workbook.WBProps?"false":OP(e.Workbook.WBProps.date1904)?"true":"false"}var iq="][*?/\\".split("");function _E(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return iq.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function sq(e,t,r){e.forEach(function(n,a){_E(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var c=t&&t[a]&&t[a].CodeName||n;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function oq(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];sq(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)CV(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function TE(e){var t=[Ua];t[t.length]=Ot("workbook",null,{xmlns:xd[0],"xmlns:r":mi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(nq.forEach(function(u){e.Workbook.WBProps[u[0]]!=null&&e.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=e.Workbook.WBProps[u[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ot("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var c={name:En(e.SheetNames[s].slice(0,31))};if(c.sheetId=""+(s+1),c["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}t[t.length]=Ot("sheet",null,c)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(t[t.length]=Ot("definedName",En(u.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function lq(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Mv(e),r.name=$i(e),r}function cq(e,t){return t||(t=st(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),cb(e.strRelID,t),gi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function uq(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?$i(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function fq(e,t){t||(t=st(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),MA(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function dq(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=aB(e),c=NV(e,0,r),u=lb(e);e.l=n;var d={Name:s,Ptg:c};return a<268435455&&(d.Sheet=a),u&&(d.Comment=u),d}function hq(e,t){wt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};wt(e,156,cq(a))}wt(e,144)}function mq(e,t){t||(t=st(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return gi("SheetJS",t),gi(Sp.version,t),gi(Sp.version,t),gi("7262",t),t.length>t.l?t.slice(0,t.l):t}function pq(e,t){t||(t=st(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function gq(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(wt(e,135),wt(e,158,pq(a)),wt(e,136))}}function xq(e,t){var r=ks();return wt(r,131),wt(r,128,mq()),wt(r,153,fq(e.Workbook&&e.Workbook.WBProps||null)),gq(r,e),hq(r,e),wt(r,132),r.end()}function vq(e,t,r){return(t.slice(-4)===".bin"?xq:TE)(e)}function bq(e,t,r,n,a){return(t.slice(-4)===".bin"?tq:SE)(e,r,n,a)}function yq(e,t,r){return(t.slice(-4)===".bin"?IU:oE)(e,r)}function wq(e,t,r){return(t.slice(-4)===".bin"?fU:nE)(e,r)}function Sq(e,t,r){return(t.slice(-4)===".bin"?eH:dE)(e)}function Nq(e){return(e.slice(-4)===".bin"?WU:uE)()}function _q(e,t){var r=[];return e.Props&&r.push(yB(e.Props,t)),e.Custprops&&r.push(wB(e.Props,e.Custprops)),r.join("")}function Tq(){return""}function Aq(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(Ot("NumberFormat",null,{"ss:Format":En(Ta[n.numFmtId])}));var c={"ss:ID":"s"+(21+a)};r.push(Ot("Style",s.join(""),c))}),Ot("Styles",r.join(""))}function AE(e){return Ot("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+hb(e.Ref,{r:0,c:0})})}function Eq(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(AE(a)))}return Ot("Names",r.join(""))}function jq(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],c=0;c<a.length;++c){var u=a[c];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||s.push(AE(u)))}return s.join("")}function Cq(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Ot("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Ot("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Ot("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Ot("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ji("ProtectContents","True")),e["!protect"].objects&&a.push(ji("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ji("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ji("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ji("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){e["!protect"][c[0]]&&a.push("<"+c[1]+"/>")})),a.length==0?"":Ot("WorksheetOptions",a.join(""),{xmlns:Ks.x})}function kq(e){return e.map(function(t){var r=FP(t.t||""),n=Ot("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ot("Comment",n,{"ss:Author":t.a})}).join("")}function Dq(e,t,r,n,a,s,c){if(!e||e.v==null&&e.f==null)return"";var u={};if(e.f&&(u["ss:Formula"]="="+En(hb(e.f,c))),e.F&&e.F.slice(0,t.length)==t){var d=pi(e.F.slice(t.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==c.r?"":"["+(d.r-c.r)+"]")+"C"+(d.c==c.c?"":"["+(d.c-c.c)+"]")}if(e.l&&e.l.Target&&(u["ss:HRef"]=En(e.l.Target),e.l.Tooltip&&(u["x:HRefScreenTip"]=En(e.l.Tooltip))),r["!merges"])for(var h=r["!merges"],m=0;m!=h.length;++m)h[m].s.c!=c.c||h[m].s.r!=c.r||(h[m].e.c>h[m].s.c&&(u["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(u["ss:MergeDown"]=h[m].e.r-h[m].s.r));var x="",b="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",b=String(e.v);break;case"b":x="Boolean",b=e.v?"1":"0";break;case"e":x="Error",b=N1[e.v];break;case"d":x="DateTime",b=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ta[14]);break;case"s":x="String",b=zP(e.v||"");break}var g=Vu(n.cellXfs,e,n);u["ss:StyleID"]="s"+(21+g),u["ss:Index"]=c.c+1;var T=e.v!=null?b:"",w=e.t=="z"?"":'<Data ss:Type="'+x+'">'+T+"</Data>";return(e.c||[]).length>0&&(w+=kq(e.c)),Ot("Cell",w,u)}function Lq(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=sE(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function zq(e,t,r,n){if(!e["!ref"])return"";var a=Xn(e["!ref"]),s=e["!merges"]||[],c=0,u=[];e["!cols"]&&e["!cols"].forEach(function(_,E){fb(_);var F=!!_.width,C=ng(E,_),L={"ss:Index":E+1};F&&(L["ss:Width"]=Lp(C.width)),_.hidden&&(L["ss:Hidden"]="1"),u.push(Ot("Column",null,L))});for(var d=Array.isArray(e),h=a.s.r;h<=a.e.r;++h){for(var m=[Lq(h,(e["!rows"]||[])[h])],x=a.s.c;x<=a.e.c;++x){var b=!1;for(c=0;c!=s.length;++c)if(!(s[c].s.c>x)&&!(s[c].s.r>h)&&!(s[c].e.c<x)&&!(s[c].e.r<h)){(s[c].s.c!=x||s[c].s.r!=h)&&(b=!0);break}if(!b){var g={r:h,c:x},T=jn(g),w=d?(e[h]||[])[x]:e[T];m.push(Dq(w,T,e,t,r,n,g))}}m.push("</Row>"),m.length>2&&u.push(m.join(""))}return u.join("")}function Fq(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],c=s?jq(s,t,e,r):"";return c.length>0&&n.push("<Names>"+c+"</Names>"),c=s?zq(s,t,e,r):"",c.length>0&&n.push("<Table>"+c+"</Table>"),n.push(Cq(s,t,e,r)),n.join("")}function Oq(e,t){t||(t={}),e.SSF||(e.SSF=zs(Ta)),e.SSF&&(Jp(),Zp(e.SSF),t.revssf=Qp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(_q(e,t)),r.push(Tq()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ot("Worksheet",Fq(n,t,e),{"ss:Name":En(e.SheetNames[n])}));return r[2]=Aq(e,t),r[3]=Eq(e),Ua+Ot("Workbook",r.join(""),{xmlns:Ks.ss,"xmlns:o":Ks.o,"xmlns:x":Ks.x,"xmlns:ss":Ks.ss,"xmlns:dt":Ks.dt,"xmlns:html":Ks.html})}var R2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Rq(e,t){var r=[],n=[],a=[],s=0,c,u=pN(jN,"n"),d=pN(CN,"n");if(e.Props)for(c=ki(e.Props),s=0;s<c.length;++s)(Object.prototype.hasOwnProperty.call(u,c[s])?r:Object.prototype.hasOwnProperty.call(d,c[s])?n:a).push([c[s],e.Props[c[s]]]);if(e.Custprops)for(c=ki(e.Custprops),s=0;s<c.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},c[s])||(Object.prototype.hasOwnProperty.call(u,c[s])?r:Object.prototype.hasOwnProperty.call(d,c[s])?n:a).push([c[s],e.Custprops[c[s]]]);var h=[];for(s=0;s<a.length;++s)KA.indexOf(a[s][0])>-1||$A.indexOf(a[s][0])>-1||a[s][1]!=null&&h.push(a[s]);n.length&&Rn.utils.cfb_add(t,"/SummaryInformation",FN(n,R2.SI,d,CN)),(r.length||h.length)&&Rn.utils.cfb_add(t,"/DocumentSummaryInformation",FN(r,R2.DSI,u,jN,h.length?h:null,R2.UDI))}function Mq(e,t){var r=t||{},n=Rn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rn.utils.cfb_add(n,a,EE(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Rq(e,n),r.biff==8&&e.vbaraw&&tH(n,Rn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Iq={0:{f:UV},1:{f:XV},2:{f:pG},3:{f:nG},4:{f:QV},5:{f:fG},6:{f:yG},7:{f:oG},8:{f:EG},9:{f:AG},10:{f:_G},11:{f:TG},12:{f:ZV},13:{f:xG},14:{f:iG},15:{f:tG},16:{f:hG},17:{f:SG},18:{f:cG},19:{f:ob},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dq},40:{},42:{},43:{f:yU},44:{f:vU},45:{f:NU},46:{f:TU},47:{f:_U},48:{},49:{f:ZP},50:{},51:{f:UU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:JB},62:{f:bG},63:{f:$U},64:{f:VG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:PG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$V},148:{f:GV,p:16},151:{f:zG},152:{},153:{f:uq},154:{},155:{},156:{f:lq},157:{},158:{},159:{T:1,f:lU},160:{T:-1},161:{T:1,f:If},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jG},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:PU},336:{T:-1},337:{f:GU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Mv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:FG},427:{f:OG},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:MG},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:WV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:DG},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Mv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:JU},633:{T:1},634:{T:-1},635:{T:1,f:KU},636:{T:-1},637:{f:tB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:GG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Rt(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,c=e.next(4);c.write_shift(2,a),c.write_shift(2,s),s>0&&ab(r)&&e.push(r)}}function Pq(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Rt(e,t,r,a);var s=t;if(!isNaN(s)){for(var c=r.parts||[],u=0,d=0,h=0;h+(c[u]||8224)<=8224;)h+=c[u]||8224,u++;var m=e.next(4);for(m.write_shift(2,s),m.write_shift(2,h),e.push(r.slice(d,d+h)),d+=h;d<a;){for(m=e.next(4),m.write_shift(2,60),h=0;h+(c[u]||8224)<=8224;)h+=c[u]||8224,u++;m.write_shift(2,h),e.push(r.slice(d,d+h)),d+=h}}}function T1(e,t,r){return e||(e=st(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Bq(e,t,r,n){var a=st(9);return T1(a,e,t),JA(r,n||"b",a),a}function Uq(e,t,r){var n=st(8+2*r.length);return T1(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Hq(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ls(os(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Rt(e,2,rU(r,n,a)):Rt(e,3,tU(r,n,a));return;case"b":case"e":Rt(e,5,Bq(r,n,t.v,t.t));return;case"s":case"str":Rt(e,4,Uq(r,n,(t.v||"").slice(0,255)));return}Rt(e,1,T1(null,r,n))}function Vq(e,t,r,n){var a=Array.isArray(t),s=Xn(t["!ref"]||"A1"),c,u="",d=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),c=Ba(s)}for(var h=s.s.r;h<=s.e.r;++h){u=Ci(h);for(var m=s.s.c;m<=s.e.c;++m){h===s.s.r&&(d[m]=Wi(m)),c=d[m]+u;var x=a?(t[h]||[])[m]:t[c];x&&Hq(e,x,h,m)}}}function Gq(e,t){for(var r=t||{},n=ks(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Rt(n,r.biff==4?1033:r.biff==3?521:9,ub(e,16,r)),Vq(n,e.Sheets[e.SheetNames[a]],a,r),Rt(n,10),n.end()}function qq(e,t,r){Rt(e,49,IB({sz:12,name:"Arial"},r))}function Wq(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Rt(e,1054,UB(a,t[a],r))})}function $q(e,t){var r=st(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Rt(e,2151,r),r=st(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),tE(Xn(t["!ref"]||"A1"),r),r.write_shift(4,4),Rt(e,2152,r)}function Yq(e,t){for(var r=0;r<16;++r)Rt(e,224,RN({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Rt(e,224,RN(n,0,t))})}function Xq(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Rt(e,440,XB(n)),n[1].Tooltip&&Rt(e,2048,KB(n))}delete t["!links"]}function Kq(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Rt(e,125,QB(ng(a,n),a))})}}function Zq(e,t,r,n,a){var s=16+Vu(a.cellXfs,t,a);if(t.v==null&&!t.bf){Rt(e,513,kf(r,n,s));return}if(t.bf)Rt(e,6,wV(t,r,n,a,s));else switch(t.t){case"d":case"n":var c=t.t=="d"?Ls(os(t.v)):t.v;Rt(e,515,qB(r,n,c,s));break;case"b":case"e":Rt(e,517,GB(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var u=pb(a.Strings,t.v,a.revStrings);Rt(e,253,PB(r,n,u,s))}else Rt(e,516,BB(r,n,(t.v||"").slice(0,255),s,a));break;default:Rt(e,513,kf(r,n,s))}}function Jq(e,t,r){var n=ks(),a=r.SheetNames[e],s=r.Sheets[a]||{},c=(r||{}).Workbook||{},u=(c.Sheets||[])[e]||{},d=Array.isArray(s),h=t.biff==8,m,x="",b=[],g=Xn(s["!ref"]||"A1"),T=h?65536:16384;if(g.e.c>255||g.e.r>=T){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,T-1)}Rt(n,2057,ub(r,16,t)),Rt(n,13,yo(1)),Rt(n,12,yo(100)),Rt(n,15,is(!0)),Rt(n,17,is(!1)),Rt(n,16,Cf(.001)),Rt(n,95,is(!0)),Rt(n,42,is(!1)),Rt(n,43,is(!1)),Rt(n,130,yo(1)),Rt(n,128,VB()),Rt(n,131,is(!1)),Rt(n,132,is(!1)),h&&Kq(n,s["!cols"]),Rt(n,512,HB(g,t)),h&&(s["!links"]=[]);for(var w=g.s.r;w<=g.e.r;++w){x=Ci(w);for(var _=g.s.c;_<=g.e.c;++_){w===g.s.r&&(b[_]=Wi(_)),m=b[_]+x;var E=d?(s[w]||[])[_]:s[m];E&&(Zq(n,E,w,_,t),h&&E.l&&s["!links"].push([m,E.l]))}}var F=u.CodeName||u.name||a;return h&&Rt(n,574,MB((c.Views||[])[0])),h&&(s["!merges"]||[]).length&&Rt(n,229,YB(s["!merges"])),h&&Xq(n,s),Rt(n,442,eE(F)),h&&$q(n,s),Rt(n,10),n.end()}function Qq(e,t,r){var n=ks(),a=(e||{}).Workbook||{},s=a.Sheets||[],c=a.WBProps||{},u=r.biff==8,d=r.biff==5;if(Rt(n,2057,ub(e,5,r)),r.bookType=="xla"&&Rt(n,135),Rt(n,225,u?yo(1200):null),Rt(n,193,_B(2)),d&&Rt(n,191),d&&Rt(n,192),Rt(n,226),Rt(n,92,zB("SheetJS",r)),Rt(n,66,yo(u?1200:1252)),u&&Rt(n,353,yo(0)),u&&Rt(n,448),Rt(n,317,eU(e.SheetNames.length)),u&&e.vbaraw&&Rt(n,211),u&&e.vbaraw){var h=c.CodeName||"ThisWorkbook";Rt(n,442,eE(h))}Rt(n,156,yo(17)),Rt(n,25,is(!1)),Rt(n,18,is(!1)),Rt(n,19,yo(0)),u&&Rt(n,431,is(!1)),u&&Rt(n,444,yo(0)),Rt(n,61,RB()),Rt(n,64,is(!1)),Rt(n,141,yo(0)),Rt(n,34,is(aq(e)=="true")),Rt(n,14,is(!0)),u&&Rt(n,439,is(!1)),Rt(n,218,yo(0)),qq(n,e,r),Wq(n,e.SSF,r),Yq(n,r),u&&Rt(n,352,is(!1));var m=n.end(),x=ks();u&&Rt(x,140,ZB()),u&&r.Strings&&Pq(x,252,OB(r.Strings)),Rt(x,10);var b=x.end(),g=ks(),T=0,w=0;for(w=0;w<e.SheetNames.length;++w)T+=(u?12:11)+(u?2:1)*e.SheetNames[w].length;var _=m.length+T+b.length;for(w=0;w<e.SheetNames.length;++w){var E=s[w]||{};Rt(g,133,FB({pos:_,hs:E.Hidden||0,dt:0,name:e.SheetNames[w]},r)),_+=t[w].length}var F=g.end();if(T!=F.length)throw new Error("BS8 "+T+" != "+F.length);var C=[];return m.length&&C.push(m),F.length&&C.push(F),b.length&&C.push(b),Ei(C)}function eW(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=zs(Ta)),e&&e.SSF&&(Jp(),Zp(e.SSF),r.revssf=Qp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,gb(r),r.cellXfs=[],Vu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Jq(a,r,e);return n.unshift(Qq(e,n,r)),Ei(n)}function EE(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=eo(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return eW(e,t);case 4:case 3:case 2:return Gq(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function tW(e,t,r,n){for(var a=e["!merges"]||[],s=[],c=t.s.c;c<=t.e.c;++c){for(var u=0,d=0,h=0;h<a.length;++h)if(!(a[h].s.r>r||a[h].s.c>c)&&!(a[h].e.r<r||a[h].e.c<c)){if(a[h].s.r<r||a[h].s.c<c){u=-1;break}u=a[h].e.r-a[h].s.r+1,d=a[h].e.c-a[h].s.c+1;break}if(!(u<0)){var m=jn({r,c}),x=n.dense?(e[r]||[])[c]:e[m],b=x&&x.v!=null&&(x.h||LP(x.w||(zc(x),x.w)||""))||"",g={};u>1&&(g.rowspan=u),d>1&&(g.colspan=d),n.editable?b='<span contenteditable="true">'+b+"</span>":x&&(g["data-t"]=x&&x.t||"z",x.v!=null&&(g["data-v"]=x.v),x.z!=null&&(g["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+x.l.Target+'">'+b+"</a>")),g.id=(n.id||"sjs")+"-"+m,s.push(Ot("td",b,g))}}var T="<tr>";return T+s.join("")+"</tr>"}var rW='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nW="</body></html>";function aW(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function jE(e,t){var r=t||{},n=r.header!=null?r.header:rW,a=r.footer!=null?r.footer:nW,s=[n],c=eo(e["!ref"]);r.dense=Array.isArray(e),s.push(aW(e,c,r));for(var u=c.s.r;u<=c.e.r;++u)s.push(tW(e,c,u,r));return s.push("</table>"+a),s.join("")}function CE(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?pi(n.origin):n.origin;a=c.r,s=c.c}var u=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var m=eo(e["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),a==-1&&(h.e.r=a=m.e.r+1)}var x=[],b=0,g=e["!rows"]||(e["!rows"]=[]),T=0,w=0,_=0,E=0,F=0,C=0;for(e["!cols"]||(e["!cols"]=[]);T<u.length&&w<d;++T){var L=u[T];if(VN(L)){if(n.display)continue;g[w]={hidden:!0}}var X=L.children;for(_=E=0;_<X.length;++_){var I=X[_];if(!(n.display&&VN(I))){var U=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):RP(I.innerHTML),K=I.getAttribute("data-z")||I.getAttribute("z");for(b=0;b<x.length;++b){var H=x[b];H.s.c==E+s&&H.s.r<w+a&&w+a<=H.e.r&&(E=H.e.c+1-s,b=-1)}C=+I.getAttribute("colspan")||1,((F=+I.getAttribute("rowspan")||1)>1||C>1)&&x.push({s:{r:w+a,c:E+s},e:{r:w+a+(F||1)-1,c:E+s+(C||1)-1}});var oe={t:"s",v:U},O=I.getAttribute("data-t")||I.getAttribute("t")||"";U!=null&&(U.length==0?oe.t=O||"z":n.raw||U.trim().length==0||O=="s"||(U==="TRUE"?oe={t:"b",v:!0}:U==="FALSE"?oe={t:"b",v:!1}:isNaN(Ec(U))?isNaN(t1(U).getDate())||(oe={t:"d",v:os(U)},n.cellDates||(oe={t:"n",v:Ls(oe.v)}),oe.z=n.dateNF||Ta[14]):oe={t:"n",v:Ec(U)})),oe.z===void 0&&K!=null&&(oe.z=K);var R="",V=I.getElementsByTagName("A");if(V&&V.length)for(var re=0;re<V.length&&!(V[re].hasAttribute("href")&&(R=V[re].getAttribute("href"),R.charAt(0)!="#"));++re);R&&R.charAt(0)!="#"&&(oe.l={Target:R}),n.dense?(e[w+a]||(e[w+a]=[]),e[w+a][E+s]=oe):e[jn({c:E+s,r:w+a})]=oe,h.e.c<E+s&&(h.e.c=E+s),E+=C}}++w}return x.length&&(e["!merges"]=(e["!merges"]||[]).concat(x)),h.e.r=Math.max(h.e.r,w-1+a),e["!ref"]=Ba(h),w>=d&&(e["!fullref"]=Ba((h.e.r=u.length-T+w-1+a,h))),e}function kE(e,t){var r=t||{},n=r.dense?[]:{};return CE(n,e,t)}function iW(e,t){return Ff(kE(e,t),t)}function VN(e){var t="",r=sW(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function sW(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var oW=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+n1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ua+t}})(),GN=(function(){var e=function(s){return En(s).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,c,u){var d=[];d.push('      <table:table table:name="'+En(c.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,m=0,x=eo(s["!ref"]||"A1"),b=s["!merges"]||[],g=0,T=Array.isArray(s);if(s["!cols"])for(m=0;m<=x.e.c;++m)d.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var w="",_=s["!rows"]||[];for(h=0;h<x.s.r;++h)w=_[h]?' table:style-name="ro'+_[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=x.e.r;++h){for(w=_[h]?' table:style-name="ro'+_[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),m=0;m<x.s.c;++m)d.push(t);for(;m<=x.e.c;++m){var E=!1,F={},C="";for(g=0;g!=b.length;++g)if(!(b[g].s.c>m)&&!(b[g].s.r>h)&&!(b[g].e.c<m)&&!(b[g].e.r<h)){(b[g].s.c!=m||b[g].s.r!=h)&&(E=!0),F["table:number-columns-spanned"]=b[g].e.c-b[g].s.c+1,F["table:number-rows-spanned"]=b[g].e.r-b[g].s.r+1;break}if(E){d.push(r);continue}var L=jn({r:h,c:m}),X=T?(s[h]||[])[m]:s[L];if(X&&X.f&&(F["table:formula"]=En(EV(X.f)),X.F&&X.F.slice(0,L.length)==L)){var I=eo(X.F);F["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,F["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!X){d.push(t);continue}switch(X.t){case"b":C=X.v?"TRUE":"FALSE",F["office:value-type"]="boolean",F["office:boolean-value"]=X.v?"true":"false";break;case"n":C=X.w||String(X.v||0),F["office:value-type"]="float",F["office:value"]=X.v||0;break;case"s":case"str":C=X.v==null?"":X.v,F["office:value-type"]="string";break;case"d":C=X.w||os(X.v).toISOString(),F["office:value-type"]="date",F["office:date-value"]=os(X.v).toISOString(),F["table:style-name"]="ce1";break;default:d.push(t);continue}var U=e(C);if(X.l&&X.l.Target){var K=X.l.Target;K=K.charAt(0)=="#"?"#"+jV(K.slice(1)):K,K.charAt(0)!="#"&&!K.match(/^\w+:/)&&(K="../"+K),U=Ot("text:a",U,{"xlink:href":K.replace(/&/g,"&amp;")})}d.push("          "+Ot("table:table-cell",Ot("text:p",U,{}),F)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(s,c){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;c.SheetNames.map(function(h){return c.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var x=h["!cols"][m];if(x.width==null&&x.wpx==null&&x.wch==null)continue;fb(x),x.ods=u;var b=h["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),s.push(`  </style:style>
`),++u}}});var d=0;c.SheetNames.map(function(h){return c.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=d;var x=h["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++d}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(c,u){var d=[Ua],h=n1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=n1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+m+`>
`),d.push(qA().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),a(d,c),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)d.push(n(c.Sheets[c.SheetNames[x]],c,x));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function DE(e,t){if(t.bookType=="fods")return GN(e,t);var r=eb(),n="",a=[],s=[];return n="mimetype",Gr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Gr(r,n,GN(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Gr(r,n,oW(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Gr(r,n,Ua+qA()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Gr(r,n,bB(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Gr(r,n,xB(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Op(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function lW(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):nl(r1(e))}function cW(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Iu(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function uW(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function a1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function _n(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ed(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ei(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=a1(e,r),s=a&7;a=Math.floor(a/8);var c=0,u;if(a==0)break;switch(s){case 0:{for(var d=r[0];e[r[0]++]>=128;);u=e.slice(d,r[0])}break;case 5:c=4,u=e.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,u=e.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=a1(e,r),u=e.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var h={data:u,type:s};t[a]==null?t[a]=[h]:t[a].push(h)}return t}function _i(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(_n(n*8+a.type)),a.type==2&&t.push(_n(a.data.length)),t.push(a.data))})}),Iu(t)}function Qo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=a1(e,n),s=ei(e.slice(n[0],n[0]+a));n[0]+=a;var c={id:ed(s[1][0].data),messages:[]};s[2].forEach(function(u){var d=ei(u.data),h=ed(d[3][0].data);c.messages.push({meta:d,data:e.slice(n[0],n[0]+h)}),n[0]+=h}),(t=s[3])!=null&&t[0]&&(c.merge=ed(s[3][0].data)>>>0>0),r.push(c)}return r}function C0(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:_n(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:_n(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(c){a.push(c.data),c.meta[3]=[{type:0,data:_n(c.data.length)}],n[2].push({data:_i(c.meta),type:2})});var s=_i(n);t.push(_n(s.length)),t.push(s),a.forEach(function(c){return t.push(c)})}),Iu(t)}function fW(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=a1(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var c=t[r[0]++]>>2;if(c<60)++c;else{var u=c-59;c=t[r[0]],u>1&&(c|=t[r[0]+1]<<8),u>2&&(c|=t[r[0]+2]<<16),u>3&&(c|=t[r[0]+3]<<24),c>>>=0,c++,r[0]+=u}a.push(t.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var d=0,h=0;if(s==1?(h=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(h=(t[r[0]++]>>2)+1,s==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Iu(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(a.push(a[0].slice(-d)),h-=d;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-d,-d+h))}}var m=Iu(a);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function el(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(fW(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Iu(t)}function k0(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=_n(n),c=s.length;t.push(s),n<=60?(c++,t.push(new Uint8Array([n-1<<2]))):n<=256?(c+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(c+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(c+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(c+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),c+=n,a[0]=0,a[1]=c&255,a[2]=c>>8&255,a[3]=c>>16&255,r+=n}return Iu(t)}function M2(e,t){var r=new Uint8Array(32),n=Op(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,uW(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function I2(e,t){var r=new Uint8Array(32),n=Op(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function wu(e){var t=ei(e);return a1(t[1][0].data)}function dW(e,t,r){var n,a,s,c;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((c=(s=e[8])==null?void 0:s[0])==null?void 0:c.data)&&ed(e[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Op(e[7][0].data),m=0,x=[],b=Op(e[4][0].data),g=0,T=[],w=0;w<t.length;++w){if(t[w]==null){h.setUint16(w*2,65535,!0),b.setUint16(w*2,65535);continue}h.setUint16(w*2,m,!0),b.setUint16(w*2,g,!0);var _,E;switch(typeof t[w]){case"string":_=M2({t:"s",v:t[w]},r),E=I2({t:"s",v:t[w]},r);break;case"number":_=M2({t:"n",v:t[w]},r),E=I2({t:"n",v:t[w]},r);break;case"boolean":_=M2({t:"b",v:t[w]},r),E=I2({t:"b",v:t[w]},r);break;default:throw new Error("Unsupported value "+t[w])}x.push(_),m+=_.length,T.push(E),g+=E.length,++d}for(e[2][0].data=_n(d);w<e[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),b.setUint16(w*2,65535,!0);return e[6][0].data=Iu(x),e[3][0].data=Iu(T),d}function hW(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=eo(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ba(n)));var s=Rp(r,{range:n,header:1}),c=["~Sh33tJ5~"];s.forEach(function(k){return k.forEach(function(D){typeof D=="string"&&c.push(D)})});var u={},d=[],h=Rn.read(t.numbers,{type:"base64"});h.FileIndex.map(function(k,D){return[k,h.FullPaths[D]]}).forEach(function(k){var D=k[0],M=k[1];if(D.type==2&&D.name.match(/\.iwa/)){var q=D.content,Q=el(q),me=Qo(Q);me.forEach(function(de){d.push(de.id),u[de.id]={deps:[],location:M,type:ed(de.messages[0].meta[1][0].data)}})}}),d.sort(function(k,D){return k-D});var m=d.filter(function(k){return k>1}).map(function(k){return[k,_n(k)]});h.FileIndex.map(function(k,D){return[k,h.FullPaths[D]]}).forEach(function(k){var D=k[0];if(k[1],!!D.name.match(/\.iwa/)){var M=Qo(el(D.content));M.forEach(function(q){q.messages.forEach(function(Q){m.forEach(function(me){q.messages.some(function(de){return ed(de.meta[1][0].data)!=11006&&cW(de.data,me[1])})&&u[me[0]].deps.push(q.id)})})})}});for(var x=Rn.find(h,u[1].location),b=Qo(el(x.content)),g,T=0;T<b.length;++T){var w=b[T];w.id==1&&(g=w)}var _=wu(ei(g.messages[0].data)[1][0].data);for(x=Rn.find(h,u[_].location),b=Qo(el(x.content)),T=0;T<b.length;++T)w=b[T],w.id==_&&(g=w);for(_=wu(ei(g.messages[0].data)[2][0].data),x=Rn.find(h,u[_].location),b=Qo(el(x.content)),T=0;T<b.length;++T)w=b[T],w.id==_&&(g=w);for(_=wu(ei(g.messages[0].data)[2][0].data),x=Rn.find(h,u[_].location),b=Qo(el(x.content)),T=0;T<b.length;++T)w=b[T],w.id==_&&(g=w);var E=ei(g.messages[0].data);{E[6][0].data=_n(n.e.r+1),E[7][0].data=_n(n.e.c+1);var F=wu(E[46][0].data),C=Rn.find(h,u[F].location),L=Qo(el(C.content));{for(var X=0;X<L.length&&L[X].id!=F;++X);if(L[X].id!=F)throw"Bad ColumnRowUIDMapArchive";var I=ei(L[X].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var U=0;U<=n.e.c;++U){var K=[];K[1]=K[2]=[{type:0,data:_n(U+420690)}],I[1].push({type:2,data:_i(K)}),I[2].push({type:0,data:_n(U)}),I[3].push({type:0,data:_n(U)})}I[4]=[],I[5]=[],I[6]=[];for(var H=0;H<=n.e.r;++H)K=[],K[1]=K[2]=[{type:0,data:_n(H+726270)}],I[4].push({type:2,data:_i(K)}),I[5].push({type:0,data:_n(H)}),I[6].push({type:0,data:_n(H)});L[X].messages[0].data=_i(I)}C.content=k0(C0(L)),C.size=C.content.length,delete E[46];var oe=ei(E[4][0].data);{oe[7][0].data=_n(n.e.r+1);var O=ei(oe[1][0].data),R=wu(O[2][0].data);C=Rn.find(h,u[R].location),L=Qo(el(C.content));{if(L[0].id!=R)throw"Bad HeaderStorageBucket";var V=ei(L[0].messages[0].data);for(H=0;H<s.length;++H){var re=ei(V[2][0].data);re[1][0].data=_n(H),re[4][0].data=_n(s[H].length),V[2][H]={type:V[2][0].type,data:_i(re)}}L[0].messages[0].data=_i(V)}C.content=k0(C0(L)),C.size=C.content.length;var le=wu(oe[2][0].data);C=Rn.find(h,u[le].location),L=Qo(el(C.content));{if(L[0].id!=le)throw"Bad HeaderStorageBucket";for(V=ei(L[0].messages[0].data),U=0;U<=n.e.c;++U)re=ei(V[2][0].data),re[1][0].data=_n(U),re[4][0].data=_n(n.e.r+1),V[2][U]={type:V[2][0].type,data:_i(re)};L[0].messages[0].data=_i(V)}C.content=k0(C0(L)),C.size=C.content.length;var Z=wu(oe[4][0].data);(function(){for(var k=Rn.find(h,u[Z].location),D=Qo(el(k.content)),M,q=0;q<D.length;++q){var Q=D[q];Q.id==Z&&(M=Q)}var me=ei(M.messages[0].data);{me[3]=[];var de=[];c.forEach(function(Ve,Be){de[1]=[{type:0,data:_n(Be)}],de[2]=[{type:0,data:_n(1)}],de[3]=[{type:2,data:lW(Ve)}],me[3].push({type:2,data:_i(de)})})}M.messages[0].data=_i(me);var ye=C0(D),Ce=k0(ye);k.content=Ce,k.size=k.content.length})();var ie=ei(oe[3][0].data);{var J=ie[1][0];delete ie[2];var Y=ei(J.data);{var se=wu(Y[2][0].data);(function(){for(var k=Rn.find(h,u[se].location),D=Qo(el(k.content)),M,q=0;q<D.length;++q){var Q=D[q];Q.id==se&&(M=Q)}var me=ei(M.messages[0].data);{delete me[6],delete ie[7];var de=new Uint8Array(me[5][0].data);me[5]=[];for(var ye=0,Ce=0;Ce<=n.e.r;++Ce){var Ve=ei(de);ye+=dW(Ve,s[Ce],c),Ve[1][0].data=_n(Ce),me[5].push({data:_i(Ve),type:2})}me[1]=[{type:0,data:_n(n.e.c+1)}],me[2]=[{type:0,data:_n(n.e.r+1)}],me[3]=[{type:0,data:_n(ye)}],me[4]=[{type:0,data:_n(n.e.r+1)}]}M.messages[0].data=_i(me);var Be=C0(D),ae=k0(Be);k.content=ae,k.size=k.content.length})()}J.data=_i(Y)}oe[3][0].data=_i(ie)}E[4][0].data=_i(oe)}g.messages[0].data=_i(E);var P=C0(b),N=k0(P);return x.content=N,x.size=x.content.length,h}function mW(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function gb(e){mW([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function pW(e,t){return t.bookType=="ods"?DE(e,t):t.bookType=="numbers"?hW(e,t):t.bookType=="xlsb"?gW(e,t):xW(e,t)}function gW(e,t){V0=1024,e&&!e.SSF&&(e.SSF=zs(Ta)),e&&e.SSF&&(Jp(),Zp(e.SSF),t.revssf=Qp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ch?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=hE.indexOf(t.bookType)>-1,a=HA();gb(t=t||{});var s=eb(),c="",u=0;if(t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),c="docProps/core.xml",Gr(s,c,WA(e.Props,t)),a.coreprops.push(c),Tn(t.rels,2,c,pn.CORE_PROPS),c="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Gr(s,c,YA(e.Props)),a.extprops.push(c),Tn(t.rels,3,c,pn.EXT_PROPS),e.Custprops!==e.Props&&ki(e.Custprops||{}).length>0&&(c="docProps/custom.xml",Gr(s,c,XA(e.Custprops)),a.custprops.push(c),Tn(t.rels,4,c,pn.CUST_PROPS)),u=1;u<=e.SheetNames.length;++u){var m={"!id":{}},x=e.Sheets[e.SheetNames[u-1]],b=(x||{})["!type"]||"sheet";switch(b){case"chart":default:c="xl/worksheets/sheet"+u+"."+r,Gr(s,c,bq(u-1,c,t,e,m)),a.sheets.push(c),Tn(t.wbrels,-1,"worksheets/sheet"+u+"."+r,pn.WS[0])}if(x){var g=x["!comments"],T=!1,w="";g&&g.length>0&&(w="xl/comments"+u+"."+r,Gr(s,w,Sq(g,w)),a.comments.push(w),Tn(m,-1,"../comments"+u+"."+r,pn.CMNT),T=!0),x["!legacy"]&&T&&Gr(s,"xl/drawings/vmlDrawing"+u+".vml",fE(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Gr(s,GA(c),J0(m))}return t.Strings!=null&&t.Strings.length>0&&(c="xl/sharedStrings."+r,Gr(s,c,wq(t.Strings,c,t)),a.strs.push(c),Tn(t.wbrels,-1,"sharedStrings."+r,pn.SST)),c="xl/workbook."+r,Gr(s,c,vq(e,c)),a.workbooks.push(c),Tn(t.rels,1,c,pn.WB),c="xl/theme/theme1.xml",Gr(s,c,cE(e.Themes,t)),a.themes.push(c),Tn(t.wbrels,-1,"theme/theme1.xml",pn.THEME),c="xl/styles."+r,Gr(s,c,yq(e,c,t)),a.styles.push(c),Tn(t.wbrels,-1,"styles."+r,pn.STY),e.vbaraw&&n&&(c="xl/vbaProject.bin",Gr(s,c,e.vbaraw),a.vba.push(c),Tn(t.wbrels,-1,"vbaProject.bin",pn.VBA)),c="xl/metadata."+r,Gr(s,c,Nq(c)),a.metadata.push(c),Tn(t.wbrels,-1,"metadata."+r,pn.XLMETA),Gr(s,"[Content_Types].xml",VA(a,t)),Gr(s,"_rels/.rels",J0(t.rels)),Gr(s,"xl/_rels/workbook."+r+".rels",J0(t.wbrels)),delete t.revssf,delete t.ssf,s}function xW(e,t){V0=1024,e&&!e.SSF&&(e.SSF=zs(Ta)),e&&e.SSF&&(Jp(),Zp(e.SSF),t.revssf=Qp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ch?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=hE.indexOf(t.bookType)>-1,a=HA();gb(t=t||{});var s=eb(),c="",u=0;if(t.cellXfs=[],Vu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),c="docProps/core.xml",Gr(s,c,WA(e.Props,t)),a.coreprops.push(c),Tn(t.rels,2,c,pn.CORE_PROPS),c="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Gr(s,c,YA(e.Props)),a.extprops.push(c),Tn(t.rels,3,c,pn.EXT_PROPS),e.Custprops!==e.Props&&ki(e.Custprops||{}).length>0&&(c="docProps/custom.xml",Gr(s,c,XA(e.Custprops)),a.custprops.push(c),Tn(t.rels,4,c,pn.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,u=1;u<=e.SheetNames.length;++u){var x={"!id":{}},b=e.Sheets[e.SheetNames[u-1]],g=(b||{})["!type"]||"sheet";switch(g){case"chart":default:c="xl/worksheets/sheet"+u+"."+r,Gr(s,c,SE(u-1,t,e,x)),a.sheets.push(c),Tn(t.wbrels,-1,"worksheets/sheet"+u+"."+r,pn.WS[0])}if(b){var T=b["!comments"],w=!1,_="";if(T&&T.length>0){var E=!1;T.forEach(function(F){F[1].forEach(function(C){C.T==!0&&(E=!0)})}),E&&(_="xl/threadedComments/threadedComment"+u+"."+r,Gr(s,_,YU(T,m,t)),a.threadedcomments.push(_),Tn(x,-1,"../threadedComments/threadedComment"+u+"."+r,pn.TCMNT)),_="xl/comments"+u+"."+r,Gr(s,_,dE(T)),a.comments.push(_),Tn(x,-1,"../comments"+u+"."+r,pn.CMNT),w=!0}b["!legacy"]&&w&&Gr(s,"xl/drawings/vmlDrawing"+u+".vml",fE(u,b["!comments"])),delete b["!comments"],delete b["!legacy"]}x["!id"].rId1&&Gr(s,GA(c),J0(x))}return t.Strings!=null&&t.Strings.length>0&&(c="xl/sharedStrings."+r,Gr(s,c,nE(t.Strings,t)),a.strs.push(c),Tn(t.wbrels,-1,"sharedStrings."+r,pn.SST)),c="xl/workbook."+r,Gr(s,c,TE(e)),a.workbooks.push(c),Tn(t.rels,1,c,pn.WB),c="xl/theme/theme1.xml",Gr(s,c,cE(e.Themes,t)),a.themes.push(c),Tn(t.wbrels,-1,"theme/theme1.xml",pn.THEME),c="xl/styles."+r,Gr(s,c,oE(e,t)),a.styles.push(c),Tn(t.wbrels,-1,"styles."+r,pn.STY),e.vbaraw&&n&&(c="xl/vbaProject.bin",Gr(s,c,e.vbaraw),a.vba.push(c),Tn(t.wbrels,-1,"vbaProject.bin",pn.VBA)),c="xl/metadata."+r,Gr(s,c,uE()),a.metadata.push(c),Tn(t.wbrels,-1,"metadata."+r,pn.XLMETA),m.length>1&&(c="xl/persons/person.xml",Gr(s,c,XU(m)),a.people.push(c),Tn(t.wbrels,-1,"persons/person.xml",pn.PEOPLE)),Gr(s,"[Content_Types].xml",VA(a,t)),Gr(s,"_rels/.rels",J0(t.rels)),Gr(s,"xl/_rels/workbook."+r+".rels",J0(t.wbrels)),delete t.revssf,delete t.ssf,s}function vW(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Lc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function LE(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return w1(t.file,Rn.write(e,{type:bn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Rn.write(e,t)}function bW(e,t){var r=zs(t||{}),n=pW(e,r);return yW(n,r)}function yW(e,t){var r={},n=bn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Rn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Kp(a))}return t.password&&typeof encrypt_agile<"u"?LE(encrypt_agile(a,t.password),t):t.type==="file"?w1(t.file,a):t.type=="string"?Th(a):a}function wW(e,t){var r=t||{},n=Mq(e,r);return LE(n,r)}function Ol(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return e1(r1(n));case"binary":return r1(n);case"string":return e;case"file":return w1(t.file,n,"utf8");case"buffer":return bn?Rc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ol(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function SW(e,t){switch(t.type){case"base64":return e1(e);case"binary":return e;case"string":return e;case"file":return w1(t.file,e,"binary");case"buffer":return bn?Rc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Hm(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?e1(r):t.type=="string"?Th(r):r;case"file":return w1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function zE(e,t){KI(),oq(e);var r=zs(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=zE(e,r);return r.type="array",Kp(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ol(Oq(e,r),r);case"slk":case"sylk":return Ol(aU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ol(jE(e.Sheets[e.SheetNames[a]],r),r);case"txt":return SW(OE(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ol(xb(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ol(iU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Hm(nU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ol(sU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ol(hU.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ol(rE.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ol(DE(e,r),r);case"wk1":return Hm(MN.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Hm(MN.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Hm(EE(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),wW(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return bW(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function NW(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function FE(e,t,r){var n={};return n.type="file",n.file=t,NW(n),zE(e,n)}function _W(e,t,r,n,a,s,c,u){var d=Ci(r),h=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,b=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch{b.__rowNum__=r}else b.__rowNum__=r;if(!c||e[r])for(var g=t.s.c;g<=t.e.c;++g){var T=c?e[r][g]:e[n[g]+d];if(T===void 0||T.t===void 0){if(h===void 0)continue;s[g]!=null&&(b[s[g]]=h);continue}var w=T.v;switch(T.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[g]!=null){if(w==null)if(T.t=="e"&&w===null)b[s[g]]=null;else if(h!==void 0)b[s[g]]=h;else if(m&&w===null)b[s[g]]=null;else continue;else b[s[g]]=m&&(T.t!=="n"||T.t==="n"&&u.rawNumbers!==!1)?w:zc(T,w,u);w!=null&&(x=!1)}}return{row:b,isempty:x}}function Rp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],c=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=t||{},m=h.range!=null?h.range:e["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof m){case"string":d=Xn(m);break;case"number":d=Xn(e["!ref"]),d.s.r=m;break;default:d=m}n>0&&(a=0);var x=Ci(d.s.r),b=[],g=[],T=0,w=0,_=Array.isArray(e),E=d.s.r,F=0,C={};_&&!e[E]&&(e[E]=[]);var L=h.skipHidden&&e["!cols"]||[],X=h.skipHidden&&e["!rows"]||[];for(F=d.s.c;F<=d.e.c;++F)if(!(L[F]||{}).hidden)switch(b[F]=Wi(F),r=_?e[E][F]:e[b[F]+x],n){case 1:s[F]=F-d.s.c;break;case 2:s[F]=b[F];break;case 3:s[F]=h.header[F-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=c=zc(r,null,h),w=C[c]||0,!w)C[c]=1;else{do u=c+"_"+w++;while(C[u]);C[c]=w,C[u]=1}s[F]=u}for(E=d.s.r+a;E<=d.e.r;++E)if(!(X[E]||{}).hidden){var I=_W(e,d,E,b,n,s,_,h);(I.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(g[T++]=I.row)}return g.length=T,g}var qN=/"/g;function TW(e,t,r,n,a,s,c,u){for(var d=!0,h=[],m="",x=Ci(r),b=t.s.c;b<=t.e.c;++b)if(n[b]){var g=u.dense?(e[r]||[])[b]:e[n[b]+x];if(g==null)m="";else if(g.v!=null){d=!1,m=""+(u.rawNumbers&&g.t=="n"?g.v:zc(g,null,u));for(var T=0,w=0;T!==m.length;++T)if((w=m.charCodeAt(T))===a||w===s||w===34||u.forceQuotes){m='"'+m.replace(qN,'""')+'"';break}m=="ID"&&(m='"ID"')}else g.f!=null&&!g.F?(d=!1,m="="+g.f,m.indexOf(",")>=0&&(m='"'+m.replace(qN,'""')+'"')):m="";h.push(m)}return u.blankrows===!1&&d?null:h.join(c)}function xb(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Xn(e["!ref"]),s=n.FS!==void 0?n.FS:",",c=s.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),m="",x=[];n.dense=Array.isArray(e);for(var b=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],T=a.s.c;T<=a.e.c;++T)(b[T]||{}).hidden||(x[T]=Wi(T));for(var w=0,_=a.s.r;_<=a.e.r;++_)(g[_]||{}).hidden||(m=TW(e,a,_,x,c,d,s,n),m!=null&&(n.strip&&(m=m.replace(h,"")),(m||n.blankrows!==!1)&&r.push((w++?u:"")+m)));return delete n.dense,r.join("")}function OE(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=xb(e,t);return r}function AW(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Xn(e["!ref"]),s="",c=[],u,d=[],h=Array.isArray(e);for(u=a.s.c;u<=a.e.c;++u)c[u]=Wi(u);for(var m=a.s.r;m<=a.e.r;++m)for(s=Ci(m),u=a.s.c;u<=a.e.c;++u)if(t=c[u]+s,r=h?(e[m]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function RE(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},c=0,u=0;if(s&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var d=typeof n.origin=="string"?pi(n.origin):n.origin;c=d.r,u=d.c}var h,m={s:{c:0,r:0},e:{c:u,r:c+t.length-1+a}};if(s["!ref"]){var x=Xn(s["!ref"]);m.e.c=Math.max(m.e.c,x.e.c),m.e.r=Math.max(m.e.r,x.e.r),c==-1&&(c=x.e.r+1,m.e.r=c+t.length-1+a)}else c==-1&&(c=0,m.e.r=t.length-1+a);var b=n.header||[],g=0;t.forEach(function(w,_){ki(w).forEach(function(E){(g=b.indexOf(E))==-1&&(b[g=b.length]=E);var F=w[E],C="z",L="",X=jn({c:u+g,r:c+_+a});h=i1(s,X),F&&typeof F=="object"&&!(F instanceof Date)?s[X]=F:(typeof F=="number"?C="n":typeof F=="boolean"?C="b":typeof F=="string"?C="s":F instanceof Date?(C="d",n.cellDates||(C="n",F=Ls(F)),L=n.dateNF||Ta[14]):F===null&&n.nullError&&(C="e",F=0),h?(h.t=C,h.v=F,delete h.w,delete h.R,L&&(h.z=L)):s[X]=h={t:C,v:F},L&&(h.z=L))})}),m.e.c=Math.max(m.e.c,u+b.length-1);var T=Ci(c);if(a)for(g=0;g<b.length;++g)s[Wi(g+u)+T]={t:"s",v:b[g]};return s["!ref"]=Ba(m),s}function EW(e,t){return RE(null,e,t)}function i1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=pi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?i1(e,jn(t)):i1(e,jn({r:t,c:r||0}))}function jW(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function CW(){return{SheetNames:[],Sheets:{}}}function kW(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var c=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=c+a)!=-1;++a);}if(_E(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function DW(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=jW(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function LW(e,t){return e.z=t,e}function ME(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function zW(e,t,r){return ME(e,"#"+t,r)}function FW(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function OW(e,t,r,n){for(var a=typeof t!="string"?t:Xn(t),s=typeof t=="string"?t:Ba(t),c=a.s.r;c<=a.e.r;++c)for(var u=a.s.c;u<=a.e.c;++u){var d=i1(e,c,u);d.t="n",d.F=s,delete d.v,c==a.s.r&&u==a.s.c&&(d.f=r,n&&(d.D=!0))}return e}var di={encode_col:Wi,encode_row:Ci,encode_cell:jn,encode_range:Ba,decode_col:sb,decode_row:ib,split_cell:KP,decode_cell:pi,decode_range:eo,format_cell:zc,sheet_add_aoa:RA,sheet_add_json:RE,sheet_add_dom:CE,aoa_to_sheet:vd,json_to_sheet:EW,table_to_sheet:kE,table_to_book:iW,sheet_to_csv:xb,sheet_to_txt:OE,sheet_to_json:Rp,sheet_to_html:jE,sheet_to_formulae:AW,sheet_to_row_object_array:Rp,sheet_get_cell:i1,book_new:CW,book_append_sheet:kW,book_set_sheet_visibility:DW,cell_set_number_format:LW,cell_set_hyperlink:ME,cell_set_internal_link:zW,cell_add_comment:FW,sheet_set_array_formula:OW,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function IE(e,t,r,n,a){n=n||{};var s=1.15,c=a.internal.scaleFactor,u=a.internal.getFontSize()/c,d=a.getLineHeightFactor?a.getLineHeightFactor():s,h=u*d,m=/\r\n|\r|\n/g,x="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(x=typeof e=="string"?e.split(m):e,b=x.length||1),r+=u*(2-s),n.valign==="middle"?r-=b/2*h:n.valign==="bottom"&&(r-=b*h),n.halign==="center"||n.halign==="right"){var g=u;if(n.halign==="center"&&(g*=.5),x&&b>=1){for(var T=0;T<x.length;T++)a.text(x[T],t-a.getStringUnitWidth(x[T])*g,r),r+=h;return a}t-=a.getStringUnitWidth(e)*g}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var WN={},td=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:WN=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,d=c.fontName;if(t.font&&(d=t.font),t.fontStyle){u=t.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(d,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var m=e.unifyColor(t.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=e.unifyColor(t.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=e.unifyColor(t.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return WN||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),Pv=function(e,t){return Pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Pv(e,t)};function PE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var BE=(function(e){PE(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function RW(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MW(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Mp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,c){return Math.max(s,c)},0);return a}function UE(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var c=HE(a,!1);c&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,c)}function HE(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function ag(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function VE(e,t){var r=ag(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function IW(e,t,r,n,a){var s={},c=1.3333333333333333,u=P2(t,function(C){return a.getComputedStyle(C).backgroundColor});u!=null&&(s.fillColor=u);var d=P2(t,function(C){return a.getComputedStyle(C).color});d!=null&&(s.textColor=d);var h=BW(n,r);h&&(s.cellPadding=h);var m="borderTopColor",x=c*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var g=(parseFloat(b)||0)/x;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/x,right:(parseFloat(n.borderRightWidth)||0)/x,bottom:(parseFloat(n.borderBottomWidth)||0)/x,left:(parseFloat(n.borderLeftWidth)||0)/x},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var T=P2(t,function(C){return a.getComputedStyle(C)[m]});T!=null&&(s.lineColor=T);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(s.fontSize=_/c);var E=PW(n);E&&(s.fontStyle=E);var F=(n.fontFamily||"").toLowerCase();return e.indexOf(F)!==-1&&(s.font=F),s}function PW(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function P2(e,t){var r=GE(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function GE(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:GE(e.parentElement,t):r}function BW(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(u){return parseInt(u||"0")/n}),c=ag(s,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function qE(e,t,r,n,a){var s,c;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof t=="string"?u=r.document.querySelector(t):u=t;var d=Object.keys(e.getFontList()),h=e.scaleFactor(),m=[],x=[],b=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:m,body:x,foot:b};for(var g=0;g<u.rows.length;g++){var T=u.rows[g],w=(c=(s=T==null?void 0:T.parentElement)===null||s===void 0?void 0:s.tagName)===null||c===void 0?void 0:c.toLowerCase(),_=UW(d,h,r,T,n,a);_&&(w==="thead"?m.push(_):w==="tfoot"?b.push(_):x.push(_))}return{head:m,body:x,foot:b}}function UW(e,t,r,n,a,s){for(var c=new BE(n),u=0;u<n.cells.length;u++){var d=n.cells[u],h=r.getComputedStyle(d);if(a||h.display!=="none"){var m=void 0;s&&(m=IW(e,d,t,h,r)),c.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:m,_element:d,content:HW(d)})}}var x=r.getComputedStyle(n);if(c.length>0&&(a||x.display!=="none"))return c}function HW(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function VW(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Tc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(s[d]=u[d])}return s}function WE(e,t){var r=new td(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();VW(a,n,t);var s=Tc({},a,n,t),c;typeof window<"u"&&(c=window);var u=GW(a,n,t),d=qW(a,n,t),h=WW(r,s),m=YW(r,s,c);return{id:t.tableId,content:m,hooks:d,styles:u,settings:h}}function GW(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var h=e[d],m=t[d],x=r[d];n.columnStyles=Tc({},h,m,x)}else{var b=[e,t,r],g=b.map(function(T){return T[d]||{}});n[d]=Tc({},g[0],g[1],g[2])}},s=0,c=Object.keys(n);s<c.length;s++){var u=c[s];a(u)}return n}function qW(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,c=n;s<c.length;s++){var u=c[s];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function WW(e,t){var r,n,a,s,c,u,d,h,m,x,b,g,T=ag(t.margin,40/e.scaleFactor()),w=(r=$W(e,t.startY))!==null&&r!==void 0?r:T.top,_;t.showFoot===!0?_="everyPage":t.showFoot===!1?_="never":_=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var E;t.showHead===!0?E="everyPage":t.showHead===!1?E="never":E=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var F=(s=t.useCss)!==null&&s!==void 0?s:!1,C=t.theme||(F?"plain":"striped"),L=!!t.horizontalPageBreak,X=(c=t.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:F,theme:C,startY:w,margin:T,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:E,showFoot:_,tableLineWidth:(x=t.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:L,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function $W(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;s=c===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function YW(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var c=t.includeHiddenHtml;if(r){var u=qE(e,t.html,r,c,t.useCss)||{};n=u.head||n,a=u.body||n,s=u.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||XW(n,a,s);return{columns:d,head:n,body:a,foot:s}}function XW(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var c=1,u;Array.isArray(n)?u=n[parseInt(s)]:u=n[s],typeof u=="object"&&!Array.isArray(u)&&(c=(u==null?void 0:u.colSpan)||1);for(var d=0;d<c;d++){var h=void 0;Array.isArray(n)?h=a.length:h=s+(d>0?"_".concat(d):"");var m={dataKey:h};a.push(m)}}),a}var Bv=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),KW=(function(e){PE(t,e);function t(r,n,a,s,c,u){var d=e.call(this,r,n,u)||this;return d.cell=a,d.row=s,d.column=c,d.section=s.section,d}return t})(Bv),ZW=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,c){for(var u=0,d=r;u<d.length;u++){var h=d[u],m=new KW(t,this,n,a,s,c),x=h(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],x)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new Bv(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new Bv(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),$E=(function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof BE&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var c=n.cells[s.index];if(!c)return 0;var u=r.getLineHeight(c.styles.fontSize),d=c.padding("vertical"),h=d+u;return h>a?h:a},0)},e})(),YE=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var c=s!=null?""+s:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=ag(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),JW=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],c=s.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},e})();function QW(e,t){e$(e,t);var r=[],n=0;t.columns.forEach(function(s){var c=s.getMaxCustomCellWidth(t);c?s.width=c:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Uv(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=Uv(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),r$(t),n$(t,e),t$(t)}function e$(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=VE(e,t);t.allRows().forEach(function(s){for(var c=0,u=t.columns;c<u.length;c++){var d=u[c],h=s.cells[d.index];if(h){var m=t.hooks.didParseCell;t.callCellHooks(e,m,h,s,d,null);var x=h.padding("horizontal");h.contentWidth=Mp(h.text,h.styles,e)+x;var b=Mp(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,e);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/r;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(s){for(var c=0,u=t.columns;c<u.length;c++){var d=u[c],h=s.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var m=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},x=m.cellWidth||m.minCellWidth;x&&typeof x=="number"&&(d.minWidth=x,d.wrappedWidth=x)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function Uv(e,t,r){for(var n=t,a=e.reduce(function(g,T){return g+T.wrappedWidth},0),s=0;s<e.length;s++){var c=e[s],u=c.wrappedWidth/a,d=n*u,h=c.width+d,m=r(c),x=h<m?m:h;t-=x-c.width,c.width=x}if(t=Math.round(t*1e10)/1e10,t){var b=e.filter(function(g){return t<0?g.width>r(g):!0});b.length&&(t=Uv(b,t,r))}return t}function t$(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],c=0,u=e.columns;c<u.length;c++){var d=u[c],h=t[d.index];if(r>1)r--,delete s.cells[d.index];else if(h)h.cell.height+=s.height,r=h.cell.colSpan,delete s.cells[d.index],h.left--,h.left<=1&&delete t[d.index];else{var m=s.cells[d.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var x=n.length-a,b=m.rowSpan>x?x:m.rowSpan;t[d.index]={cell:m,left:b,row:s}}}}}function r$(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,c=0,u=0;u<e.columns.length;u++){var d=e.columns[u];if(c-=1,c>1&&e.columns[u+1])s+=d.width,delete n.cells[d.index];else if(a){var h=a;delete n.cells[d.index],a=null,h.width=d.width+s}else{var h=n.cells[d.index];if(!h)continue;if(c=h.colSpan,s=0,h.colSpan>1){a=h,s+=d.width;continue}h.width=d.width+s}}}function n$(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],c=0,u=e.columns;c<u.length;c++){var d=u[c],h=s.cells[d.index];if(h){t.applyStyles(h.styles,!0);var m=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,m+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=$N(h.text,m,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=$N(h.text,m,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var x=h.styles.overflow(h.text,m);typeof x=="string"?h.text=[x]:h.text=x}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<b*h.rowSpan?r={height:b,count:h.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>s.height&&(s.height=b)}}r.count--}}function $N(e,t,r,n,a){return e.map(function(s){return a$(s,t,r,n,a)})}function a$(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Mp(e,r,n))return e;for(;t<Mp(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function XE(e,t){var r=new td(e),n=i$(t,r.scaleFactor()),a=new ZW(t,n);return QW(r,a),r.applyStyles(r.userStyles),a}function i$(e,t){var r=e.content,n=o$(r.columns);if(r.head.length===0){var a=YN(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=YN(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,c=e.styles;return{columns:n,head:B2("head",r.head,n,c,s,t),body:B2("body",r.body,n,c,s,t),foot:B2("foot",r.foot,n,c,s,t)}}function B2(e,t,r,n,a,s){var c={},u=t.map(function(d,h){for(var m=0,x={},b=0,g=0,T=0,w=r;T<w.length;T++){var _=w[T];if(c[_.index]==null||c[_.index].left===0)if(g===0){var E=void 0;Array.isArray(d)?E=d[_.index-b-m]:E=d[_.dataKey];var F={};typeof E=="object"&&!Array.isArray(E)&&(F=(E==null?void 0:E.styles)||{});var C=l$(e,_,h,a,n,s,F),L=new YE(E,C,e);x[_.dataKey]=L,x[_.index]=L,g=L.colSpan-1,c[_.index]={left:L.rowSpan-1,times:g}}else g--,b++;else c[_.index].left--,g=c[_.index].times,m++}return new $E(d,h,e,x)});return u}function YN(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=s$(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function s$(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function o$(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new JW(a,t,r)})}function l$(e,t,r,n,a,s,c){var u=MW(n),d;e==="head"?d=a.headStyles:e==="body"?d=a.bodyStyles:e==="foot"&&(d=a.footStyles);var h=Tc({},u.table,u[e],a.styles,d),m=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},x=e==="body"?m:{},b=e==="body"&&r%2===0?Tc({},u.alternateRow,a.alternateRowStyles):{},g=RW(s),T=Tc({},g,h,b,x);return Tc(T,c)}function c$(e,t,r){var n;r===void 0&&(r={});var a=VE(e,t),s=new Map,c=[],u=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var g=t.columns.find(function(T){return T.dataKey===b||T.index===b});g&&!s.has(g.index)&&(s.set(g.index,!0),c.push(g.index),u.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var h=!0,m=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;m<t.columns.length;){if(s.has(m)){m++;continue}var x=t.columns[m].wrappedWidth;if(h||a>=x)h=!1,c.push(m),u.push(t.columns[m]),a-=x;else break;m++}return{colIndexes:c,columns:u,lastIndex:m-1}}function u$(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=c$(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function KE(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},c=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=n+a.bottom+c;if(r.pageBreak==="avoid"){var d=t.body,h=d.reduce(function(b,g){return b+g.height},0);u+=h}var m=new td(e);(r.pageBreak==="always"||r.startY!=null&&u>m.pageSize().height)&&(JE(m),s.y=a.top),t.callWillDrawPageHooks(m,s);var x=Tc({},s);t.startPageNumber=m.pageNumber(),r.horizontalPageBreak?f$(m,t,x,s):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(b){return Fc(m,t,b,s,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(b,g){var T=g===t.body.length-1;Ip(m,t,b,T,x,s,t.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(b){return Fc(m,t,b,s,t.columns)})),UE(m,t,x,s),t.callEndPageHooks(m,s),t.finalY=s.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function f$(e,t,r,n){var a=u$(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,m){e.applyStyles(e.userStyles),m>0?kh(e,t,r,n,h.columns,!0):XN(e,t,n,h.columns),d$(e,t,r,n,h.columns),U2(e,t,n,h.columns)});else for(var c=-1,u=a[0],d=function(){var h=c;if(u){e.applyStyles(e.userStyles);var m=u.columns;c>=0?kh(e,t,r,n,m,!0):XN(e,t,n,m),h=KN(e,t,c+1,n,m),U2(e,t,n,m)}var x=h-c;a.slice(1).forEach(function(b){e.applyStyles(e.userStyles),kh(e,t,r,n,b.columns,!0),KN(e,t,c+1,n,b.columns,x),U2(e,t,n,b.columns)}),c=h};c<t.body.length-1;)d()}function XN(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Fc(e,t,s,r,n)})}function d$(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,c){var u=c===t.body.length-1;Ip(e,t,s,u,r,n,a)})}function KN(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var c=Math.min(r+s,t.body.length),u=-1;return t.body.slice(r,c).forEach(function(d,h){var m=r+h===t.body.length-1,x=ZE(e,t,m,n);d.canEntireRowFit(x,a)&&(Fc(e,t,d,n,a),u=r+h)}),u}function U2(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Fc(e,t,s,r,n)})}function h$(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function m$(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,c=0,u=r.columns;c<u.length;c++){var d=u[c],h=e.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var m=new YE(h.raw,h.styles,h.section);m=Tc(m,h),m.text=[];var x=h$(h,t,n);h.text.length>x&&(m.text=h.text.splice(x,h.text.length));var b=n.scaleFactor(),g=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,g),h.contentHeight>=t&&(h.contentHeight=t,m.styles.minCellHeight-=t),h.contentHeight>e.height&&(e.height=h.contentHeight),m.contentHeight=m.getContentHeight(b,g),m.contentHeight>s&&(s=m.contentHeight),a[d.index]=m}}var T=new $E(e.raw,-1,e.section,a,!0);T.height=s;for(var w=0,_=r.columns;w<_.length;w++){var d=_[w],m=T.cells[d.index];m&&(m.height=T.height);var h=e.cells[d.index];h&&(h.height=e.height)}return T}function p$(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,c=s.top+s.bottom,u=a-c;t.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),h=d<r;if(d>u)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var m=t.hasRowSpan(n.columns),x=t.getMaxCellHeight(n.columns)>u;return x?(m&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function Ip(e,t,r,n,a,s,c){var u=ZE(e,t,n,s);if(r.canEntireRowFit(u,c))Fc(e,t,r,s,c);else if(p$(e,r,u,t)){var d=m$(r,u,t,e);Fc(e,t,r,s,c),kh(e,t,a,s,c),Ip(e,t,d,n,a,s,c)}else kh(e,t,a,s,c),Ip(e,t,r,n,a,s,c)}function Fc(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,c=a;s<c.length;s++){var u=c[s],d=r.cells[u.index];if(!d){n.x+=u.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var h=t.callCellHooks(e,t.hooks.willDrawCell,d,r,u,n);if(h===!1){n.x+=u.width;continue}g$(e,d,n);var m=d.getTextPos();IE(d.text,m.x,m.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,u,n),n.x+=u.width}n.y+=r.height}function g$(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=HE(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),x$(e,t,r,n.lineWidth))}function x$(e,t,r,n){var a,s,c,u;n.top&&(a=r.x,s=r.y,c=r.x+t.width,u=r.y,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,s,c,u)),n.bottom&&(a=r.x,s=r.y+t.height,c=r.x+t.width,u=r.y+t.height,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,s,c,u)),n.left&&(a=r.x,s=r.y,c=r.x,u=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.left,a,s,c,u)),n.right&&(a=r.x+t.width,s=r.y,c=r.x+t.width,u=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.right,a,s,c,u));function d(h,m,x,b,g){e.getDocument().setLineWidth(h),e.getDocument().line(m,x,b,g,"S")}}function ZE(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function kh(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(u){return Fc(e,t,u,n,a)}),t.callEndPageHooks(e,n);var c=t.settings.margin;UE(e,t,r,n),JE(e),t.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Fc(e,t,u,n,a)}),e.applyStyles(e.userStyles))}function JE(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function v$(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=WE(this,n),s=XE(this,a);return KE(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){IE(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return td.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){td.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new td(this),s=qE(a,t,window,r,!1),c=s.head,u=s.body,d=((n=c[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:d,rows:u,data:u}}}var H2;function Sc(e,t){var r=WE(e,t),n=XE(e,r);KE(e,n)}try{if(typeof window<"u"&&window){var ZN=window,JN=ZN.jsPDF||((H2=ZN.jspdf)===null||H2===void 0?void 0:H2.jsPDF);JN&&v$(JN)}}catch(e){console.error("Could not apply autoTable plugin",e)}const QN=(e,t,r)=>{var d,h,m,x,b,g,T;const n=di.book_new(),a=new Date().toISOString().split("T")[0];if(e.carreras&&e.carreras.length>0){const w=e.carreras.map(E=>{var F,C,L,X,I;return{Fecha:E.fechaHora instanceof Date?E.fechaHora.toLocaleDateString("es-ES"):new Date(E.fechaHora).toLocaleDateString("es-ES"),Hora:E.fechaHora instanceof Date?E.fechaHora.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaHora).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Taxmetro ()":E.taximetro||0,"Cobrado ()":E.cobrado||0,"Forma de Pago":E.formaPago||"","Tipo de Carrera":E.tipoCarrera||"Urbana",Emisora:E.emisora?"S":"No",Aeropuerto:E.aeropuerto?"S":"No",Estacin:E.estacion?"S":"No",Notas:E.notas||"","Empresa Vale":((F=E.valeInfo)==null?void 0:F.empresa)||"","Cod. Empresa":((C=E.valeInfo)==null?void 0:C.codigoEmpresa)||"",Albarn:((L=E.valeInfo)==null?void 0:L.numeroAlbaran)||"",Despacho:((X=E.valeInfo)==null?void 0:X.despacho)||"",Autoriza:((I=E.valeInfo)==null?void 0:I.autoriza)||""}}),_=di.json_to_sheet(w);_["!cols"]=[{wch:12},{wch:8},{wch:10},{wch:10},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:30},{wch:20},{wch:15},{wch:15},{wch:15},{wch:15}],di.book_append_sheet(n,_,"Carreras")}if(e.gastos&&e.gastos.length>0){const w=e.gastos.map(E=>({Fecha:E.fecha instanceof Date?E.fecha.toLocaleDateString("es-ES"):new Date(E.fecha).toLocaleDateString("es-ES"),Concepto:E.concepto||"",Proveedor:E.proveedor||"",Taller:E.taller||"","Base Imponible ()":E.baseImponible||E.importe||0,"IVA %":E.ivaPorcentaje||0,"IVA ()":E.ivaImporte||0,"Total ()":E.importe||0,"N Factura":E.numeroFactura||"","Forma de Pago":E.formaPago||"",Kilmetros:E.kilometros||0,Notas:E.notas||""})),_=di.json_to_sheet(w);_["!cols"]=[{wch:12},{wch:20},{wch:20},{wch:20},{wch:15},{wch:8},{wch:12},{wch:12},{wch:15},{wch:15},{wch:12},{wch:30}],di.book_append_sheet(n,_,"Gastos")}if(e.turnos&&e.turnos.length>0){const w=e.turnos.map(E=>({"Fecha Inicio":E.fechaInicio instanceof Date?E.fechaInicio.toLocaleDateString("es-ES"):new Date(E.fechaInicio).toLocaleDateString("es-ES"),"Hora Inicio":E.fechaInicio instanceof Date?E.fechaInicio.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaInicio).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Km Inicio":E.kilometrosInicio||0,"Fecha Fin":E.fechaFin?E.fechaFin instanceof Date?E.fechaFin.toLocaleDateString("es-ES"):new Date(E.fechaFin).toLocaleDateString("es-ES"):"","Hora Fin":E.fechaFin?E.fechaFin instanceof Date?E.fechaFin.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaFin).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"","Km Fin":E.kilometrosFin||"","Km Recorridos":E.kilometrosFin&&E.kilometrosInicio?E.kilometrosFin-E.kilometrosInicio:""})),_=di.json_to_sheet(w);_["!cols"]=[{wch:12},{wch:8},{wch:10},{wch:12},{wch:8},{wch:10},{wch:12}],di.book_append_sheet(n,_,"Turnos")}const s=[{"Total Ingresos ()":((d=e.carreras)==null?void 0:d.reduce((w,_)=>w+(_.cobrado||0),0))||0,"Total Gastos ()":((h=e.gastos)==null?void 0:h.reduce((w,_)=>w+(_.importe||0),0))||0,"Balance Neto ()":(((m=e.carreras)==null?void 0:m.reduce((w,_)=>w+(_.cobrado||0),0))||0)-(((x=e.gastos)==null?void 0:x.reduce((w,_)=>w+(_.importe||0),0))||0),"Total IVA Gastos ()":((b=e.gastos)==null?void 0:b.reduce((w,_)=>w+(_.ivaImporte||0),0))||0,"Perodo Desde":((g=t.fechaDesde)==null?void 0:g.toLocaleDateString("es-ES"))||"","Perodo Hasta":((T=t.fechaHasta)==null?void 0:T.toLocaleDateString("es-ES"))||"","Fecha Exportacin":new Date().toLocaleDateString("es-ES")}],c=di.json_to_sheet(s);c["!cols"]=[{wch:20},{wch:20},{wch:20},{wch:20},{wch:15},{wch:15},{wch:15}],di.book_append_sheet(n,c,"Resumen");const u=r||`TAppXI_Export_${a}.xlsx`;FE(n,u)},e6=(e,t,r)=>{var x,b,g,T;const n=new Date().toISOString().split("T")[0],a=[];a.push("TAppXI - Exportacin de Datos"),a.push(`Fecha de exportacin: ${new Date().toLocaleDateString("es-ES")}`),a.push(`Perodo: ${((x=t.fechaDesde)==null?void 0:x.toLocaleDateString("es-ES"))||"N/A"} - ${((b=t.fechaHasta)==null?void 0:b.toLocaleDateString("es-ES"))||"N/A"}`),a.push(""),e.carreras&&e.carreras.length>0&&(a.push("=== CARRERAS ==="),a.push("Fecha,Hora,Taxmetro,Cobrado,Forma Pago,Tipo Carrera,Emisora,Aeropuerto,Estacin,Empresa Vale,Cdigo Vale,Albarn"),e.carreras.forEach(w=>{var E,F,C;const _=w.fechaHora instanceof Date?w.fechaHora:new Date(w.fechaHora);a.push([_.toLocaleDateString("es-ES"),_.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),(w.taximetro||0).toFixed(2),(w.cobrado||0).toFixed(2),w.formaPago||"",w.tipoCarrera||"Urbana",w.emisora?"S":"No",w.aeropuerto?"S":"No",w.estacion?"S":"No",((E=w.valeInfo)==null?void 0:E.empresa)||"",((F=w.valeInfo)==null?void 0:F.codigoEmpresa)||"",((C=w.valeInfo)==null?void 0:C.numeroAlbaran)||""].join(","))}),a.push("")),e.gastos&&e.gastos.length>0&&(a.push("=== GASTOS ==="),a.push("Fecha,Concepto,Proveedor,Base Imponible,IVA %,IVA,Total,N Factura,Forma Pago"),e.gastos.forEach(w=>{const _=w.fecha instanceof Date?w.fecha:new Date(w.fecha);a.push([_.toLocaleDateString("es-ES"),(w.concepto||"").replace(/,/g,";"),(w.proveedor||"").replace(/,/g,";"),(w.baseImponible||w.importe||0).toFixed(2),(w.ivaPorcentaje||0).toString(),(w.ivaImporte||0).toFixed(2),(w.importe||0).toFixed(2),(w.numeroFactura||"").replace(/,/g,";"),w.formaPago||""].join(","))}),a.push(""));const s=((g=e.carreras)==null?void 0:g.reduce((w,_)=>w+(_.cobrado||0),0))||0,c=((T=e.gastos)==null?void 0:T.reduce((w,_)=>w+(_.importe||0),0))||0;a.push("=== RESUMEN ==="),a.push(`Total Ingresos,${s.toFixed(2)}`),a.push(`Total Gastos,${c.toFixed(2)}`),a.push(`Balance Neto,${(s-c).toFixed(2)}`);const u=a.join(`
`),d=new Blob(["\uFEFF"+u],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),m=document.createElement("a");m.href=h,m.download=r||`TAppXI_Export_${n}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},b$=e=>new Promise((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=()=>{const a=document.createElement("canvas");a.width=n.width,a.height=n.height;const s=a.getContext("2d");if(s){s.drawImage(n,0,0);try{const c=a.toDataURL("image/jpeg");t(c)}catch(c){console.warn("Could not get base64 data due to CORS:",c),t(null)}}else t(null)},n.onerror=a=>{console.warn("Failed to load image:",e,a),t(null)}}),y$=async e=>{if(!e)return null;if(e.startsWith("data:image"))return e;let t=e;const r=/drive\.google\.com\/(?:file\/d\/|open\?id=)([^/?&]+)/,n=e.match(r);n&&n[1]&&(t=`https://lh3.googleusercontent.com/d/${n[1]}=s200`);try{return await b$(t)}catch(a){return console.error("Error processing logo:",a),null}},t6=async(e,t,r)=>{var C,L,X;const n=new sr,a=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight();let c=20;const u=localStorage.getItem("branding_logo"),d=localStorage.getItem("branding_datosFiscales"),h=d?JSON.parse(d):null;let m=40;const x=await y$(u);if(x)try{n.addImage(x,"JPEG",14,10,25,25)}catch(I){console.error("Error adding logo to PDF:",I)}n.setFontSize(22),n.setTextColor(0,0,0),n.setFont(void 0,"bold");const b=a-14;if(n.text("TAppXI",b,20,{align:"right"}),n.setFontSize(10),n.setFont(void 0,"normal"),n.setTextColor(100,100,100),n.text("Informe Profesional",b,25,{align:"right"}),h){let I=35;n.setFontSize(9),n.setTextColor(80,80,80),h.nombre&&(n.setFont(void 0,"bold"),n.text(h.nombre,b,I,{align:"right"}),n.setFont(void 0,"normal"),I+=4),h.nif&&(n.text(`NIF: ${h.nif}`,b,I,{align:"right"}),I+=4),h.direccion&&(n.text(h.direccion,b,I,{align:"right"}),I+=4),(h.telefono||h.email)&&(n.text(`${h.telefono||""} ${h.email?" "+h.email:""}`,b,I,{align:"right"}),m=Math.max(m,I+10))}c=m+5,n.setFontSize(11),n.setTextColor(100,100,100),t.fechaDesde&&t.fechaHasta&&n.text(`Perodo: ${t.fechaDesde.toLocaleDateString("es-ES")} - ${t.fechaHasta.toLocaleDateString("es-ES")}`,14,m,{align:"left"}),n.setFontSize(8),n.text(`Generado: ${new Date().toLocaleDateString("es-ES")}`,14,m+4,{align:"left"}),c+=10,n.setFontSize(16),n.setTextColor(0,0,0),n.setFont(void 0,"bold"),n.text("RESUMEN EJECUTIVO",14,c),c+=10;const g=((C=e.carreras)==null?void 0:C.reduce((I,U)=>I+(U.cobrado||0),0))||0,T=((L=e.gastos)==null?void 0:L.reduce((I,U)=>I+(U.importe||0),0))||0,w=((X=e.gastos)==null?void 0:X.reduce((I,U)=>I+(U.ivaImporte||0),0))||0,_=g-T;if(n.setFontSize(11),n.setFont(void 0,"normal"),n.text(`Total Ingresos: ${g.toFixed(2)} `,14,c),c+=7,n.text(`Total Gastos: ${T.toFixed(2)} `,14,c),c+=7,n.text(`IVA (Gastos): ${w.toFixed(2)} `,14,c),c+=7,n.setFont(void 0,"bold"),n.setTextColor(0,100,0),n.text(`Balance Neto: ${_.toFixed(2)} `,14,c),c+=12,e.carreras&&e.carreras.length>0){c>s-60&&(n.addPage(),c=20),n.setFontSize(16),n.setTextColor(0,0,0),n.setFont(void 0,"bold"),n.text("DETALLE DE INGRESOS",14,c),c+=8;const I=e.carreras.map(K=>{const H=K.fechaHora instanceof Date?K.fechaHora:new Date(K.fechaHora);return[H.toLocaleDateString("es-ES"),H.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),(K.taximetro||0).toFixed(2),(K.cobrado||0).toFixed(2),K.formaPago||"N/A",K.tipoCarrera||"Urbana"]}),U=Sc||n.autoTable;typeof U=="function"&&(U(n,{startY:c,head:[["Fecha","Hora","Taxmetro","Cobrado","Forma Pago","Tipo"]],body:I,theme:"striped",headStyles:{fillColor:[0,150,200],textColor:255,fontStyle:"bold"},styles:{fontSize:9},margin:{left:14,right:14}}),c=n.lastAutoTable.finalY+10)}if(e.gastos&&e.gastos.length>0){c>s-60&&(n.addPage(),c=20),n.setFontSize(16),n.setTextColor(0,0,0),n.setFont(void 0,"bold"),n.text("DETALLE DE GASTOS",14,c),c+=8;const I=e.gastos.map(K=>[(K.fecha instanceof Date?K.fecha:new Date(K.fecha)).toLocaleDateString("es-ES"),(K.concepto||"Sin concepto").substring(0,20),(K.proveedor||"Sin proveedor").substring(0,20),(K.baseImponible||K.importe||0).toFixed(2),(K.ivaPorcentaje||0).toString()+"%",(K.ivaImporte||0).toFixed(2),(K.importe||0).toFixed(2)]),U=Sc||n.autoTable;typeof U=="function"&&(U(n,{startY:c,head:[["Fecha","Concepto","Proveedor","Base","IVA %","IVA ","Total"]],body:I,theme:"striped",headStyles:{fillColor:[200,0,0],textColor:255,fontStyle:"bold"},styles:{fontSize:8},margin:{left:14,right:14}}),c=n.lastAutoTable.finalY+10)}const E=n.getNumberOfPages();for(let I=1;I<=E;I++)n.setPage(I),n.setFontSize(8),n.setTextColor(128,128,128),n.text(`Pgina ${I} de ${E} - TAppXI`,a/2,s-10,{align:"center"});const F=r||`TAppXI_Informe_${new Date().toISOString().split("T")[0]}.pdf`;n.save(F)},w$=(e,t,r)=>{var E,F,C;const n=di.book_new(),a=new Date().toISOString().split("T")[0],s=((E=t.fechaDesde)==null?void 0:E.getFullYear())||new Date().getFullYear(),c=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=[];for(let L=0;L<12;L++){const X=new Date(s,L,1),I=new Date(s,L+1,0,23,59,59),U=(e.carreras||[]).filter(re=>{const le=re.fechaHora instanceof Date?re.fechaHora:new Date(re.fechaHora);return le>=X&&le<=I}),K=(e.gastos||[]).filter(re=>{const le=re.fecha instanceof Date?re.fecha:new Date(re.fecha);return le>=X&&le<=I}),H=U.reduce((re,le)=>re+(le.cobrado||0),0),oe=K.reduce((re,le)=>re+(le.importe||0),0),O=K.reduce((re,le)=>re+(le.baseImponible||le.importe||0),0),R=K.reduce((re,le)=>re+(le.ivaImporte||0),0),V=H-oe;u.push({Mes:c[L],"Ingresos ()":H,"Gastos Deducibles ()":oe,"Base Imponible Gastos ()":O,"IVA Soportado ()":R,"Rendimiento Neto ()":V,"N Carreras":U.length,"N Gastos":K.length})}const d=u.reduce((L,X)=>L+X["Ingresos ()"],0),h=u.reduce((L,X)=>L+X["Gastos Deducibles ()"],0),m=u.reduce((L,X)=>L+X["Base Imponible Gastos ()"],0),x=u.reduce((L,X)=>L+X["IVA Soportado ()"],0),b=d-h;u.push({Mes:"TOTAL ANUAL","Ingresos ()":d,"Gastos Deducibles ()":h,"Base Imponible Gastos ()":m,"IVA Soportado ()":x,"Rendimiento Neto ()":b,"N Carreras":(e.carreras||[]).length,"N Gastos":(e.gastos||[]).length});const g=di.json_to_sheet(u);if(g["!cols"]=[{wch:15},{wch:18},{wch:20},{wch:22},{wch:18},{wch:18},{wch:12},{wch:12}],di.book_append_sheet(n,g,"Resumen Fiscal"),e.carreras&&e.carreras.length>0){const L=e.carreras.map(I=>{const U=I.fechaHora instanceof Date?I.fechaHora:new Date(I.fechaHora);return{Fecha:U.toLocaleDateString("es-ES"),Mes:c[U.getMonth()],Hora:U.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Ingreso ()":I.cobrado||0,"Taxmetro ()":I.taximetro||0,"Forma de Pago":I.formaPago||"",Tipo:I.tipoCarrera||"Urbana",Emisora:I.emisora?"S":"No",Aeropuerto:I.aeropuerto?"S":"No",Estacin:I.estacion?"S":"No"}}),X=di.json_to_sheet(L);X["!cols"]=[{wch:12},{wch:12},{wch:8},{wch:14},{wch:14},{wch:15},{wch:12},{wch:10},{wch:10},{wch:10}],di.book_append_sheet(n,X,"Ingresos Detallados")}if(e.gastos&&e.gastos.length>0){const L=e.gastos.map(I=>{const U=I.fecha instanceof Date?I.fecha:new Date(I.fecha);return{Fecha:U.toLocaleDateString("es-ES"),Mes:c[U.getMonth()],Concepto:I.concepto||"",Proveedor:I.proveedor||"","NIF Proveedor":"","N Factura":I.numeroFactura||"","Base Imponible ()":I.baseImponible||I.importe||0,"IVA %":I.ivaPorcentaje||0,"IVA ()":I.ivaImporte||0,"Total ()":I.importe||0,"Forma de Pago":I.formaPago||"",Kilmetros:I.kilometros||0,Deducible:"S"}}),X=di.json_to_sheet(L);X["!cols"]=[{wch:12},{wch:12},{wch:25},{wch:25},{wch:15},{wch:15},{wch:18},{wch:8},{wch:12},{wch:14},{wch:15},{wch:12},{wch:10}],di.book_append_sheet(n,X,"Gastos Deducibles")}const T=[{Concepto:"Ao Fiscal",Valor:s.toString()},{Concepto:"Fecha de Generacin",Valor:new Date().toLocaleDateString("es-ES")},{Concepto:"Perodo Desde",Valor:((F=t.fechaDesde)==null?void 0:F.toLocaleDateString("es-ES"))||"N/A"},{Concepto:"Perodo Hasta",Valor:((C=t.fechaHasta)==null?void 0:C.toLocaleDateString("es-ES"))||"N/A"},{Concepto:"",Valor:""},{Concepto:"TOTAL INGRESOS ANUALES",Valor:`${d.toFixed(2)} `},{Concepto:"TOTAL GASTOS DEDUCIBLES",Valor:`${h.toFixed(2)} `},{Concepto:"BASE IMPONIBLE GASTOS",Valor:`${m.toFixed(2)} `},{Concepto:"IVA SOPORTADO",Valor:`${x.toFixed(2)} `},{Concepto:"RENDIMIENTO NETO",Valor:`${b.toFixed(2)} `},{Concepto:"",Valor:""},{Concepto:"NOTAS IMPORTANTES",Valor:""},{Concepto:"",Valor:"1. Los ingresos de taxistas NO estn sujetos a IVA (Rgimen Especial)"},{Concepto:"",Valor:"2. El IVA soportado en gastos puede deducirse segn normativa vigente"},{Concepto:"",Valor:"3. Verificar que todos los gastos sean deducibles segn tu actividad"},{Concepto:"",Valor:"4. Completar NIF de proveedores si es necesario para la declaracin"},{Concepto:"",Valor:"5. Este documento es una ayuda, consulta con tu asesor fiscal"}],w=di.json_to_sheet(T);w["!cols"]=[{wch:30},{wch:50}],di.book_append_sheet(n,w,"Informacin Fiscal");const _=`TAppXI_Hacienda_${s}_${a}.xlsx`;FE(n,_)},r6="tappxi_activated",n6="tappxi_device_id",S$="TAPPXI_SECURE_2025_V1",Df={getDeviceId:()=>{let e=localStorage.getItem(n6);if(!e){const t=()=>Math.random().toString(36).substring(2,6).toUpperCase();e=`${t()}-${t()}`,localStorage.setItem(n6,e)}return e},isActivated:()=>localStorage.getItem(r6)==="true",activate:e=>{const t=e.trim().toUpperCase(),r=Df.getDeviceId(),n=Df.generateValidCode(r);return t===n?(localStorage.setItem(r6,"true"),!0):!1},generateValidCode:e=>{const t=e.replace(/[^A-Z0-9]/g,"");let r=0;const n=t+S$;for(let s=0;s<n.length;s++){const c=n.charCodeAt(s);r=(r<<5)-r+c,r=r&r}return Math.abs(r).toString().slice(-6).padStart(6,"0")}},N$=Object.freeze(Object.defineProperty({__proto__:null,ActivationService:Df},Symbol.toStringTag,{value:"Module"})),ff=({label:e,children:t})=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400",children:e}),t]}),_$=({navigateTo:e})=>{const{isDark:t,setTheme:r,themeName:n,setThemeName:a,highContrast:s,toggleHighContrast:c}=to(),{fontSize:u,setFontSize:d}=HI(),[h,m]=W.useState(t),[x,b]=W.useState(u),[g,T]=W.useState(parseFloat(localStorage.getItem("objetivoDiario")||"100")),[w,_]=W.useState(!1),[E,F]=W.useState(!1),[C,L]=W.useState(null),[X,I]=W.useState(n),[U,K]=W.useState(s),[H,oe]=W.useState(!1),[O,R]=W.useState(24),[V,re]=W.useState(null),[le,Z]=W.useState(!1),[ie,J]=W.useState(()=>{const ze=localStorage.getItem("tarifa1");return ze?parseFloat(ze):4.4}),[Y,se]=W.useState(()=>{const ze=localStorage.getItem("tarifa2");return ze?parseFloat(ze):5.47}),[P,N]=W.useState(()=>{const ze=localStorage.getItem("tarifa3");return ze?parseFloat(ze):6.85}),[k,D]=W.useState(()=>{const ze=localStorage.getItem("tarifaAeropuertoDia");return ze?parseFloat(ze):25.72}),[M,q]=W.useState(()=>{const ze=localStorage.getItem("tarifaAeropuertoNoche");return ze?parseFloat(ze):28.67}),[Q,me]=W.useState(!1),[de,ye]=W.useState(!1),[Ce,Ve]=W.useState(!1),[Be,ae]=W.useState(""),[he,Ze]=W.useState(""),[Oe,Qe]=W.useState("excel"),[Ue,ct]=W.useState(!1),[rt,Dt]=W.useState("trimestre"),[jt,Ft]=W.useState(new Date().getFullYear()),[it,Ct]=W.useState(Math.floor((new Date().getMonth()+3)/3)),[pt,vt]=W.useState(!1),[ut,Bt]=W.useState(0),[Lt,xr]=W.useState(""),[Fe,ot]=W.useState(null),[bt,Pt]=W.useState(""),[Ut,yr]=W.useState(""),[tr,Dr]=W.useState(!1),[nr,jr]=W.useState([]),[Vt,mr]=W.useState(!1),[Cn,Xe]=W.useState(""),[At,Yt]=W.useState(""),[De,or]=W.useState({}),[Jt,pr]=W.useState("excel"),[rr,Tr]=W.useState(""),[lr,ne]=W.useState({nombre:"",nif:"",direccion:"",telefono:"",email:""}),[we,pe]=W.useState(!1),[xe,be]=W.useState(!1),[Se,Ie]=W.useState([]),[et,Ge]=W.useState(!1),[qe,We]=W.useState(0),[St,Et]=W.useState(""),[It,_t]=W.useState(!1),[zt,Gt]=W.useState(!1),[rn,Fr]=W.useState(0),[fn,sa]=W.useState(""),[Di,Li]=W.useState(!1),[ni,Os]=W.useState(null),[Kn,Eo]=W.useState(null),[dn,za]=W.useState(null),[cs,us]=W.useState(I9()),Rs=async()=>{try{await Hu(),us(!0),vr(" Conectado con Google correctamente.")}catch(ze){console.error("Error login Google:",ze),vr(` Error al conectar con Google: ${ze.message||ze}`)}},zi=()=>{P9(),us(!1),vr("Sesin de Google cerrada.")},fs=async()=>{try{await VI(),vr(" Backup JSON descargado correctamente.")}catch(ze){console.error("Error descargando backup JSON:",ze),vr(` Error al descargar backup: ${ze.message||ze}`)}},Hn=async ze=>{var Nr;const Nt=(Nr=ze.target.files)==null?void 0:Nr[0];if(Nt)try{const $r=await Nt.text(),zr=JSON.parse($r);Xi(`Ests seguro de que quieres restaurar desde "${Nt.name}"?

 ADVERTENCIA: Esto eliminar todos los datos locales actuales y los reemplazar con los del archivo.`,async()=>{pe(!0),_t(!0);try{const Hr=await Fv(zr,(ai,vi)=>{We(ai),Et(vi)});We(100),Et("Restauracin completada"),setTimeout(()=>{vr(` Restauracin completada exitosamente.

Carreras restauradas: ${Hr.carreras}
Gastos restaurados: ${Hr.gastos}
Turnos restaurados: ${Hr.turnos}`),_t(!1),window.location.reload()},1500)}catch(Hr){console.error("Error restaurando backup:",Hr),vr(` Error al restaurar: ${Hr.message||Hr}`),_t(!1)}finally{pe(!1),ze.target.value=""}})}catch($r){console.error("Error leyendo archivo:",$r),vr(` Error al leer el archivo: ${$r.message||$r}`),ze.target.value=""}},vr=ze=>{Os(ze)},Xi=(ze,Nt)=>{Eo(ze),za(()=>Nt)},Mc=()=>{Os(null)},jo=()=>{Eo(null),za(null)},Ha=()=>{const ze=dn;jo(),ze&&ze()},ql=()=>{Xi("Se buscarn y eliminarn registros duplicados (Exactamente el mismo contenido). Continuar?",async()=>{Li(!0);try{const ze=await I5();vr(` Completado.

Eliminados:
- ${ze.gastosRemoved} gastos duplicados.
- ${ze.carrerasRemoved} carreras duplicadas.`)}catch(ze){console.error("Error limpiando duplicados:",ze),vr(` Error: ${ze.message}`)}finally{Li(!1)}})};W.useEffect(()=>{(async()=>{if(!le)try{const Nt=await pd();if(Nt){const Nr=Nt.tamanoFuente??Nt["tam\\u00f1oFuente"]??14;m(Nt.temaOscuro??!1),r(Nt.temaOscuro??!1),b(Nr),d(Nr),T(Nt.objetivoDiario??100);const $r=Nt.temaColor||localStorage.getItem("temaColor")||"azul",zr=Nt.altoContraste??localStorage.getItem("altoContraste")==="true";I($r),a($r),K(zr),zr!==void 0&&!!zr!==s&&c(),localStorage.setItem("temaOscuro",(Nt.temaOscuro??!1).toString()),localStorage.setItem("tamanoFuente",Nr.toString()),localStorage.removeItem("tam\\u00f1oFuente"),localStorage.setItem("objetivoDiario",(Nt.objetivoDiario??100).toString()),localStorage.setItem("temaColor",$r),localStorage.setItem("altoContraste",String(zr)),Nt.tarifa1!==void 0&&(J(Nt.tarifa1),localStorage.setItem("tarifa1",Nt.tarifa1.toString())),Nt.tarifa2!==void 0&&(se(Nt.tarifa2),localStorage.setItem("tarifa2",Nt.tarifa2.toString())),Nt.tarifa3!==void 0&&(N(Nt.tarifa3),localStorage.setItem("tarifa3",Nt.tarifa3.toString())),Nt.tarifaAeropuertoDia!==void 0&&(D(Nt.tarifaAeropuertoDia),localStorage.setItem("tarifaAeropuertoDia",Nt.tarifaAeropuertoDia.toString())),Nt.tarifaAeropuertoNoche!==void 0&&(q(Nt.tarifaAeropuertoNoche),localStorage.setItem("tarifaAeropuertoNoche",Nt.tarifaAeropuertoNoche.toString())),Nt.logo&&(Tr(Nt.logo),localStorage.setItem("branding_logo",Nt.logo)),Nt.datosFiscales&&(ne(Nt.datosFiscales),localStorage.setItem("branding_datosFiscales",JSON.stringify(Nt.datosFiscales)))}else{const Nr=localStorage.getItem("branding_logo");Nr&&Tr(Nr);const $r=localStorage.getItem("branding_datosFiscales");$r&&ne(JSON.parse($r))}}catch(Nt){console.error("Error cargando ajustes:",Nt)}})()},[d,r,a,s,c,le]),W.useEffect(()=>{const ze=new Date,Nt=new Date(ze.getFullYear(),ze.getMonth(),1),Nr=new Date(ze.getFullYear(),ze.getMonth()+1,0);ae(Nt.toISOString().split("T")[0]),Ze(Nr.toISOString().split("T")[0])},[]),W.useEffect(()=>{(async()=>{try{const Nt=await Ym();jr(Nt)}catch(Nt){console.error("Error cargando reportes personalizados:",Nt)}})()},[]);const Wl=async()=>{F(!0),L(null);try{await op({temaOscuro:h,tamanoFuente:x,letraDescanso:"",objetivoDiario:g,temaColor:X,altoContraste:U,tarifa1:ie,tarifa2:Y,tarifa3:P,tarifaAeropuertoDia:k,tarifaAeropuertoNoche:M,logo:rr,datosFiscales:lr}),r(h),d(x),a(X),U!==s&&c(),localStorage.setItem("temaOscuro",h.toString()),localStorage.setItem("tamanoFuente",x.toString()),localStorage.removeItem("tam\\u00f1oFuente"),localStorage.setItem("objetivoDiario",g.toString()),localStorage.setItem("temaColor",X),localStorage.setItem("altoContraste",U.toString()),localStorage.setItem("tarifa1",ie.toString()),localStorage.setItem("tarifa2",Y.toString()),localStorage.setItem("tarifa3",P.toString()),localStorage.setItem("tarifaAeropuertoDia",k.toString()),localStorage.setItem("tarifaAeropuertoNoche",M.toString()),localStorage.setItem("branding_logo",rr),localStorage.setItem("branding_datosFiscales",JSON.stringify(lr)),Z(!1),_(!0),setTimeout(()=>_(!1),2e3)}catch(ze){console.error("Error guardando ajustes:",ze),L("Error al guardar los ajustes. Por favor, intentalo de nuevo.")}finally{F(!1)}},xi=async()=>{if(!cs){vr(" Debes conectar tu cuenta de Google primero.");return}ct(!0);try{const ze=await GI();vr(` Exportacin completada con xito.

Se ha creado una hoja de clculo en tu Google Drive.`),ze.url&&window.open(ze.url,"_blank")}catch(ze){console.error("Error exportando a Sheets:",ze),vr(` Error al exportar: ${ze.message||ze}`)}finally{ct(!1)}},$l=()=>{pt||Bt(ze=>{const Nt=ze+1;return Nt>=5?(vt(!0),0):Nt})},Ic=()=>{if(Lt.length<5)return;const ze=Df.generateValidCode(Lt);ot(ze)},Pc=async()=>{Ge(!0),be(!0),Ie([]);try{const ze="(name contains 'tappxi' or name contains 'TAppXI') and trashed = false";console.log("Buscando backups con query:",ze);const Nt=await U9(ze);console.log("Archivos encontrados (raw):",Nt),Ie(Nt)}catch(ze){console.error("Error cargando backups:",ze),vr(` Error al cargar backups: ${ze.message||ze}`)}finally{Ge(!1)}},Yl=async(ze,Nt,Nr)=>{Xi(`Ests seguro de que quieres restaurar el backup "${Nt}"?

 ESTO SOBREESCRIBIR LOS DATOS EXISTENTES QUE COINCIDAN.`,async()=>{pe(!0),We(0),Et("Iniciando restauracin...");try{let $r;const zr=(Hr,ai)=>{We(Hr),Et(ai)};if(Nr==="application/vnd.google-apps.spreadsheet")$r=await $I(ze,zr);else{const Hr=await H9(ze);$r=await Fv(Hr,zr)}We(100),Et("Restauracin completada!"),await new Promise(Hr=>setTimeout(Hr,500)),vr(` Restauracin completada con xito.

Resumen:
- Carreras: ${$r.carreras}
- Gastos: ${$r.gastos}
- Turnos: ${$r.turnos}

La aplicacin se recargar para aplicar los cambios.`),setTimeout(()=>window.location.reload(),3e3)}catch($r){console.error("Error restaurando backup:",$r),vr(` Error al restaurar el backup: ${$r.message}`)}finally{pe(!1),be(!1),We(0),Et("")}})},Xl=()=>{Xi("Estas seguro de que quieres eliminar TODOS los datos? Esta accion no se puede deshacer.",()=>{Xi("ULTIMA CONFIRMACION: Esta accion eliminara todos los datos permanentemente. Continuar?",async()=>{var ze;jo(),await new Promise(Nt=>setTimeout(Nt,100)),Gt(!0),Fr(0),sa("Iniciando eliminacin...");try{await U8(Nr=>{Fr(Nr.percentage),sa(Nr.message)}),sa("Limpiando datos locales..."),localStorage.clear(),Fr(100),sa("Eliminacin completada!"),await new Promise(Nr=>setTimeout(Nr,500)),vr(` Todos los datos han sido eliminados correctamente.

La aplicacin se recargar para reflejar los cambios.`),setTimeout(()=>window.location.reload(),3e3)}catch(Nt){console.error("Error eliminando datos:",Nt);let Nr=` Error al eliminar los datos: ${Nt.message}`;((ze=Nt==null?void 0:Nt.message)!=null&&ze.includes("permission")||(Nt==null?void 0:Nt.code)==="permission-denied")&&(Nr+=`

 SOLUCIN:
`,Nr+=`1. Ve a Firebase Console: https://console.firebase.google.com/
`,Nr+=`2. Selecciona tu proyecto (tappxi-21346)
`,Nr+=`3. Ve a Firestore Database > Reglas
`,Nr+=`4. Copia y pega las reglas del archivo firestore.rules
`,Nr+=`5. Haz clic en "Publicar"
`,Nr+=`6. Recarga la aplicacin

`,Nr+=" Consulta PASOS_SOLUCION_PERMISOS.md para instrucciones detalladas."),vr(Nr)}finally{Gt(!1),Fr(0),sa("")}})})},Co=async()=>{if(!Be||!he){vr("Por favor, selecciona ambas fechas.");return}ct(!0);try{const ze=new Date(Be);ze.setHours(0,0,0,0);const Nt=new Date(he);Nt.setHours(23,59,59,999);const[Nr,$r,zr]=await Promise.all([qi(),Cs(),yf(1e3)]),Hr=Nr.filter(Pr=>{const Mn=Pr.fechaHora instanceof Date?Pr.fechaHora:new Date(Pr.fechaHora);return Mn>=ze&&Mn<=Nt}),ai=$r.filter(Pr=>{const Mn=Pr.fecha instanceof Date?Pr.fecha:new Date(Pr.fecha);return Mn>=ze&&Mn<=Nt}),vi=zr.filter(Pr=>{const Mn=Pr.fechaInicio instanceof Date?Pr.fechaInicio:new Date(Pr.fechaInicio);return Mn>=ze&&Mn<=Nt}),Zn={fechaDesde:ze,fechaHasta:Nt},ma={carreras:Hr,gastos:ai,turnos:vi};Oe==="excel"?QN(ma,Zn):Oe==="csv"?e6(ma,Zn):await t6(ma,Zn),vr(`Exportacin a ${Oe.toUpperCase()} completada exitosamente.`)}catch(ze){console.error("Error en exportacin avanzada:",ze),vr("Error al exportar los datos. Por favor, intenta de nuevo.")}finally{ct(!1)}},Ki=async()=>{if(!bt||!Ut){vr("Por favor, selecciona ambas fechas para la exportacin fiscal.");return}Dr(!0);try{const ze=new Date(bt);ze.setHours(0,0,0,0);const Nt=new Date(Ut);Nt.setHours(23,59,59,999);const[Nr,$r,zr]=await Promise.all([qi(),Cs(),yf(1e3)]),Hr=Nr.filter(Pr=>{const Mn=Pr.fechaHora instanceof Date?Pr.fechaHora:new Date(Pr.fechaHora);return Mn>=ze&&Mn<=Nt}),ai=$r.filter(Pr=>{const Mn=Pr.fecha instanceof Date?Pr.fecha:new Date(Pr.fecha);return Mn>=ze&&Mn<=Nt}),vi=zr.filter(Pr=>{const Mn=Pr.fechaInicio instanceof Date?Pr.fechaInicio:new Date(Pr.fechaInicio);return Mn>=ze&&Mn<=Nt});w$({carreras:Hr,gastos:ai,turnos:vi},{fechaDesde:ze,fechaHasta:Nt}),vr(` Exportacin para Hacienda completada exitosamente.

El archivo Excel contiene:
- Resumen fiscal mensual
- Ingresos detallados
- Gastos deducibles
- Informacin fiscal`)}catch(ze){console.error("Error en exportacin para Hacienda:",ze),vr("Error al exportar los datos fiscales. Por favor, intenta de nuevo.")}finally{Dr(!1)}},Zi=async()=>{if(!Cn.trim()){vr("Por favor, ingresa un nombre para el reporte.");return}if(!Be||!he){vr("Por favor, selecciona ambas fechas.");return}try{const ze=new Date(Be);ze.setHours(0,0,0,0);const Nt=new Date(he);Nt.setHours(23,59,59,999);const Nr={fechaDesde:ze,fechaHasta:Nt,...De};await v9({nombre:Cn,descripcion:At,filtros:Nr,tipoExportacion:Jt,agrupacion:"ninguna"});const $r=await Ym();jr($r),Xe(""),Yt(""),mr(!1),vr("Reporte personalizado guardado exitosamente.")}catch(ze){console.error("Error guardando reporte personalizado:",ze),vr("Error al guardar el reporte. Por favor, intenta de nuevo.")}},Ms=async ze=>{Xi("Ests seguro de que quieres eliminar este reporte personalizado?",async()=>{try{await b9(ze);const Nt=await Ym();jr(Nt)}catch(Nt){console.error("Error eliminando reporte:",Nt),vr("Error al eliminar el reporte.")}})},ko=async ze=>{ct(!0);try{const[Nt,Nr,$r]=await Promise.all([qi(),Cs(),yf(1e3)]),zr={...ze.filtros};zr.fechaDesde&&(zr.fechaDesde=new Date(zr.fechaDesde)),zr.fechaHasta&&(zr.fechaHasta=new Date(zr.fechaHasta));let Hr=Nt,ai=Nr,vi=$r;zr.fechaDesde&&zr.fechaHasta&&(Hr=Nt.filter(ma=>{const Pr=ma.fechaHora instanceof Date?ma.fechaHora:new Date(ma.fechaHora);return Pr>=zr.fechaDesde&&Pr<=zr.fechaHasta}),ai=Nr.filter(ma=>{const Pr=ma.fecha instanceof Date?ma.fecha:new Date(ma.fecha);return Pr>=zr.fechaDesde&&Pr<=zr.fechaHasta}));const Zn={carreras:Hr,gastos:ai,turnos:vi};ze.tipoExportacion==="excel"?QN(Zn,zr,`${ze.nombre}.xlsx`):ze.tipoExportacion==="csv"?e6(Zn,zr,`${ze.nombre}.csv`):t6(Zn,zr,`${ze.nombre}.pdf`),await y9(ze.id),vr(`Exportacin "${ze.nombre}" completada exitosamente.`)}catch(Nt){console.error("Error usando reporte:",Nt),vr("Error al exportar con el reporte. Por favor, intenta de nuevo.")}finally{ct(!1)}},hr=()=>{Xi("Quieres cerrar sesin y volver a la pantalla de inicio? Esto no borrar tus datos.",()=>{localStorage.removeItem("tappxi_setup_complete"),window.location.reload()})};return l.jsxs("div",{className:`min-h-screen ${t?"bg-zinc-950":"bg-slate-50"} pb-24`,children:[l.jsx(ia,{title:"Ajustes",navigateTo:e,backTarget:mt.Home}),l.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[l.jsxs("div",{className:`${t?"bg-zinc-900/50 border-zinc-800":"bg-white border-slate-200"} rounded-2xl border p-5 shadow-sm space-y-4`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:`p-2 rounded-lg ${t?"bg-blue-500/10 text-blue-400":"bg-blue-50 text-blue-600"}`,children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("h2",{className:`text-lg font-semibold ${t?"text-white":"text-slate-800"}`,children:"Cuenta y Sesin"})]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l.jsx("button",{onClick:hr,className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-colors border ${t?"border-zinc-700 hover:bg-zinc-800 text-zinc-300":"border-slate-200 hover:bg-slate-50 text-slate-700"}`,children:"Cerrar Sesin / Resetear Inicio"})}),l.jsx("p",{className:"text-xs text-center text-zinc-500",children:"Esto te llevar de nuevo a la pantalla de Login. Tus datos se mantendrn seguros."})]}),localStorage.getItem("tappxi_device_id")==="NQLY-PSY3"&&l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800 shadow-sm",children:[l.jsxs("h3",{className:"text-lg font-bold text-zinc-100 mb-4 flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",className:"text-blue-500",children:l.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),"Administracin de Licencias"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ff,{label:"Generar Cdigo de Activacin",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"ID Terminal",className:"flex-1 bg-zinc-950 border border-zinc-700 rounded-lg px-3 py-2 text-white font-mono uppercase w-full",id:"license-target-id"}),l.jsx("button",{onClick:()=>{const Nt=document.getElementById("license-target-id").value.trim().toUpperCase();if(Nt.length<4){vr("Introduce un ID vlido");return}ju(async()=>{const{ActivationService:Nr}=await Promise.resolve().then(()=>N$);return{ActivationService:Nr}},void 0).then(({ActivationService:Nr})=>{const $r=Nr.generateValidCode(Nt);vr(`Cdigo para ${Nt}:

${$r}`)})},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold whitespace-nowrap",children:"Generar"})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Introduce el ID del terminal bloqueado."})]}),l.jsxs("div",{className:"pt-4 border-t border-zinc-800",children:[l.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Tu ID de Dispositivo:"}),l.jsx("div",{className:"bg-zinc-950 p-2 rounded border border-zinc-800 font-mono text-center text-zinc-300 select-all",children:localStorage.getItem("tappxi_device_id")||"No disponible"})]})]})]}),l.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tema Oscuro"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Activar o desactivar el tema oscuro"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:ze=>{Z(!0),m(ze.target.checked),r(ze.target.checked)},className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tema de color"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Elige el color principal de la interfaz"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"azul",label:"Azul"},{id:"esmeralda",label:"Esmeralda"},{id:"ambar",label:"mbar"},{id:"fucsia",label:"Fucsia"}].map(ze=>l.jsxs("button",{type:"button",onClick:()=>{Z(!0),I(ze.id)},className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm border transition-all
                                ${X===ze.id?"border-yellow-400 bg-yellow-400/10 text-yellow-200":"border-zinc-600 bg-zinc-800 text-zinc-300 hover:border-yellow-300"}`,children:[l.jsx("span",{children:ze.label}),l.jsx("span",{className:`w-4 h-4 rounded-full ${ze.id==="azul"?"bg-blue-500":ze.id==="esmeralda"?"bg-emerald-500":ze.id==="ambar"?"bg-amber-400":"bg-fuchsia-500"}`})]},ze.id))})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tarifas Urbanas (Mnimas)"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura los importes para las tarifas 1, 2 y 3."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 1 (Da Lab)"}),l.jsx("input",{type:"number",step:"0.01",value:ie,onChange:ze=>{Z(!0),J(parseFloat(ze.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 2 (Noche L-J/Finde)"}),l.jsx("input",{type:"number",step:"0.01",value:Y,onChange:ze=>{Z(!0),se(parseFloat(ze.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 3 (Especial/Noche Vi-Sa)"}),l.jsx("input",{type:"number",step:"0.01",value:P,onChange:ze=>{Z(!0),N(parseFloat(ze.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tarifas Aeropuerto"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura los importes fijos para T4 y T5."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 4 (Da)"}),l.jsx("input",{type:"number",step:"0.01",value:k,onChange:ze=>{Z(!0),D(parseFloat(ze.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 5 (Noche/Finde)"}),l.jsx("input",{type:"number",step:"0.01",value:M,onChange:ze=>{Z(!0),q(parseFloat(ze.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),l.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Modo alto contraste"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Mejora la legibilidad con colores ms contrastados"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:U,onChange:ze=>{Z(!0),K(ze.target.checked)},className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-400"})]})]})}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tamano de Fuente"}),l.jsxs("p",{className:"text-zinc-400 text-sm mb-1.5",children:["Ajusta el tamano de la fuente: ",x,"px"]})]}),l.jsx("input",{type:"range",min:"12",max:"20",value:x,onChange:ze=>{const Nt=Number(ze.target.value);Z(!0),b(Nt),d(Nt)},className:"w-full h-2 bg-zinc-600 rounded-lg appearance-none cursor-pointer accent-blue-500"}),l.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mt-1",children:[l.jsx("span",{children:"12px"}),l.jsx("span",{children:"16px"}),l.jsx("span",{children:"20px"})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Objetivo Diario"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Establece tu objetivo diario de ingresos"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"number",value:g,onChange:ze=>T(Number(ze.target.value)),className:"flex-1 bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),l.jsx("span",{className:"text-zinc-400 font-medium",children:"EUR"})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Datos Fiscales y Marca"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura tus datos para los informes y facturas."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ff,{label:"URL del Logo",children:l.jsx("input",{type:"text",value:rr,onChange:ze=>{Z(!0),Tr(ze.target.value)},placeholder:"https://ejemplo.com/logo.png",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsx(ff,{label:"Nombre / Razn Social",children:l.jsx("input",{type:"text",value:lr.nombre,onChange:ze=>{Z(!0),ne({...lr,nombre:ze.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsx(ff,{label:"NIF / CIF",children:l.jsx("input",{type:"text",value:lr.nif,onChange:ze=>{Z(!0),ne({...lr,nif:ze.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),l.jsx(ff,{label:"Direccin Fiscal",children:l.jsx("input",{type:"text",value:lr.direccion,onChange:ze=>{Z(!0),ne({...lr,direccion:ze.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[l.jsx(ff,{label:"Telfono",children:l.jsx("input",{type:"tel",value:lr.telefono,onChange:ze=>{Z(!0),ne({...lr,telefono:ze.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsx(ff,{label:"Email",children:l.jsx("input",{type:"email",value:lr.email,onChange:ze=>{Z(!0),ne({...lr,email:ze.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]})]}),l.jsxs("div",{className:"flex flex-col items-center pb-2 space-y-1.5",children:[C&&l.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-2 rounded-lg text-sm",children:C}),l.jsx("button",{onClick:Wl,disabled:E,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded-lg transition-colors flex items-center gap-2 ${w?"bg-green-600 hover:bg-green-700":""} ${E?"opacity-50 cursor-not-allowed":""}`,children:E?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Guardando..."})]}):w?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M20 6L9 17l-5-5"})}),l.jsx("span",{children:"Guardado"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),l.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),l.jsx("polyline",{points:"7 3 7 8 15 8"})]}),l.jsx("span",{children:"Guardar Ajustes"})]})})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-1",children:"Backup Local"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-3",children:"Descarga o restaura tus datos en formato JSON desde este dispositivo."}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs("button",{onClick:fs,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded-lg transition-colors flex items-center gap-2 text-sm",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"7 10 12 15 17 10"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Descargar JSON"]}),l.jsxs("label",{className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-3 rounded-lg transition-colors flex items-center gap-2 cursor-pointer text-sm",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"17 8 12 3 7 8"}),l.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Restaurar JSON",l.jsx("input",{type:"file",accept:".json",onChange:Hn,className:"hidden"})]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Google Cloud"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Respalda tus datos en Google Sheets y Drive."})]}),cs?l.jsx("button",{onClick:zi,className:"bg-zinc-700 hover:bg-zinc-600 text-zinc-100 py-1.5 px-3 rounded-lg text-xs font-bold transition-colors",children:"Desconectar"}):l.jsx("button",{onClick:Rs,className:"bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-3 rounded-lg text-xs font-bold transition-colors",children:"Conectar"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Pc,disabled:!cs||we||Ue,className:`flex-1 font-bold py-2.5 px-3 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${cs&&!we&&!Ue?"bg-purple-600 hover:bg-purple-700 text-white":"bg-zinc-700 text-zinc-500 cursor-not-allowed"}`,children:we?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Importando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"7 10 12 15 17 10"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),l.jsx("span",{children:"Importar (Sheets/Drive)"})]})}),l.jsx("button",{onClick:xi,disabled:!cs||we||Ue,className:`flex-1 font-bold py-2.5 px-3 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm ${cs&&!we&&!Ue?"bg-green-600 hover:bg-green-700 text-white":"bg-zinc-700 text-zinc-500 cursor-not-allowed"}`,children:Ue?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Exportando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"17 8 12 3 7 8"}),l.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),l.jsx("span",{children:"Exportar (Sheets)"})]})})]})]}),xe&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-md max-h-[80vh] flex flex-col border border-zinc-700 shadow-2xl",children:[l.jsxs("div",{className:"p-4 border-b border-zinc-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Seleccionar Copia de Seguridad"}),l.jsx("button",{onClick:()=>be(!1),className:"text-zinc-400 hover:text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:et?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-zinc-400",children:[l.jsxs("svg",{className:"animate-spin h-8 w-8 mb-3 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("p",{children:"Buscando backups en Drive..."})]}):Se.length===0?l.jsxs("div",{className:"text-center py-8 text-zinc-400",children:[l.jsx("p",{children:"No se encontraron copias de seguridad recientes."}),l.jsx("p",{className:"text-xs mt-2 opacity-70",children:"Asegrate de haber subido backups previamente."})]}):l.jsx("div",{className:"space-y-2",children:Se.map(ze=>l.jsxs("button",{onClick:()=>Yl(ze.id,ze.name,ze.mimeType),disabled:we,className:"w-full text-left p-3 rounded-lg bg-zinc-700/50 hover:bg-zinc-700 border border-zinc-600 transition-colors group",children:[l.jsxs("div",{className:"font-medium text-zinc-200 group-hover:text-white truncate flex items-center gap-2",children:[l.jsx("span",{children:ze.mimeType==="application/vnd.google-apps.spreadsheet"?"":""}),l.jsx("span",{children:ze.name})]}),l.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:new Date(ze.createdTime).toLocaleString()})]},ze.id))})}),l.jsx("div",{className:"p-4 border-t border-zinc-700 bg-zinc-800/50 rounded-b-xl",children:l.jsx("button",{onClick:()=>be(!1),className:"w-full py-2 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg transition-colors font-medium",children:"Cancelar"})})]})}),Q&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:l.jsxs("svg",{className:"animate-spin w-full h-full text-blue-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Subiendo a Google Drive"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Preparando y subiendo tu copia de seguridad..."}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),de&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:l.jsxs("svg",{className:"animate-spin w-full h-full text-green-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Exportando a Google Sheets"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Creando hojas y exportando tus datos..."}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),Ce&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:l.jsxs("svg",{className:"animate-spin w-full h-full text-blue-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sincronizando con la Nube"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Subiendo todos los datos a TAppXI_DB..."}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),we&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[l.jsxs("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin w-full h-full text-blue-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsxs("span",{className:"text-xs font-bold text-white relative z-10",children:[qe,"%"]})]}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Restaurando Datos"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:St}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2.5 mb-1 overflow-hidden",children:l.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${qe}%`}})}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),ni&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center scale-100 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mb-4 text-blue-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Aviso"}),l.jsx("p",{className:"text-zinc-300 text-sm mb-6 whitespace-pre-wrap",children:ni}),l.jsx("button",{onClick:Mc,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors",children:"Aceptar"})]})}),Kn&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center scale-100 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mb-4 text-yellow-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Confirmacin"}),l.jsx("p",{className:"text-zinc-300 text-sm mb-6 whitespace-pre-wrap",children:Kn}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:jo,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:Ha,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors",children:"Confirmar"})]})]})}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-3",children:"Exportacin Avanzada de Datos"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Fecha Desde"}),l.jsx("input",{type:"date",value:Be,onChange:ze=>ae(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Fecha Hasta"}),l.jsx("input",{type:"date",value:he,onChange:ze=>Ze(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Formato de Exportacin"}),l.jsxs("select",{value:Oe,onChange:ze=>Qe(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"excel",children:"Excel (.xlsx)"}),l.jsx("option",{value:"pdf",children:"PDF Profesional"}),l.jsx("option",{value:"csv",children:"CSV (para contadores)"})]})]}),l.jsx("button",{onClick:Co,disabled:Ue||!Be||!he,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ue?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Exportando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"7 10 12 15 17 10"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),l.jsx("span",{children:"Exportar Datos"})]})})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-2",children:" Exportacin para Hacienda"}),l.jsx("p",{className:"text-zinc-400 text-xs mb-3",children:"Genera un Excel con formato especfico para la declaracin de impuestos. Incluye resumen mensual, ingresos y gastos deducibles."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Ao Fiscal Desde"}),l.jsx("input",{type:"date",value:bt,onChange:ze=>Pt(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"01/01/2024"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Ao Fiscal Hasta"}),l.jsx("input",{type:"date",value:Ut,onChange:ze=>yr(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"31/12/2024"})]})]}),l.jsx("button",{onClick:Ki,disabled:tr||!bt||!Ut,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:tr?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generando..."]}):l.jsx(l.Fragment,{children:" Exportar para Hacienda"})}),l.jsxs("div",{className:"text-zinc-500 text-xs space-y-1",children:[l.jsx("p",{children:" El archivo incluye 4 hojas: Resumen Fiscal, Ingresos, Gastos e Informacin"}),l.jsx("p",{children:" Formato optimizado para autnomos en Espaa"}),l.jsx("p",{children:" Los ingresos de taxistas NO estn sujetos a IVA"})]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-zinc-100 font-bold text-base",children:"Reportes Personalizados"}),l.jsx("button",{onClick:()=>mr(!Vt),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1.5 px-3 rounded-lg transition-colors text-sm",children:Vt?"Cancelar":"+ Nuevo Reporte"})]}),Vt&&l.jsxs("div",{className:"bg-zinc-900 rounded-lg p-3 mb-3 space-y-3 border border-zinc-600",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Nombre del Reporte *"}),l.jsx("input",{type:"text",value:Cn,onChange:ze=>Xe(ze.target.value),placeholder:"Ej: Informe Mensual Ingresos",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Descripcin (opcional)"}),l.jsx("input",{type:"text",value:At,onChange:ze=>Yt(ze.target.value),placeholder:"Descripcin breve del reporte",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Formato"}),l.jsxs("select",{value:Jt,onChange:ze=>pr(ze.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[l.jsx("option",{value:"excel",children:"Excel"}),l.jsx("option",{value:"pdf",children:"PDF"}),l.jsx("option",{value:"csv",children:"CSV"})]})]}),l.jsx("button",{onClick:Zi,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Guardar Reporte"})]}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:nr.length===0?l.jsx("p",{className:"text-zinc-400 text-sm text-center py-4",children:"No hay reportes personalizados guardados"}):nr.map(ze=>l.jsx("div",{className:"bg-zinc-900 rounded-lg p-2.5 border border-zinc-600",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-zinc-100 font-semibold text-sm",children:ze.nombre}),ze.descripcion&&l.jsx("p",{className:"text-zinc-400 text-xs mt-0.5",children:ze.descripcion}),l.jsxs("div",{className:"flex gap-2 mt-1.5",children:[l.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-900/50 text-blue-300",children:ze.tipoExportacion.toUpperCase()}),ze.lastUsed&&l.jsxs("span",{className:"text-xs text-zinc-500",children:["Usado: ",ze.lastUsed.toLocaleDateString("es-ES")]})]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>ko(ze),disabled:Ue,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors disabled:opacity-50",title:"Usar este reporte",children:"Usar"}),l.jsx("button",{onClick:()=>Ms(ze.id),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Eliminar reporte",children:""})]})]})},ze.id))})]}),l.jsx("section",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700 mb-2",children:l.jsxs("button",{onClick:()=>e(mt.GestionDatos),className:"w-full text-left flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400 group-hover:text-purple-300 transition-colors",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),l.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-zinc-100",children:"Gestin de Proveedores, Talleres y Conceptos"}),l.jsx("div",{className:"text-xs text-zinc-500",children:"Administrar listas de autocompletado"})]})]}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-zinc-600 group-hover:text-zinc-400 transition-colors",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),l.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-orange-500/50 mb-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-orange-400 font-bold text-base mb-0.5",children:"Mantenimiento de Datos"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Eliminar registros duplicados de gastos y carreras"})]}),l.jsx("button",{onClick:ql,disabled:Di,className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:Di?"Limpiando...":"Limpiar Duplicados"})]})}),l.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-red-500/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-red-400 font-bold text-base mb-0.5",children:"Eliminacion Total de Datos"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Elimina permanentemente todos los datos de la aplicacion"})]}),l.jsx("button",{onClick:Xl,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Eliminar"})]})}),zt&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[80] px-4",children:l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-md w-full border border-red-500 shadow-2xl",children:[l.jsx("h3",{className:"text-xl font-bold text-red-400 mb-4 text-center",children:"Eliminando Datos"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"bg-zinc-700 rounded-full h-4 overflow-hidden",children:l.jsx("div",{className:"bg-red-500 h-full transition-all duration-300",style:{width:`${rn}%`}})}),l.jsxs("p",{className:"text-center text-zinc-300 mt-2 text-sm",children:[rn,"%"]})]}),l.jsx("p",{className:"text-zinc-300 text-center text-sm",children:fn}),l.jsx("div",{className:"mt-4 text-zinc-500 text-xs text-center",children:"Por favor, no cierres esta ventana..."})]})}),pt&&l.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/50 rounded-lg p-4 mt-8",children:[l.jsxs("h3",{className:"text-purple-400 font-bold text-lg mb-2 flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Generador de Licencias"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs uppercase text-purple-300/70 mb-1",children:"ID del Terminal Bloqueado"}),l.jsx("input",{type:"text",value:Lt,onChange:ze=>xr(ze.target.value.toUpperCase()),placeholder:"XXXX-XXXX",className:"w-full bg-zinc-900/50 border border-purple-500/30 rounded p-2 text-purple-200 font-mono text-center tracking-widest placeholder:text-purple-500/20"})]}),l.jsx("button",{onClick:Ic,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 rounded transition-colors",children:"Generar Cdigo"}),Fe&&l.jsxs("div",{className:"bg-black/50 p-3 rounded border border-purple-500/30 text-center mt-2",children:[l.jsx("p",{className:"text-xs text-purple-400 mb-1",children:"CDIGO DE DESBLOQUEO"}),l.jsx("p",{className:"text-3xl font-mono font-bold text-white tracking-[0.5em]",children:Fe})]})]})]}),l.jsx("p",{onClick:$l,className:"mt-8 text-zinc-600 text-xs text-center select-none cursor-pointer active:text-zinc-500",children:"TAppXI v1.0  Acceso Restringido"})]})]})},a6=({navigateTo:e,initialTab:t="proveedores"})=>{const{showToast:r}=To(),[n,a]=W.useState(t),[s,c]=W.useState(!0),[u,d]=W.useState([]),[h,m]=W.useState([]),[x,b]=W.useState([]),[g,T]=W.useState([]),[w,_]=W.useState(!1),[E,F]=W.useState(null),[C,L]=W.useState(""),[X,I]=W.useState({}),U=async()=>{c(!0);try{if(n==="proveedores"){const V=await h1();d(V.sort((re,le)=>re.nombre.localeCompare(le.nombre)))}else if(n==="conceptos"){const V=await Gp();m(V.sort((re,le)=>re.nombre.localeCompare(le.nombre)))}else if(n==="talleres"){const V=await m1();b(V.sort((re,le)=>re.nombre.localeCompare(le.nombre)))}else if(n==="vales"){const V=await Rh();T(V.sort((re,le)=>re.empresa.localeCompare(le.empresa)))}}catch(V){console.error("Error loading data:",V),r("Error al cargar datos","error")}finally{c(!1)}};W.useEffect(()=>{U()},[n]);const K=()=>{F(null),L(""),n==="vales"?I({codigoEmpresa:"",direccion:"",telefono:""}):n==="proveedores"||n==="talleres"?I({direccion:"",telefono:"",nif:""}):n==="conceptos"&&I({descripcion:"",categoria:""}),_(!0)},H=V=>{F(V),n==="vales"?(L(V.empresa),I({codigoEmpresa:V.codigoEmpresa||"",direccion:V.direccion||"",telefono:V.telefono||""})):(L(V.nombre),n==="proveedores"?I({direccion:V.direccion||"",telefono:V.telefono||"",nif:V.nif||""}):n==="conceptos"?I({descripcion:V.descripcion||"",categoria:V.categoria||""}):n==="talleres"&&I({direccion:V.direccion||"",telefono:V.telefono||"",nif:V.nif||""})),_(!0)},oe=async(V,re)=>{if(confirm(`Ests seguro de que quieres eliminar "${re}"? Esta accin no se puede deshacer.`))try{n==="proveedores"?await i8(V):n==="conceptos"?await l8(V):n==="talleres"?await f8(V):await T8(V),r("Elemento eliminado correctamente","success"),U()}catch(le){console.error("Error deleting item:",le),r("Error al eliminar el elemento","error")}},O=async()=>{const V=!E;if(!C.trim()){r(n==="vales"?"El nombre de la empresa es obligatorio":"El nombre es obligatorio","error");return}if(n==="vales"&&!X.codigoEmpresa.trim()){r("El cdigo de empresa es obligatorio","error");return}try{V?(n==="vales"&&await R5({empresa:C,codigoEmpresa:X.codigoEmpresa,direccion:X.direccion||void 0,telefono:X.telefono||void 0}),r("Elemento creado correctamente","success")):(n==="proveedores"?await a8(E.id,{nombre:C,direccion:X.direccion||null,telefono:X.telefono||null,nif:X.nif||null}):n==="conceptos"?await o8(E.id,{nombre:C,descripcion:X.descripcion||null,categoria:X.categoria||null}):n==="talleres"?await u8(E.id,{nombre:C,direccion:X.direccion||null,telefono:X.telefono||null,nif:X.nif||null}):n==="vales"&&await _8(E.id,{empresa:C,codigoEmpresa:X.codigoEmpresa||"",direccion:X.direccion||null,telefono:X.telefono||null}),r("Cambios guardados","success")),_(!1),U()}catch(re){console.error("Error saving item:",re),r("Error al guardar","error")}},R=n==="proveedores"?u:n==="conceptos"?h:n==="talleres"?x:g;return l.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 pb-20",children:[l.jsx(ia,{title:n==="vales"?"Gestin de Vales / Empresas":"Gestin de Prov., Talleres y Conc.",onBack:()=>e(mt.Varios)}),l.jsxs("div",{className:"p-4 space-y-4 max-w-2xl mx-auto",children:[(t==="vales"?["vales"]:["proveedores","conceptos","talleres"]).length>1&&l.jsx("div",{className:"flex border-b border-zinc-800 overflow-x-auto scroller-hidden",children:["proveedores","conceptos","talleres"].map(V=>l.jsxs("button",{className:`flex-1 min-w-[100px] py-3 text-sm font-medium border-b-2 transition-colors capitalize ${n===V?"border-blue-500 text-blue-400":"border-transparent text-zinc-400 hover:text-zinc-200"}`,onClick:()=>a(V),children:[V," (",V==="proveedores"?u.length:V==="conceptos"?h.length:x.length,")"]},V))}),s?l.jsx("div",{className:"text-center py-8 text-zinc-500",children:"Cargando..."}):l.jsxs("div",{className:"space-y-2",children:[R.length===0&&l.jsxs("div",{className:"text-center py-8 text-zinc-500 bg-zinc-900/50 rounded-lg border border-zinc-800 border-dashed",children:["No hay elementos registrados en ",n,"."]}),R.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 border border-zinc-800 rounded-lg hover:bg-zinc-800/80 transition-colors",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:n==="vales"?V.empresa:V.nombre}),l.jsx("div",{className:"text-xs text-zinc-500",children:n==="vales"?V.codigoEmpresa||"Sin cdigo":n==="proveedores"?V.nif||V.telefono||"Sin detalles":n==="conceptos"?V.categoria||"Sin categora":V.nif||V.telefono||"Sin detalles"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>H(V),className:"p-2 text-zinc-400 hover:text-blue-400 hover:bg-blue-400/10 rounded-full transition-colors",title:"Editar",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),l.jsx("button",{onClick:()=>oe(V.id,n==="vales"?V.empresa:V.nombre),className:"p-2 text-zinc-400 hover:text-red-400 hover:bg-red-400/10 rounded-full transition-colors",title:"Eliminar",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"3 6 5 6 21 6"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},V.id))]}),n==="vales"&&l.jsx("button",{onClick:K,className:"fixed bottom-20 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-2xl shadow-blue-900/50 transition-all hover:scale-110 active:scale-95 z-40",title:"Aadir nueva empresa",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),w&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-md p-6 space-y-4 relative animate-in fade-in zoom-in-95 duration-200",children:[l.jsx("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 text-zinc-500 hover:text-zinc-300",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),l.jsxs("h3",{className:"text-lg font-bold",children:[E?"Editar":"Aadir"," ",n==="proveedores"?"Proveedor":n==="conceptos"?"Concepto":n==="vales"?"Empresa de Vale":"Taller"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Nombre / Empresa"}),l.jsx("input",{type:"text",value:C,onChange:V=>L(V.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),(n==="proveedores"||n==="talleres")&&l.jsx(l.Fragment,{children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"NIF (Opcional)"}),l.jsx("input",{type:"text",value:X.nif||"",onChange:V=>I({...X,nif:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})}),(n==="proveedores"||n==="talleres"||n==="vales")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Direccin (Opcional)"}),l.jsx("input",{type:"text",value:X.direccion||"",onChange:V=>I({...X,direccion:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Telfono (Opcional)"}),l.jsx("input",{type:"tel",value:X.telefono||"",onChange:V=>I({...X,telefono:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),n==="vales"&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:["Cdigo Empresa ",l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("input",{type:"text",value:X.codigoEmpresa||"",onChange:V=>I({...X,codigoEmpresa:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: UBER, CABIFY, etc."})]}),n==="conceptos"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Categora (Opcional)"}),l.jsx("input",{type:"text",value:X.categoria||"",onChange:V=>I({...X,categoria:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej. Fiscal, Personal"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Descripcin (Opcional)"}),l.jsx("textarea",{value:X.descripcion||"",onChange:V=>I({...X,descripcion:V.target.value}),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2.5 text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none min-h-[80px]"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-zinc-800",children:[l.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded-lg transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:O,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-900/20",children:E?"Guardar Cambios":"Crear"})]})]})})]})},T$=()=>l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),A$=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"3 6 5 6 21 6"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),E$=({navigateTo:e})=>{const{isDark:t}=to(),[r,n]=W.useState(!0),[a,s]=W.useState([]),[c,u]=W.useState(!1),[d,h]=W.useState({fecha:new Date().toISOString().split("T")[0],concepto:"",importe:"",formaPago:"Efectivo",notas:""});W.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const g=await p1();s(g.sort((T,w)=>new Date(w.fecha).getTime()-new Date(T.fecha).getTime()))}catch(g){console.error("Error fetching otros ingresos:",g)}finally{n(!1)}},x=async g=>{g.preventDefault();try{n(!0),await g8({fecha:new Date(d.fecha),concepto:d.concepto,importe:parseFloat(d.importe),formaPago:d.formaPago,notas:d.notas}),u(!1),h({fecha:new Date().toISOString().split("T")[0],concepto:"",importe:"",formaPago:"Efectivo",notas:""}),await m()}catch(T){console.error("Error adding otro ingreso:",T),alert("Error al guardar el ingreso")}finally{n(!1)}},b=async g=>{if(window.confirm("Ests seguro de que deseas eliminar este ingreso?"))try{n(!0);const{deleteOtroIngreso:T}=await ju(async()=>{const{deleteOtroIngreso:w}=await Promise.resolve().then(()=>lp);return{deleteOtroIngreso:w}},void 0);await T(g),await m()}catch(T){console.error("Error deleting otro ingreso:",T),alert("Error al eliminar el ingreso")}finally{n(!1)}};return r&&a.length===0?l.jsx(sd,{}):l.jsxs("div",{className:`min-h-screen ${t?"bg-zinc-950":"bg-zinc-50"}`,children:[l.jsx(ia,{title:"Otros Ingresos",onBack:()=>e(mt.Varios)}),l.jsxs("div",{className:"p-4 pb-20 max-w-xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("p",{className:`text-sm ${t?"text-zinc-400":"text-zinc-600"}`,children:"Gestiona tus ingresos extra como publicidad, propinas o eventos."}),l.jsx("button",{onClick:()=>u(!0),className:"p-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition",children:l.jsx(T$,{})})]}),l.jsx("div",{className:"space-y-4",children:a.length===0?l.jsx("div",{className:`p-8 text-center rounded-2xl ${t?"bg-zinc-900/50":"bg-white"} border ${t?"border-zinc-800":"border-zinc-200"}`,children:l.jsx("p",{className:"text-zinc-500 italic",children:"No hay otros ingresos registrados."})}):a.map(g=>l.jsxs("div",{className:`p-4 rounded-2xl ${t?"bg-zinc-900":"bg-white"} shadow-sm flex justify-between items-center border ${t?"border-zinc-800":"border-zinc-200"}`,children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:"text-xs font-semibold text-blue-500 uppercase tracking-wider",children:new Date(g.fecha).toLocaleDateString()}),l.jsxs("span",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:["+",g.importe.toLocaleString("es-ES",{style:"currency",currency:"EUR"})]})]}),l.jsx("h3",{className:`font-bold text-lg mb-1 ${t?"text-zinc-100":"text-zinc-900"}`,children:g.concepto}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t?"bg-zinc-800":"bg-zinc-100"}`,children:g.formaPago}),g.notas&&l.jsxs("span",{className:"truncate max-w-[150px] italic",children:['"',g.notas,'"']})]})]}),l.jsx("button",{onClick:()=>b(g.id),className:"ml-4 p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-xl transition",children:l.jsx(A$,{})})]},g.id))}),l.jsxs("div",{className:`mt-8 p-6 rounded-3xl ${t?"bg-blue-950/20 border-blue-900/50":"bg-blue-50 border-blue-100"} border-2 flex justify-between items-center`,children:[l.jsx("div",{children:l.jsx("p",{className:"text-blue-500 font-medium",children:"Total Acumulado"})}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:`text-2xl font-black ${t?"text-blue-400":"text-blue-600"}`,children:a.reduce((g,T)=>g+T.importe,0).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:`w-full max-w-md p-6 rounded-3xl ${t?"bg-zinc-900 text-white":"bg-white text-gray-900"} shadow-2xl animate-in fade-in zoom-in duration-200`,children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"Nuevo Ingreso"}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Fecha"}),l.jsx("input",{type:"date",required:!0,value:d.fecha,onChange:g=>h({...d,fecha:g.target.value}),className:`w-full p-3 rounded-2xl border ${t?"bg-zinc-800 border-zinc-700":"bg-zinc-50 border-zinc-200"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Concepto"}),l.jsx("input",{type:"text",required:!0,placeholder:"Ej: Publicidad en puertas",value:d.concepto,onChange:g=>h({...d,concepto:g.target.value}),className:`w-full p-3 rounded-2xl border ${t?"bg-zinc-800 border-zinc-700":"bg-zinc-50 border-zinc-200"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Importe ()"}),l.jsx("input",{type:"number",step:"0.01",required:!0,placeholder:"0.00",value:d.importe,onChange:g=>h({...d,importe:g.target.value}),className:`w-full p-3 rounded-2xl border ${t?"bg-zinc-800 border-zinc-700":"bg-zinc-50 border-zinc-200"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Forma Pago"}),l.jsxs("select",{value:d.formaPago,onChange:g=>h({...d,formaPago:g.target.value}),className:`w-full p-3 rounded-2xl border ${t?"bg-zinc-800 border-zinc-700":"bg-zinc-50 border-zinc-200"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[l.jsx("option",{value:"Efectivo",children:"Efectivo"}),l.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),l.jsx("option",{value:"Transferencia",children:"Transferencia"}),l.jsx("option",{value:"Bizum",children:"Bizum"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 opacity-70",children:"Notas (opcional)"}),l.jsx("textarea",{rows:2,value:d.notas,onChange:g=>h({...d,notas:g.target.value}),className:`w-full p-3 rounded-2xl border ${t?"bg-zinc-800 border-zinc-700":"bg-zinc-50 border-zinc-200"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:`flex-1 p-3 rounded-2xl font-bold ${t?"bg-zinc-800":"bg-zinc-200"} hover:opacity-80 transition`,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 p-3 rounded-2xl font-bold bg-blue-600 text-white hover:bg-blue-700 transition",children:"Guardar"})]})]})]})})]})},j$=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),l.jsx("path",{d:"M20 10v4"}),l.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),C$=()=>l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.7-3.7a2 2 0 0 1 0 2.8l-3.2 3.2-1.6-1.6a1 1 0 0 0-1.4 0l-5.6 5.6a2 2 0 0 1-2.8 0l-1.6-1.6a2 2 0 0 1 0-2.8l5.6-5.6a1 1 0 0 0 0-1.4l-1.6-1.6a1 1 0 0 0-1.4 0L2.3 8.7a2 2 0 0 0 0 2.8l3.2 3.2-1.6 1.6a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.7-3.7a2 2 0 0 1 0-2.8l-3.2-3.2 1.6-1.6a1 1 0 0 0 0-1.4l1.6-1.6z"})}),i6=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),k$=()=>l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),l.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),l.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),D$=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),l.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),l.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),l.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),l.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),l.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),L$=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",ry:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),z$=({navigateTo:e})=>{const{isDark:t}=to(),{showToast:r}=To(),[n,a]=W.useState(!1),[s,c]=W.useState(new Date().getMonth()),[u,d]=W.useState(new Date().getFullYear()),[h,m]=W.useState(!1),x=new Date,[b,g]=W.useState(new Date(x.getFullYear()-1,x.getMonth(),1)),[T,w]=W.useState([]),[_,E]=W.useState(!0);W.useEffect(()=>{F()},[b]);const F=async()=>{try{E(!0);const V=(await md(b.getMonth(),b.getFullYear())).filter(re=>!(re.concepto||"").toLowerCase().includes("combustible"));w(V.sort((re,le)=>new Date(re.fecha).getTime()-new Date(le.fecha).getTime()))}catch(R){console.error("Error fetching historical gastos:",R)}finally{E(!1)}},C=R=>{const V=new Date(b);V.setMonth(V.getMonth()+R),g(V)},[L,X]=W.useState({aceite:15e3,ruedas:4e4,filtros:15e3,frenos:3e4,inspeccion:5e4});W.useEffect(()=>{O5().then(X)},[]);const I=async(R,V)=>{const re=parseInt(V)||0,le={...L,[R]:re};X(le),await N8(le)},U=async()=>{if(window.confirm("Se buscarn y eliminarn registros duplicados (Exactamente el mismo contenido). Continuar?")){a(!0);try{const R=await I5();r(` Limpieza completada. Eliminados: ${R.gastosRemoved} gastos y ${R.carrerasRemoved} carreras.`,"success")}catch(R){console.error(R),r(" Error al limpiar duplicados.","error")}finally{a(!1)}}},K=async()=>{const R=new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date(u,s));if(window.confirm(`Ests SEGURO de que quieres BORRAR TODO (Carreras, Gastos y Turnos) de ${R} de ${u}?

Esta accin NO se puede deshacer y dejar el mes a cero.`)){m(!0);try{await q8(s,u),r(`Mes de ${R} de ${u} reseteado correctamente`,"success")}catch(V){console.error("Error resetting month:",V),r("Error al resetear el mes","error")}finally{m(!1)}}},H=[{id:"otros-ingresos",title:"Otros Ingresos",description:"Publicidad, propinas extra y otros conceptos.",icon:l.jsx(j$,{}),color:"text-green-500",bgColor:"bg-green-500/10",action:()=>e(mt.OtrosIngresos)},{id:"gestion-datos",title:"Proveedores, Talleres y Conceptos",description:"Administra tus listas de proveedores, talleres y conceptos.",icon:l.jsx(D$,{}),color:"text-purple-500",bgColor:"bg-purple-500/10",action:()=>e(mt.GestionDatos)},{id:"vales",title:"Gestin de Vales / Empresas",description:"Administra el listado de empresas para cobros por vale.",icon:l.jsx(L$,{}),color:"text-cyan-500",bgColor:"bg-cyan-500/10",action:()=>e(mt.Vales)},{id:"descansos",title:"Configuracin de Descansos",description:"Personaliza tus letras y das de descanso en el calendario.",icon:l.jsx(i6,{}),color:"text-blue-500",bgColor:"bg-blue-500/10",action:()=>e(mt.ConfiguracionDescansos)}],oe=new Intl.DateTimeFormat("es-ES",{month:"long"}).format(b),O=oe.charAt(0).toUpperCase()+oe.slice(1);return l.jsxs("div",{className:`min-h-screen ${t?"bg-zinc-950 text-white":"bg-zinc-50 text-zinc-900"}`,children:[l.jsx(ia,{title:"Miscelnea / Varios",onBack:()=>e(mt.Home)}),l.jsxs("div",{className:"p-3 space-y-2.5 max-w-xl mx-auto pb-24",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-1.5",children:[H.map(R=>l.jsxs("button",{onClick:R.action,className:`w-full flex items-center p-3 rounded-xl transition-all active:scale-[0.98] ${t?"bg-zinc-900 hover:bg-zinc-800/80 border-zinc-800":"bg-white hover:bg-zinc-50 border-zinc-200"} border shadow-sm group`,children:[l.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-xl ${R.bgColor} ${R.color} mr-3 transition-transform group-hover:scale-110`,children:R.icon}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h3",{className:`font-bold text-sm ${t?"text-zinc-100":"text-zinc-900"}`,children:R.title}),l.jsx("p",{className:`text-[10px] ${t?"text-zinc-500":"text-zinc-400"} mt-0.5 leading-tight`,children:R.description})]}),l.jsx("div",{className:`${t?"text-zinc-700":"text-zinc-300"}`,children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]},R.id)),l.jsxs("button",{onClick:U,disabled:n,className:`w-full flex items-center p-3 rounded-xl transition-all active:scale-[0.98] ${t?"bg-zinc-900 hover:bg-zinc-800/80 border-zinc-800":"bg-white hover:bg-zinc-50 border-zinc-200"} border shadow-sm group disabled:opacity-50`,children:[l.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-xl bg-orange-500/10 text-orange-500 mr-3 transition-transform group-hover:scale-110",children:l.jsx(i6,{})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h3",{className:`font-bold text-sm ${t?"text-zinc-100":"text-zinc-900"}`,children:n?"Limpiando...":"Optimizar Base de Datos"}),l.jsx("p",{className:`text-[10px] ${t?"text-zinc-500":"text-zinc-400"} mt-0.5 leading-tight`,children:"Eliminar registros duplicados de gastos y carreras."})]})]})]}),l.jsxs("div",{className:`mt-2 p-4 rounded-2xl ${t?"bg-zinc-900 border-zinc-800":"bg-white border-zinc-200"} border shadow-xl`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-500 rounded-lg flex-shrink-0",children:l.jsx(C$,{})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-base",children:"Prximo Mantenimiento (km)"}),l.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-tighter font-semibold",children:"Configura tus intervalos"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Cambio Aceite"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:L.aceite===0?"":L.aceite,onChange:R=>I("aceite",R.target.value),className:`w-full py-2 px-3 pr-8 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-cyan-400 focus:border-cyan-500":"bg-zinc-100 border-zinc-200 text-blue-600 focus:border-blue-400"} outline-none`,placeholder:"15000"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-zinc-500 font-bold",children:"km"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Neumticos"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:L.ruedas===0?"":L.ruedas,onChange:R=>I("ruedas",R.target.value),className:`w-full py-2 px-3 pr-8 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-cyan-400 focus:border-cyan-500":"bg-zinc-100 border-zinc-200 text-blue-600 focus:border-blue-400"} outline-none`,placeholder:"40000"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-zinc-500 font-bold",children:"km"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Filtros"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:L.filtros===0?"":L.filtros,onChange:R=>I("filtros",R.target.value),className:`w-full py-2 px-3 pr-8 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-cyan-400 focus:border-cyan-500":"bg-zinc-100 border-zinc-200 text-blue-600 focus:border-blue-400"} outline-none`,placeholder:"15000"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-zinc-500 font-bold",children:"km"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Frenos / Pastillas"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:L.frenos===0?"":L.frenos,onChange:R=>I("frenos",R.target.value),className:`w-full py-2 px-3 pr-8 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-cyan-400 focus:border-cyan-500":"bg-zinc-100 border-zinc-200 text-blue-600 focus:border-blue-400"} outline-none`,placeholder:"30000"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-zinc-500 font-bold",children:"km"})]})]})]})]}),l.jsxs("div",{className:`mt-2 p-4 rounded-2xl ${t?"bg-zinc-900 border-zinc-800":"bg-white border-zinc-200"} border shadow-xl`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-500/10 text-red-500 rounded-lg flex-shrink-0",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 6h18"}),l.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),l.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),l.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),l.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-base",children:"Limpieza de Datos por Mes"}),l.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-tighter font-semibold",children:"Resetea ingresos, gastos y turnos"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Mes"}),l.jsx("select",{value:s,onChange:R=>c(parseInt(R.target.value)),className:`w-full py-2 px-3 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-200 text-zinc-900"} outline-none`,children:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map((R,V)=>l.jsx("option",{value:V,children:R},V))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase ml-1",children:"Ao"}),l.jsx("select",{value:u,onChange:R=>d(parseInt(R.target.value)),className:`w-full py-2 px-3 rounded-xl text-sm font-bold border transition-all ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-200 text-zinc-900"} outline-none`,children:[2024,2025,2026,2027].map(R=>l.jsx("option",{value:R,children:R},R))})]})]}),l.jsx("button",{onClick:K,disabled:h,className:`w-full py-3 rounded-xl font-black text-xs tracking-widest transition-all active:scale-95 shadow-md ${h?"bg-zinc-800 text-zinc-500":"bg-red-600 text-white hover:bg-red-700 shadow-red-900/40"}`,children:h?"RESETEANDO...":"BORRAR DATOS DEL MES"})]})]}),l.jsxs("div",{className:`mt-2 p-4 rounded-2xl ${t?"bg-zinc-900 border-zinc-800":"bg-white border-zinc-200"} border shadow-xl`,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"p-2 bg-yellow-500/10 text-yellow-500 rounded-lg flex-shrink-0",children:l.jsx(k$,{})}),l.jsxs("h3",{className:"font-bold text-base",children:["Gastos ",O," ",b.getFullYear()]})]}),l.jsxs("div",{className:"flex items-center justify-between pl-14",children:[l.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-tighter font-semibold",children:"Comparativa histrica"}),l.jsxs("div",{className:"flex items-center gap-0.5 bg-zinc-100 dark:bg-zinc-800 rounded-md border border-zinc-200 dark:border-zinc-700",children:[l.jsx("button",{onClick:()=>C(-1),className:"p-0.5 hover:bg-white dark:hover:bg-zinc-700 rounded-sm transition-colors text-zinc-500",children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})}),l.jsx("button",{onClick:()=>C(1),className:"p-0.5 hover:bg-white dark:hover:bg-zinc-700 rounded-sm transition-colors text-zinc-500",children:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})]}),_?l.jsxs("div",{className:"py-12 flex flex-col items-center justify-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500/20 border-t-yellow-500 rounded-full animate-spin"}),l.jsx("p",{className:"text-zinc-500 text-sm font-medium animate-pulse",children:"Consultando historial..."})]}):T.length===0?l.jsxs("div",{className:"py-10 text-center",children:[l.jsx("p",{className:"text-zinc-500 italic text-sm",children:"No hay registros para este perodo."}),l.jsx("p",{className:"text-[10px] text-zinc-600 mt-1",children:"(Se han filtrado los gastos de combustible)"})]}):l.jsxs("div",{className:"mt-2 text-zinc-900 dark:text-zinc-100",children:[l.jsxs("div",{className:"grid grid-cols-12 py-1 px-1 border-b border-zinc-800/50 text-[10px] uppercase font-bold text-zinc-500 tracking-wider",children:[l.jsx("div",{className:"col-span-2",children:"Da"}),l.jsxs("div",{className:"col-span-10 flex justify-between",children:[l.jsx("span",{children:"Concepto / Proveedor"}),l.jsx("span",{className:"pr-1 text-right",children:"Importe"})]})]}),l.jsx("div",{className:"divide-y divide-zinc-800/20",children:T.map((R,V)=>l.jsxs("div",{className:"grid grid-cols-12 py-1.5 px-1 items-center hover:bg-zinc-800/10 transition-colors",children:[l.jsx("div",{className:"col-span-2 text-xs font-bold text-zinc-400",children:new Date(R.fecha).getDate()}),l.jsxs("div",{className:"col-span-10 flex justify-between items-center",children:[l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("span",{className:`text-sm font-bold truncate pr-2 ${t?"text-zinc-100":"text-zinc-900"}`,children:R.concepto}),l.jsx("span",{className:"text-[10px] text-zinc-500 truncate italic",children:R.proveedor||R.taller||"Sin proveedor"})]}),l.jsx("div",{className:`text-sm font-black whitespace-nowrap pl-2 ${t?"text-yellow-500":"text-yellow-600"}`,children:R.importe.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]},R.id||V))}),l.jsxs("div",{className:`mt-3 p-3 rounded-xl flex justify-between items-center ${t?"bg-zinc-800/50":"bg-zinc-100"}`,children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-zinc-500",children:"Total"}),l.jsx("span",{className:`text-lg font-black ${t?"text-white":"text-zinc-900"}`,children:T.reduce((R,V)=>R+V.importe,0).toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]})]})]})]})},F$=(e,t,r)=>{let n=e;(t||r)&&(n=e.filter(g=>{const T=g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora);return!(t&&T<t||r&&T>r)}));const a=n.reduce((g,T)=>g+(T.cobrado||0),0),s=n.length,c=new Map;n.forEach(g=>{const w=(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getHours(),_=g.cobrado||0,E=c.get(w)||{ingresos:0,carreras:0};c.set(w,{ingresos:E.ingresos+_,carreras:E.carreras+1})});const u=Array.from(c.entries()).map(([g,T])=>({hour:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);for(let g=0;g<24;g++)c.has(g)||u.push({hour:g,totalIngresos:0,numCarreras:0,promedioPorCarrera:0,porcentajeDelTotal:0});u.sort((g,T)=>g.hour-T.hour);const d=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],h=new Map;n.forEach(g=>{const w=(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getDay(),_=g.cobrado||0,E=h.get(w)||{ingresos:0,carreras:0};h.set(w,{ingresos:E.ingresos+_,carreras:E.carreras+1})});const m=Array.from(h.entries()).map(([g,T])=>({day:d[g],dayNumber:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);for(let g=0;g<7;g++)h.has(g)||m.push({day:d[g],dayNumber:g,totalIngresos:0,numCarreras:0,promedioPorCarrera:0,porcentajeDelTotal:0});m.sort((g,T)=>g.dayNumber-T.dayNumber);const x=new Map;n.forEach(g=>{const T=g.cobrado||0;let w="";g.aeropuerto?w="Aeropuerto":g.estacion?w="Estacin":g.emisora?w="Emisora":g.tipoCarrera==="Interurbana"?w="Interurbana":w="Urbana";const _=x.get(w)||{ingresos:0,carreras:0};x.set(w,{ingresos:_.ingresos+T,carreras:_.carreras+1})});const b=Array.from(x.entries()).map(([g,T])=>({zona:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0,porcentajeCarreras:s>0?T.carreras/s*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);return{mejoresHoras:u,mejoresDias:m,estadisticasZonas:b,totalIngresos:a,totalCarreras:s,periodo:{desde:t||new Date(Math.min(...n.map(g=>(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getTime()))),hasta:r||new Date(Math.max(...n.map(g=>(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getTime())))}}},O$=(e,t=5)=>e.mejoresHoras.filter(r=>r.numCarreras>0).sort((r,n)=>n.totalIngresos-r.totalIngresos).slice(0,t),R$=(e,t=5)=>e.estadisticasZonas.filter(r=>r.numCarreras>0).sort((r,n)=>n.totalIngresos-r.totalIngresos).slice(0,t),M$=({navigateTo:e})=>{const[t,r]=W.useState("month"),[n,a]=W.useState(!0),[s,c]=W.useState([]),[u,d]=W.useState(!1),[h,m]=W.useState(null),[x,b]=W.useState(!1),g=W.useMemo(()=>{const C=new Date;C.setHours(23,59,59,999);const L=new Date;switch(t){case"week":L.setDate(L.getDate()-7);break;case"month":L.setMonth(L.getMonth()-1);break;case"3months":L.setMonth(L.getMonth()-3);break}return L.setHours(0,0,0,0),{start:L,end:C}},[t]);W.useEffect(()=>{(async()=>{a(!0);try{const L=[],X=new Date(g.start);for(;X<=g.end;)L.push(new Date(X)),X.setDate(X.getDate()+1);const I=await Promise.all(L.map(async U=>{try{if(await k8(U))return{date:U,ingresos:0,gastos:0,balance:0,numCarreras:0,isRestDay:!0};const H=new Date(U);H.setDate(U.getDate()+1);const[oe,O,R]=await Promise.all([id(U),Bu(U,H),Vp(U)]),V=oe.reduce((ie,J)=>ie+(J.cobrado||0),0),re=O.reduce((ie,J)=>ie+(J.importe||0),0),le=V+re,Z=R.reduce((ie,J)=>ie+(J.importe||0),0);return{date:U,ingresos:le,gastos:Z,balance:le-Z,numCarreras:oe.length,isRestDay:!1}}catch(K){return console.error(`Error cargando datos para ${U.toISOString()}:`,K),{date:U,ingresos:0,gastos:0,balance:0,numCarreras:0,isRestDay:!1}}}));c(I)}catch(L){console.error("Error cargando estadsticas:",L)}finally{a(!1)}})()},[g]),W.useEffect(()=>{(async()=>{if(u){b(!0);try{const L=await qi(),X=F$(L,g.start,g.end);m(X)}catch(L){console.error("Error cargando anlisis de zonas y horarios:",L)}finally{b(!1)}}})()},[u,g]);const T=W.useMemo(()=>{const C=s.filter(re=>!re.isRestDay);if(C.length===0)return{totalIngresos:0,totalGastos:0,totalBalance:0,promedioDiarioIngresos:0,promedioDiarioGastos:0,promedioDiarioBalance:0,totalCarreras:0,promedioCarrerasPorDia:0,mejorDia:null,peorDia:null,diasConIngresos:0,diasConGastos:0,diasTrabajados:0,diasDescanso:0};const L=C.reduce((re,le)=>re+le.ingresos,0),X=C.reduce((re,le)=>re+le.gastos,0),I=L-X,U=C.reduce((re,le)=>re+le.numCarreras,0),K=C.filter(re=>re.ingresos>0).length,H=C.filter(re=>re.gastos>0).length,oe=C.length,O=s.length-oe,R=C.reduce((re,le)=>le.balance>((re==null?void 0:re.balance)||-1/0)?le:re,null),V=C.reduce((re,le)=>le.balance<((re==null?void 0:re.balance)||1/0)?le:re,null);return{totalIngresos:L,totalGastos:X,totalBalance:I,promedioDiarioIngresos:L/oe,promedioDiarioGastos:X/oe,promedioDiarioBalance:I/oe,totalCarreras:U,promedioCarrerasPorDia:U/oe,mejorDia:R,peorDia:V,diasConIngresos:K,diasConGastos:H,diasTrabajados:oe,diasDescanso:O}},[s]),w=(C,L,X=150)=>{const I=C.filter(V=>!V.isRestDay);if(I.length===0)return null;const U=400,K=40,oe=(U-K*2)/I.length,O=Math.max(2,oe*.8),R=X-40;return l.jsxs("div",{className:"relative",style:{height:`${X}px`},children:[l.jsxs("svg",{width:"100%",height:X,viewBox:`0 0 ${U} ${X}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(V=>{const re=X-20-V*R,le=(L*V).toFixed(0);return l.jsxs("g",{children:[l.jsx("line",{x1:K,y1:re,x2:U-K,y2:re,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),l.jsxs("text",{x:K-5,y:re+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[le,""]})]},V)}),I.map((V,re)=>{const le=K+re*oe+oe/2-O/2,Z=L>0?V.ingresos/L*R:0,ie=L>0?V.gastos/L*R:0,J=X-20;return l.jsxs("g",{children:[Z>0&&l.jsx("rect",{x:le,y:J-Z,width:O,height:Z,fill:"#00CFFF",opacity:"0.8",rx:"2"}),ie>0&&l.jsx("rect",{x:le,y:J-Z,width:O,height:ie,fill:"#FF00D6",opacity:"0.6",rx:"2",transform:`translate(0, ${Z})`})]},re)})]}),l.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500 px-2",children:I.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:I[0].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}),l.jsx("span",{children:I[Math.floor(I.length/2)].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}),l.jsx("span",{children:I[I.length-1].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})]})})]})},_=(C,L=150)=>{const X=C.filter(Z=>!Z.isRestDay);if(X.length===0)return null;const I=Math.max(...X.map(Z=>Math.abs(Z.balance)),1),U=Math.min(...X.map(Z=>Z.balance),0),K=I-U||1,H=L-40,oe=L-20-H/2,O=400,R=20,V=O-R*2,re=X.map((Z,ie)=>{const J=ie/(X.length-1||1),Y=R+J*V,se=(Z.balance-U)/K,P=oe-(se-.5)*H;return{x:Y,y:P,balance:Z.balance}}),le=re.map((Z,ie)=>`${ie===0?"M":"L"} ${Z.x} ${Z.y}`).join(" ");return l.jsxs("div",{className:"relative",style:{height:`${L}px`},children:[l.jsxs("svg",{width:"100%",height:L,viewBox:`0 0 ${O} ${L}`,preserveAspectRatio:"none",className:"overflow-visible",children:[l.jsx("line",{x1:R,y1:oe,x2:O-R,y2:oe,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),l.jsx("path",{d:le,fill:"none",stroke:"#00FFB0",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),re.map((Z,ie)=>l.jsx("circle",{cx:Z.x,cy:Z.y,r:"4",fill:Z.balance>=0?"#00FFB0":"#FF00D6",stroke:"#1a1a1a",strokeWidth:"2"},ie))]}),l.jsxs("div",{className:"flex justify-between mt-2 text-xs text-zinc-500 px-2",children:[l.jsx("span",{children:"0"}),l.jsxs("span",{className:"text-green-400",children:["+",I.toFixed(0),""]}),l.jsxs("span",{className:"text-red-400",children:[U.toFixed(0),""]})]})]})},E=s.filter(C=>!C.isRestDay),F=Math.max(...E.map(C=>Math.max(C.ingresos,C.gastos)),1);return l.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col px-3 pt-3 pb-6 text-zinc-100 space-y-4",children:[l.jsx(ia,{title:"Estadsticas",navigateTo:e,backTarget:mt.Home,className:"flex-shrink-0"}),l.jsx("div",{className:"bg-zinc-900 px-1 py-2 border border-zinc-800 rounded-lg",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>r("week"),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-all ${t==="week"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"7 Das"}),l.jsx("button",{onClick:()=>r("month"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${t==="month"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"1 Mes"}),l.jsx("button",{onClick:()=>r("3months"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${t==="3months"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"3 Meses"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-4",children:n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"text-zinc-400",children:"Cargando estadsticas..."})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-2 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-3",children:"Resumen del Perodo"}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Ingresos"}),l.jsxs("div",{className:"text-green-400 text-lg  w-full text-center whitespace-nowrap",children:[T.totalIngresos.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Gastos"}),l.jsxs("div",{className:"text-red-400 text-lg  w-full text-center whitespace-nowrap",children:[T.totalGastos.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Balance"}),l.jsxs("div",{className:`text-lg  w-full text-first whitespace-nowrap ${T.totalBalance>=0?"text-green-400":"text-red-400"}`,children:[T.totalBalance.toFixed(2),""]})]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Ingresos vs Gastos"}),l.jsx("div",{className:"mb-4",children:w(s,F)}),l.jsx("p",{className:"text-xs text-zinc-500 text-center mt-2",children:"Solo das trabajados (excluyendo descansos)"}),l.jsxs("div",{className:"flex gap-4 justify-center text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded bg-cyan-400"}),l.jsx("span",{className:"text-zinc-400",children:"Ingresos"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded bg-pink-500"}),l.jsx("span",{className:"text-zinc-400",children:"Gastos"})]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Evolucin del Balance"}),l.jsx("div",{className:"mb-4",children:_(s)}),l.jsx("p",{className:"text-xs text-zinc-500 text-center mt-2",children:"Solo das trabajados (excluyendo descansos)"})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Estadsticas Detalladas"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Diario Ingresos"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[T.promedioDiarioIngresos.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Diario Gastos"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[T.promedioDiarioGastos.toFixed(2),""]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Total Carreras"}),l.jsx("div",{className:"text-white text-lg font-bold",children:T.totalCarreras})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Carreras/Da"}),l.jsx("div",{className:"text-white text-lg font-bold",children:T.promedioCarrerasPorDia.toFixed(1)})]})]}),T.mejorDia&&l.jsxs("div",{className:"bg-green-900/30 border border-green-500/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-green-400 text-xs mb-1 font-semibold",children:"Mejor Da"}),l.jsx("div",{className:"text-white text-sm mb-1",children:T.mejorDia.date.toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long"})}),l.jsxs("div",{className:"text-green-400 text-lg font-bold",children:["+",T.mejorDia.balance.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-400 text-xs mt-1",children:["Ingresos: ",T.mejorDia.ingresos.toFixed(2)," | Gastos: ",T.mejorDia.gastos.toFixed(2)," | Carreras: ",T.mejorDia.numCarreras]})]}),T.peorDia&&l.jsxs("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-red-400 text-xs mb-1 font-semibold",children:"Peor Da"}),l.jsx("div",{className:"text-white text-sm mb-1",children:T.peorDia.date.toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long"})}),l.jsxs("div",{className:"text-red-400 text-lg font-bold",children:[T.peorDia.balance.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-400 text-xs mt-1",children:["Ingresos: ",T.peorDia.ingresos.toFixed(2)," | Gastos: ",T.peorDia.gastos.toFixed(2)," | Carreras: ",T.peorDia.numCarreras]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das Trabajados"}),l.jsx("div",{className:"text-white text-lg font-bold",children:T.diasTrabajados||0}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Das descanso: ",T.diasDescanso||0]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das con Ingresos"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[T.diasConIngresos," / ",T.diasTrabajados||0]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das con Gastos"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[T.diasConGastos," / ",T.diasTrabajados||0]})]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold",children:"Anlisis de Zonas y Horarios"}),l.jsx("button",{onClick:()=>d(!u),className:"text-cyan-400 hover:text-cyan-300 text-sm font-semibold",children:u?"Ocultar":"Mostrar"})]}),u&&l.jsx(l.Fragment,{children:x?l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando anlisis..."}):h?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Mejores Horas del Da"}),l.jsx("div",{className:"space-y-2",children:O$(h,5).map((C,L)=>l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-cyan-400 font-bold text-lg",children:[String(C.hour).padStart(2,"0"),":00"]}),l.jsxs("span",{className:"text-zinc-500 text-xs",children:[C.numCarreras," ",C.numCarreras===1?"carrera":"carreras"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-bold",children:[C.totalIngresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-400 text-xs",children:[C.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-cyan-500 h-2 rounded-full transition-all",style:{width:`${C.porcentajeDelTotal}%`}})}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[C.porcentajeDelTotal.toFixed(1),"% del total"]})]},C.hour))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Rendimiento por Da de la Semana"}),l.jsx("div",{className:"space-y-2",children:h.mejoresDias.filter(C=>C.numCarreras>0).sort((C,L)=>L.totalIngresos-C.totalIngresos).map(C=>l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-cyan-400 font-bold",children:C.day}),l.jsxs("span",{className:"text-zinc-500 text-xs",children:[C.numCarreras," ",C.numCarreras===1?"carrera":"carreras"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-bold",children:[C.totalIngresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-400 text-xs",children:[C.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${C.porcentajeDelTotal}%`}})}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[C.porcentajeDelTotal.toFixed(1),"% del total"]})]},C.dayNumber))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Rendimiento por Zona"}),l.jsx("div",{className:"space-y-2",children:R$(h,10).map(C=>l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-cyan-400 font-bold",children:C.zona}),l.jsxs("span",{className:"text-zinc-500 text-xs",children:[C.numCarreras," (",C.porcentajeCarreras.toFixed(1),"%)"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-bold",children:[C.totalIngresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-400 text-xs",children:[C.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all",style:{width:`${C.porcentajeDelTotal}%`}})}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[C.porcentajeDelTotal.toFixed(1),"% del total de ingresos"]})]},C.zona))})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 border border-cyan-500/30",children:[l.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Resumen del Anlisis"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-zinc-400",children:"Total Ingresos"}),l.jsxs("div",{className:"text-white font-bold",children:[h.totalIngresos.toFixed(2),""]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-zinc-400",children:"Total Carreras"}),l.jsx("div",{className:"text-white font-bold",children:h.totalCarreras})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-zinc-400",children:"Promedio por Carrera"}),l.jsxs("div",{className:"text-white font-bold",children:[h.totalCarreras>0?(h.totalIngresos/h.totalCarreras).toFixed(2):"0.00",""]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-zinc-400",children:"Perodo"}),l.jsxs("div",{className:"text-white font-bold text-xs",children:[h.periodo.desde.toLocaleDateString("es-ES")," - ",h.periodo.hasta.toLocaleDateString("es-ES")]})]})]})]})]}):l.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay datos suficientes para el anlisis"})})]})]})})]})},I$=({navigateTo:e})=>{const[t,r]=W.useState(new Date),[n,a]=W.useState(null),[s,c]=W.useState(null),[u,d]=W.useState({}),[h,m]=W.useState(!1),[x,b]=W.useState(null),[g,T]=W.useState([]),[w,_]=W.useState("taxi"),E=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],F=["L","M","X","J","V","S","D"],C=t.getFullYear(),L=t.getMonth(),X=new Date(C,L,1),U=new Date(C,L+1,0).getDate(),K=X.getDay(),H=K===0?6:K-1;W.useEffect(()=>{try{const Y=localStorage.getItem("breakConfiguration");Y&&c(JSON.parse(Y))}catch(Y){console.error("Error al cargar configuracin:",Y)}},[C,L]),W.useEffect(()=>{const Y=()=>{try{const se=localStorage.getItem("breakConfiguration");se&&c(JSON.parse(se))}catch(se){console.error("Error al cargar configuracin:",se)}};return window.addEventListener("storage",Y),window.addEventListener("breakConfigUpdated",Y),()=>{window.removeEventListener("storage",Y),window.removeEventListener("breakConfigUpdated",Y)}},[]);const oe=(Y,se,P)=>{if(!Y||!se||!P||isNaN(Y.getTime())||isNaN(se.getTime())||isNaN(P.getTime()))return!1;const N=Y.getTime(),k=se.getTime(),D=P.getTime();return N>=k&&N<=D},O=Y=>{const se=(Y||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),P=se.match(/sabado\s*:\s*([a-z]+)/),N=se.match(/domingo\s*:\s*([a-z]+)/);return{saturday:((P==null?void 0:P[1])??"ac").toUpperCase(),sunday:((N==null?void 0:N[1])??"bd").toUpperCase()}},R=Y=>{if(!Y)return null;if(Y instanceof Date)return isNaN(Y.getTime())?null:Y;try{const se=new Date(Y);return isNaN(se.getTime())?null:se}catch{return null}},V=W.useMemo(()=>{const Y={};if(w==="taxi"){if(!s||!s.startDate)return{};try{const[se,P,N]=s.startDate.split("/"),k=new Date(parseInt(N),parseInt(P)-1,parseInt(se)),D=["A","B","C","D"],M=(Ve,Be)=>(Ve%Be+Be)%Be,q=O(s.weekendPattern||""),Q=s.startDayLetter||s.initialBreakLetter||"A",me=D.indexOf(Q);if(me===-1)return{};const de=k.getDay(),ye=de===0?6:de-1,Ce=M(me-ye,4);for(let Ve=1;Ve<=U;Ve++){const Be=new Date(C,L,Ve),ae=Be.getTime()-k.getTime(),he=Math.round(ae/(1e3*60*60*24));if(he<0)continue;let Ze=!1;for(const ct of g){const rt=R(ct.fechaDesde),Dt=R(ct.fechaHasta);if(!rt||!Dt)continue;rt.setHours(0,0,0,0),Dt.setHours(23,59,59,999);const jt=new Date(Be);if(jt.setHours(0,0,0,0),oe(jt,rt,Dt)){if(ct.tipo==="Cambio de Letra"&&ct.nuevaLetra){Y[Ve]=ct.nuevaLetra,Ze=!0;break}if(["Festivo (sin descanso)","Liberacion Especial"].includes(ct.tipo)){Ze=!0;break}}}if(Ze)continue;const Oe=Be.getDay(),Qe=Oe===6;if(Qe||Oe===0){const rt=Math.floor((he+ye)/7)%2===1,Dt=rt?q.sunday:q.saturday,jt=rt?q.saturday:q.sunday;Y[Ve]=Qe?Dt:jt}else{const ct=Oe===0?6:Oe-1,rt=Math.floor((he+ye)/7),Dt=M(Ce+rt,4),jt=M(Dt+ct,4);Y[Ve]=D[jt]}}}catch(se){console.error("Error al calcular letras de descanso (Taxi):",se)}}else try{const se=new Date(2026,0,1),P=["A","B","C","D"];let N=0;const k=new Date(C,L+1,0),D=new Date(se);for(D.setHours(0,0,0,0);D<=k;){const M=D.getFullYear(),q=D.getMonth(),Q=D.getDate();M===C&&q===L&&(Y[Q]=P[N]);const me=D.getDay();let de=!0;me===5&&(de=!1),me===0&&(de=!1),de&&(N=(N+1)%4),D.setDate(D.getDate()+1)}}catch(se){console.error("Error al calcular letras de aeropuerto:",se)}return Y},[C,L,U,s,g,w]);W.useEffect(()=>{(async()=>{try{const P=(await x1()).map(N=>{const k=R(N.fechaDesde),D=R(N.fechaHasta);return!k||!D?null:{...N,fechaDesde:k,fechaHasta:D}}).filter(N=>N!==null);T(P)}catch(se){console.error("Error cargando excepciones:",se)}})()},[C,L]),W.useEffect(()=>{(async()=>{const se=new Date,P=se.getFullYear()===C&&se.getMonth()===L,N=Array.from({length:U},(M,q)=>{const Q=q+1,me=new Date(C,L,Q),de=P&&Q===se.getDate(),ye=`${C}-${String(L+1).padStart(2,"0")}-${String(Q).padStart(2,"0")}`;return(async()=>{try{const[Ce,Ve]=await Promise.all([id(me),Vp(me)]),Be=Ce.reduce((he,Ze)=>he+(Ze.cobrado||0),0),ae=Ve.reduce((he,Ze)=>he+(Ze.importe||0),0);if(Be>0||ae>0||de)return{dayKey:ye,ingresos:Be,gastos:ae}}catch(Ce){if(console.error(`Error cargando datos para el da ${Q}:`,Ce),de)return{dayKey:ye,ingresos:0,gastos:0}}return null})()}),k=await Promise.all(N),D={};k.forEach(M=>{M&&(D[M.dayKey]={ingresos:M.ingresos,gastos:M.gastos})}),d(D)})()},[C,L,U]);const re=Y=>{r(se=>{const P=new Date(se);return Y==="prev"?P.setMonth(se.getMonth()-1):P.setMonth(se.getMonth()+1),P}),a(null)},le=Y=>{a(Y),b(Y),m(!0)},Z=()=>{var Oe;const Y=new sr({orientation:"landscape",unit:"mm",format:"a4"}),se=[255,255,255],P=[200,255,200],N=[255,200,200],k=[230,200,255],D=[220,240,255];Y.setFontSize(18),Y.setTextColor(0,0,0),Y.text(`Calendario Taxi & Aeropuerto - Ao ${C}`,148.5,12,{align:"center"}),Y.setFontSize(8),Y.setFillColor(P[0],P[1],P[2]),Y.rect(210,6,4,4,"F"),Y.text("Descanso Taxi",215,9),Y.setFillColor(N[0],N[1],N[2]),Y.rect(235,6,4,4,"F"),Y.text("Festivo",240,9),Y.setTextColor(50,50,50),Y.setFont(void 0,"bold"),Y.text("A",260,9),Y.setFont(void 0,"normal"),Y.setTextColor(0,0,0),Y.text(": Taxi",263,9),Y.setTextColor(0,110,200),Y.setFont(void 0,"bold"),Y.text("A",275,9),Y.setFont(void 0,"normal"),Y.setTextColor(0,0,0),Y.text(": Aeropuerto",278,9);const M=10,q=18,Q=6,me=8,de=(297-M*2-Q*3)/4,ye=(210-q*2-me*2)/3,Ce=5,Ve=4,Be=ye-Ce-Ve,ae=de/7,he=Be/6,Ze={};try{if(C>=2026){let Qe=new Date(2026,0,1);Qe.setHours(0,0,0,0);const Ue=new Date(C,11,31);Ue.setHours(23,59,59,999);const ct=["A","B","C","D"];let rt=0;for(;Qe<=Ue;){if(Qe.getFullYear()===C){const Ft=`${Qe.getFullYear()}-${String(Qe.getMonth()+1).padStart(2,"0")}-${String(Qe.getDate()).padStart(2,"0")}`;Ze[Ft]=ct[rt]}const Dt=Qe.getDay();let jt=!0;(Dt===5||Dt===0)&&(jt=!1),jt&&(rt=(rt+1)%4),Qe.setDate(Qe.getDate()+1)}}}catch(Qe){console.error(Qe)}for(let Qe=0;Qe<12;Qe++){const Ue=Qe%4,ct=Math.floor(Qe/4),rt=M+Ue*(de+Q),Dt=q+ct*(ye+me);Y.setFillColor(D[0],D[1],D[2]),Y.rect(rt,Dt,de,Ce,"F"),Y.rect(rt,Dt,de,Ce,"S"),Y.setFontSize(10),Y.setTextColor(0,0,0),Y.text(E[Qe],rt+de/2,Dt+3.5,{align:"center"}),Y.setFontSize(7);const jt=["L","M","X","J","V","S","D"];let Ft=Dt+Ce;jt.forEach((Lt,xr)=>{const Fe=rt+xr*ae;Y.rect(Fe,Ft,ae,Ve,"S"),xr>=5?Y.setTextColor(200,50,50):Y.setTextColor(0,0,0),Y.text(Lt,Fe+ae/2,Ft+3,{align:"center"})}),Ft+=Ve;const it=new Date(C,Qe,1),pt=new Date(C,Qe+1,0).getDate(),vt=it.getDay(),ut=vt===0?6:vt-1;let Bt=1;for(let Lt=0;Lt<42&&!(Bt>pt);Lt++){const xr=rt+Lt%7*ae,Fe=Ft+Math.floor(Lt/7)*he;if(Lt>=ut){const ot=Bt,bt=new Date(C,Qe,ot),Pt=bt.getDay();let Ut="";if(s!=null&&s.startDate){const[Cn,Xe,At]=s.startDate.split("/"),Yt=new Date(parseInt(At),parseInt(Xe)-1,parseInt(Cn)),De=["A","B","C","D"],or=bt.getTime()-Yt.getTime(),Jt=Math.round(or/(1e3*60*60*24));if(Jt>=0){const pr=s.startDayLetter||s.initialBreakLetter||"A",rr=De.indexOf(pr),Tr=Yt.getDay(),lr=Tr===0?6:Tr-1,ne=(be,Se)=>(be%Se+Se)%Se,we=ne(rr-lr,4),pe=Pt===6;if(pe||Pt===0){const be=O(s.weekendPattern||""),Ie=Math.floor((Jt+lr)/7)%2===1;Ut=pe?Ie?be.sunday:be.saturday:Ie?be.saturday:be.sunday}else{const be=Math.floor((Jt+lr)/7),Se=Pt===0?6:Pt-1,Ie=ne(we+be,4),et=ne(Ie+Se,4);Ut=De[et]}}}const yr=`${C}-${String(Qe+1).padStart(2,"0")}-${String(ot).padStart(2,"0")}`,tr=Ze[yr]||"",Dr=(Oe=s==null?void 0:s.userBreakLetter)==null?void 0:Oe.toUpperCase(),nr=Ut.toUpperCase(),jr=!!(Dr&&nr&&(nr===Dr||nr==="AC"&&(Dr==="A"||Dr==="C")||nr==="BD"&&(Dr==="B"||Dr==="D"))),Vt=g.find(Cn=>{const Xe=R(Cn.fechaDesde),At=R(Cn.fechaHasta);if(!Xe||!At)return!1;const Yt=new Date(Xe);Yt.setHours(0,0,0,0);const De=new Date(At);De.setHours(23,59,59,999);const or=new Date(C,Qe,ot);return or.setHours(12,0,0,0),or>=Yt&&or<=De});let mr=se;Vt&&["Vacaciones","Festivo (sin descanso)","Liberacion Especial"].includes(Vt.tipo)?Vt.tipo==="Festivo (sin descanso)"?mr=N:Vt.tipo==="Liberacion Especial"?mr=k:mr=P:jr&&(mr=P),Y.setFillColor(mr[0],mr[1],mr[2]),Y.rect(xr,Fe,ae,he,"FD"),Y.setFontSize(6),Y.setTextColor(0,0,0),Y.text(String(ot),xr+ae-.5,Fe+2.5,{align:"right"}),Ut&&(Y.setFontSize(10),Y.setFont(void 0,"bold"),Y.setTextColor(50,50,50),Y.text(Ut,xr+ae/2,Fe+he/2+.5,{align:"center"}),Y.setFont(void 0,"normal")),tr&&(Y.setFontSize(7),Y.setFont(void 0,"bold"),Y.setTextColor(0,110,200),Y.text(tr,xr+ae/2,Fe+he-1,{align:"center"}),Y.setFont(void 0,"normal")),Bt++}}}Y.save(`Calendario_TAppXI_Anual_${C}.pdf`)},ie=[];for(let Y=0;Y<H;Y++)ie.push(null);for(let Y=1;Y<=U;Y++)ie.push(Y);const J=Y=>{if(Y===null)return!1;const se=new Date(C,L,Y).getDay();return se===0||se===6};return l.jsxs("div",{className:"bg-zinc-950 h-screen flex flex-col overflow-hidden fixed inset-0 w-full px-3 pt-3 pb-14",children:[l.jsx(ia,{title:"Calendario",navigateTo:e,backTarget:mt.Home}),l.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur-md border-b border-white/10 flex items-center justify-between py-2 px-2 flex-shrink-0 shadow-sm relative z-20 gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[l.jsx("button",{onClick:()=>re("prev"),className:"w-8 h-8 flex items-center justify-center rounded-full text-zinc-400 hover:text-white hover:bg-white/10 transition-all active:scale-95 flex-shrink-0",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})}),l.jsxs("h2",{className:"text-white text-base font-medium tracking-tight text-center select-none truncate flex-1 leading-tight",children:[E[L]," ",l.jsx("span",{className:"text-zinc-500 font-light text-sm hidden sm:inline",children:C})]}),l.jsx("button",{onClick:()=>re("next"),className:"w-8 h-8 flex items-center justify-center rounded-full text-zinc-400 hover:text-white hover:bg-white/10 transition-all active:scale-95 flex-shrink-0",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[l.jsx("button",{onClick:()=>_(Y=>Y==="taxi"?"airport":"taxi"),className:`
                            h-7 px-2 rounded-full text-[10px] font-bold tracking-wide transition-all border flex items-center gap-1.5 uppercase
                            ${w==="taxi"?"bg-yellow-500/10 border-yellow-500/50 text-yellow-500 hover:bg-yellow-500/20":"bg-sky-500/10 border-sky-500/50 text-sky-400 hover:bg-sky-500/20"}
                        `,title:w==="taxi"?"Modo Taxi":"Modo Aeropuerto",children:w==="taxi"?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"}),"TAX"]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-sky-400"}),"AERP"]})}),l.jsx("button",{onClick:Z,className:"w-8 h-8 flex items-center justify-center rounded-full text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all border border-transparent hover:border-red-500/30",title:"Descargar PDF",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),l.jsx("button",{onClick:()=>e(mt.ConfiguracionDescansos),className:"w-8 h-8 flex items-center justify-center rounded-full text-zinc-400 hover:text-white hover:bg-white/10 transition-all",title:"Configuracin",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.18-.08a2 2 0 0 0-2 0l-.45.45a2 2 0 0 0 0 2l.08.18a2 2 0 0 1 0 2l-.25.43a2 2 0 0 1-1.73 1H2a2 2 0 0 0-2 2v.45a2 2 0 0 0 2 2h.18a2 2 0 0 1 1.73 1l.25.43a2 2 0 0 1 0 2l-.08.18a2 2 0 0 0 0 2l.45.45a2 2 0 0 0 2 0l.18-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.18.08a2 2 0 0 0 2 0l.45-.45a2 2 0 0 0 0-2l-.08-.18a2 2 0 0 1 0-2l.25-.43a2 2 0 0 1 1.73-1H22a2 2 0 0 0 2-2v-.45a2 2 0 0 0-2-2h-.18a2 2 0 0 1-1.73-1l-.25-.43a2 2 0 0 1 0-2l.08-.18a2 2 0 0 0 0-2l-.45-.45a2 2 0 0 0-2 0l-.18.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-0 py-1 bg-zinc-950 flex-shrink-0",children:F.map((Y,se)=>l.jsx("div",{className:`text-center text-xs font-medium ${se>=5?"text-orange-500":"text-cyan-400"}`,children:Y},se))}),l.jsx("div",{className:"grid grid-cols-7 gap-0 flex-1 bg-zinc-950 overflow-auto w-full",children:ie.map((Y,se)=>{var Oe,Qe;if(Y===null)return l.jsx("div",{className:"min-h-0"},se);const P=J(Y),N=n===Y,k=`${C}-${String(L+1).padStart(2,"0")}-${String(Y).padStart(2,"0")}`,D=u[k],M=D!==void 0,q=new Date,Q=q.getFullYear()===C&&q.getMonth()===L&&q.getDate()===Y,me=M||Q,de=(Oe=V[Y])==null?void 0:Oe.toUpperCase(),ye=(Qe=s==null?void 0:s.userBreakLetter)==null?void 0:Qe.toUpperCase(),Ce=!!(ye&&de&&(de===ye||de==="AC"&&(ye==="A"||ye==="C")||de==="BD"&&(ye==="B"||ye==="D"))),Ve=g.find(Ue=>{if(!["Vacaciones","Festivo (sin descanso)","Liberacion Especial"].includes(Ue.tipo))return!1;const ct=R(Ue.fechaDesde),rt=R(Ue.fechaHasta);if(!ct||!rt)return!1;const Dt=new Date(ct);Dt.setHours(0,0,0,0);const jt=new Date(rt);jt.setHours(23,59,59,999);const Ft=new Date(C,L,Y);return Ft.setHours(0,0,0,0),oe(Ft,Dt,jt)}),Be=!!Ve;let ae="";N?ae="bg-gradient-to-b from-orange-500 via-orange-400 to-yellow-500 border-2 border-white shadow-lg z-10":Q?ae="bg-gradient-to-b from-cyan-500 via-blue-500 to-indigo-500 border-2 border-white shadow-md":Ce?ae="bg-green-600 hover:bg-green-500 border border-green-500":Ve?Ve.tipo==="Vacaciones"?ae="bg-green-600 hover:bg-green-500 border border-green-500":Ve.tipo==="Festivo (sin descanso)"?ae="bg-red-600 hover:bg-red-500 border border-red-500":Ve.tipo==="Liberacion Especial"?ae="bg-purple-600 hover:bg-purple-500 border border-purple-500":ae="bg-green-600 hover:bg-green-500 border border-green-500":ae="bg-zinc-700 hover:bg-zinc-600 border border-zinc-600";const he=N||Q||Ce||Be?"text-white":"text-sky-200",Ze=N||Q?"text-white":Ce||Be?"text-red-200":"text-red-400";return l.jsxs("button",{onClick:()=>le(Y),className:`
                                w-full h-full min-h-[60px] flex items-start justify-between p-0.5 relative
                                transition-all
                                rounded-md overflow-hidden
                                ${ae}
                                ${P&&!N&&!Ce&&!Q?"text-orange-500":"text-white"}
                            `,children:[V[Y]&&l.jsx("div",{className:"absolute top-0.5 left-0.5",children:l.jsx("span",{className:`text-xs font-bold px-1 py-0.5 rounded flex-shrink-0 ${N||Q?"bg-white text-zinc-900":"bg-blue-600 text-white"}`,children:V[Y]})}),l.jsx("div",{className:"absolute top-0.5 right-0.5",children:l.jsx("span",{className:`text-base font-medium flex-shrink-0 ${N||Q?"text-white":"text-zinc-100"}`,children:Y})}),me&&l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-start justify-end px-1.5 pb-1.5 pt-8 overflow-hidden",children:[((D==null?void 0:D.ingresos)??0)>0&&l.jsx("div",{className:`text-left leading-tight w-full ${he}`,style:{fontSize:"clamp(13px, 2.5vw, 17px)",width:"100%"},children:D.ingresos.toFixed(2).replace(".",",")}),((D==null?void 0:D.gastos)??0)>0&&l.jsx("div",{className:`text-left leading-tight w-full ${Ze}`,style:{fontSize:"clamp(13px, 2.5vw, 17px)",width:"100%"},children:D.gastos.toFixed(2).replace(".",",")})]})]},se)})}),h&&x!==null&&(()=>{const Y=`${C}-${String(L+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`,se=u[Y]||{ingresos:0,gastos:0},P=se.ingresos||0,N=se.gastos||0,k=P-N,D=new Date(C,L,x),q=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"][D.getDay()];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>m(!1),children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl w-11/12 max-w-md p-6 space-y-4",onClick:Q=>Q.stopPropagation(),children:[l.jsx("div",{className:"bg-zinc-800 rounded-xl py-3 px-4 text-center",children:l.jsxs("h2",{className:"text-cyan-400 text-lg font-semibold",children:[q,", ",x," de ",E[L].toLowerCase()]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-3 border border-green-500",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-amber-400",children:l.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),l.jsx("div",{className:"text-green-400 text-xs font-semibold mb-1 text-center",children:"Ingresos"}),l.jsxs("div",{className:"text-green-400 text-lg font-bold text-center",children:[P.toFixed(2).replace(".",",")," "]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-3 border border-pink-500",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-green-400",children:l.jsx("path",{d:"M7.07 11L6.5 9H2v2h4.57l1.5 4H2v2h5.07l1.5 4H2v2h5.07l1.5 4h2.86l-1.5-4H22v-2h-5.07l-1.5-4H22v-2h-5.07l-1.5-4h-2.86l1.5 4H9.07l-1.5-4H5.07zM9.07 15l-1.5-4h9.86l1.5 4H9.07z"})})}),l.jsx("div",{className:"text-pink-400 text-xs font-semibold mb-1 text-center",children:"Gastos"}),l.jsxs("div",{className:"text-pink-400 text-lg font-bold text-center",children:[N.toFixed(2).replace(".",",")," "]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4 border border-cyan-500",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-400",children:l.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),l.jsx("div",{className:"text-cyan-400 text-base font-semibold",children:"Balance"})]}),l.jsxs("div",{className:"text-green-400 text-2xl font-bold text-center",children:[k.toFixed(2).replace(".",",")," "]})]}),l.jsxs("button",{onClick:()=>m(!1),className:"w-full bg-zinc-800 border-2 border-pink-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:bg-zinc-700 hover:border-pink-400 transition-all active:scale-95",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-red-400",children:l.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),l.jsx("span",{children:"CERRAR"})]})]})})})()]})},P$=({navigateTo:e})=>{const{showToast:t}=To(),[r,n]=W.useState(""),[a,s]=W.useState("A"),[c,u]=W.useState("Sabado: AC / Domingo: BD"),[d,h]=W.useState("A"),[m,x]=W.useState(!0),[b,g]=W.useState(!1),[T,w]=W.useState(!1),[_,E]=W.useState(!1),[F,C]=W.useState(!1),[L,X]=W.useState(!1),[I,U]=W.useState(!1),[K,H]=W.useState(!1),[oe,O]=W.useState(!1),[R,V]=W.useState(!1),[re,le]=W.useState(!1),[Z,ie]=W.useState(""),[J,Y]=W.useState(""),[se,P]=W.useState("Festivo (sin descanso)"),[N,k]=W.useState(!1),[D,M]=W.useState(!1),[q,Q]=W.useState(""),[me,de]=W.useState("A"),[ye,Ce]=W.useState(!1),[Ve,Be]=W.useState(new Date),[ae,he]=W.useState(new Date),[Ze,Oe]=W.useState(null),[Qe,Ue]=W.useState(null),ct=["Festivo (sin descanso)","Cambio de Letra","Vacaciones","Liberacion Especial"],rt=["A","B","C","D","AB","AC","AD","BC","BD","CD"],[Dt,jt]=W.useState([]),[Ft,it]=W.useState(!1),[Ct,pt]=W.useState(null),[vt,ut]=W.useState(new Date),[Bt,Lt]=W.useState(null),xr=["A","B","C","D"],Fe=["Sabado: AC / Domingo: BD","Sabado: BD / Domingo: AC"];W.useEffect(()=>{try{const At=localStorage.getItem("breakConfiguration");if(At){const Yt=JSON.parse(At);n(Yt.startDate||""),s(Yt.startDayLetter||Yt.initialBreakLetter||"A"),u(Yt.weekendPattern||"Sabado: AC / Domingo: BD"),h(Yt.userBreakLetter||"A")}}catch(At){console.error("Error al cargar configuracion local:",At)}(async()=>{try{const At=await z5();if(At){n(At.startDate||""),s(At.startDayLetter||"A"),u(At.weekendPattern||"Sabado: AC / Domingo: BD"),h(At.userBreakLetter||"A");const Yt={startDate:At.startDate||"",startDayLetter:At.startDayLetter||"A",weekendPattern:At.weekendPattern||"Sabado: AC / Domingo: BD",userBreakLetter:At.userBreakLetter||"A",savedAt:At.updatedAt?At.updatedAt.toISOString():new Date().toISOString()};localStorage.setItem("breakConfiguration",JSON.stringify(Yt))}}catch(At){console.error("Error al cargar configuracion de descansos desde Firestore:",At)}finally{x(!1)}})()},[]);const ot=async()=>{if(!r){t("Por favor, selecciona una fecha de inicio del ciclo","warning");return}const Xe={startDate:r,startDayLetter:a,weekendPattern:c,userBreakLetter:d,savedAt:new Date().toISOString()};try{g(!0),localStorage.setItem("breakConfiguration",JSON.stringify(Xe)),await F5({startDate:Xe.startDate,startDayLetter:Xe.startDayLetter,weekendPattern:Xe.weekendPattern,userBreakLetter:Xe.userBreakLetter}),window.dispatchEvent(new Event("breakConfigUpdated")),t("Configuracin guardada correctamente","success"),e(mt.Calendario)}catch(At){sl.handle(At,"BreakConfigurationScreen - handleSave")}finally{g(!1)}},bt=Xe=>{if(!Xe)return null;if(Xe instanceof Date)return isNaN(Xe.getTime())?null:Xe;try{const At=new Date(Xe);return isNaN(At.getTime())?null:At}catch{return null}},Pt=async()=>{it(!0);try{const At=(await x1()).map(Yt=>{const De=bt(Yt.fechaDesde),or=bt(Yt.fechaHasta);return!De||!or?null:{...Yt,fechaDesde:De,fechaHasta:or}}).filter(Yt=>Yt!==null);jt(At)}catch(Xe){console.error("Error cargando excepciones:",Xe)}finally{it(!1)}},Ut=()=>{U(!0),Pt()},yr=Xe=>{const At=new Date(Xe.fechaDesde);ie(At.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}));const Yt=new Date(Xe.fechaHasta);Y(Yt.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})),P(Xe.tipo),k(Xe.aplicaPar),M(Xe.aplicaImpar),Q(Xe.descripcion||""),de(Xe.nuevaLetra||"A"),Oe(At),Ue(Yt),pt(Xe.id),U(!1),H(!0)},tr=()=>{ie(""),Y(""),P("Festivo (sin descanso)"),k(!1),M(!1),Q(""),de("A"),Oe(null),Ue(null),pt(null)},Dr=Xe=>{s(Xe),w(!1)},nr=Xe=>{h(Xe),E(!1)},jr=Xe=>{u(Xe),X(!1)},Vt=Xe=>{Lt(Xe);const At=Xe.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});n(At),C(!1)},mr=Xe=>{ut(At=>{const Yt=new Date(At);return Xe==="prev"?Yt.setMonth(At.getMonth()-1):Yt.setMonth(At.getMonth()+1),Yt})},Cn=()=>{const Xe=vt.getFullYear(),At=vt.getMonth(),Yt=new Date(Xe,At,1),or=new Date(Xe,At+1,0).getDate(),Jt=Yt.getDay()===0?6:Yt.getDay()-1,pr=[];for(let rr=0;rr<Jt;rr++)pr.push(null);for(let rr=1;rr<=or;rr++)pr.push(rr);return pr};return W.useEffect(()=>{window.scrollTo(0,0)},[]),l.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col",children:[l.jsx(ia,{title:"Configuracin Descansos",onBack:()=>e(mt.Varios),className:"rounded-none border-b border-yellow-300/40"}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-1 pt-1 space-y-2",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"text-blue-500",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),l.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Fecha de Inicio del Ciclo"})]}),l.jsx("button",{onClick:()=>C(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white placeholder-zinc-500 focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:r||l.jsx("span",{className:"text-zinc-500",children:"DD/MM/AAAA"})})]}),l.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:a})}),l.jsx("h2",{className:"text-green-400 text-lg font-semibold",children:"Letra del Da de Inicio"})]}),l.jsxs("div",{className:"text-white text-sm mb-1",children:["Fecha: ",r||"No seleccionada"]}),l.jsx("div",{className:"text-white text-2xl font-bold",children:a}),l.jsx("div",{className:"text-zinc-400 text-xs mt-1",children:"Letra que corresponde al da de inicio seleccionado"})]}),l.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:d})}),l.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Mi Letra de Descanso"})]}),l.jsx("div",{className:"text-white text-2xl font-bold",children:d})]}),l.jsxs("button",{onClick:()=>X(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"text-cyan-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})}),l.jsx("h2",{className:"text-pink-400 text-lg font-semibold",children:"Patrn de Fin de Semana"})]}),l.jsx("div",{className:"text-white text-base",children:c})]})]}),l.jsxs("div",{className:"p-4 space-y-3 bg-zinc-950 border-t border-zinc-800",children:[l.jsxs("button",{onClick:ot,disabled:m||b,className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}),l.jsx("span",{children:"GUARDAR CONFIGURACIN"})]}),l.jsxs("button",{onClick:Ut,className:"w-full bg-zinc-800 border-2 border-pink-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:bg-zinc-700 hover:border-pink-400 transition-all active:scale-95",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l1.2-1.2c.5-.4.5-1.1.1-1.5z"})}),l.jsx("span",{children:"GESTIONAR EXCEPCIONES"})]})]}),T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>w(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Letra del Da de Inicio"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Selecciona la letra que corresponde al da de inicio que configuraste"}),l.jsx("div",{className:"grid grid-cols-4 gap-3",children:xr.map(Xe=>l.jsx("button",{onClick:()=>Dr(Xe),className:`p-4 rounded-lg font-bold text-2xl transition-all ${a===Xe?"bg-red-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},Xe))}),l.jsx("button",{onClick:()=>w(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>E(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Mi Letra de Descanso"}),l.jsx("div",{className:"grid grid-cols-4 gap-3",children:xr.map(Xe=>l.jsx("button",{onClick:()=>nr(Xe),className:`p-4 rounded-lg font-bold text-2xl transition-all ${d===Xe?"bg-green-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},Xe))}),l.jsx("button",{onClick:()=>E(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),L&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>X(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Patrn de Fin de Semana"}),l.jsx("div",{className:"space-y-3",children:Fe.map(Xe=>l.jsx("button",{onClick:()=>jr(Xe),className:`w-full p-4 rounded-lg text-left transition-all ${c===Xe?"bg-pink-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},Xe))}),l.jsx("button",{onClick:()=>X(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),F&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>C(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>mr("prev"),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l.jsx("h4",{className:"text-white font-semibold",children:vt.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>mr("next"),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Xe,At)=>l.jsx("div",{className:`text-center text-xs font-medium ${At>=5?"text-orange-500":"text-cyan-400"}`,children:Xe},At)),Cn().map((Xe,At)=>{if(Xe===null)return l.jsx("div",{className:"aspect-square"},At);const Yt=new Date(vt.getFullYear(),vt.getMonth(),Xe),De=Bt&&Yt.toDateString()===Bt.toDateString(),or=Yt.toDateString()===new Date().toDateString();return l.jsx("button",{onClick:()=>Vt(Yt),className:`aspect-square rounded-lg text-sm font-medium transition-all ${De?"bg-green-500 text-white":or?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},At)})]}),l.jsx("button",{onClick:()=>C(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})}),I&&l.jsxs("div",{className:"fixed inset-0 bg-zinc-950 z-50 flex flex-col",children:[l.jsxs("div",{className:"bg-zinc-900 flex items-center py-3 px-4 border-b border-zinc-700 flex-shrink-0",children:[l.jsx("button",{onClick:()=>U(!1),className:"text-white mr-4 hover:text-cyan-400 transition-colors p-2 -ml-2 cursor-pointer z-10","aria-label":"Cerrar",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",pointerEvents:"none",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l.jsx("h1",{className:"text-white text-lg font-semibold flex-1 text-center -ml-8",children:"Gestin de Excepciones"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:l.jsx("div",{className:"bg-zinc-800 rounded-xl p-4 min-h-[300px]",children:Ft?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("p",{className:"text-zinc-400 text-sm",children:"Cargando excepciones..."})}):Dt.length===0?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("p",{className:"text-zinc-500 text-sm",children:"No hay excepciones configuradas"})}):l.jsx("div",{className:"space-y-3",children:Dt.map(Xe=>l.jsx("div",{onClick:()=>yr(Xe),className:"bg-zinc-900 rounded-lg p-4 border border-zinc-700 cursor-pointer hover:bg-zinc-800 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-cyan-400 font-semibold text-sm mb-1",children:Xe.tipo}),l.jsxs("div",{className:"text-white text-xs mb-1",children:[new Date(Xe.fechaDesde).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})," - ",new Date(Xe.fechaHasta).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]}),Xe.descripcion&&l.jsx("div",{className:"text-zinc-400 text-xs mt-2",children:Xe.descripcion}),Xe.tipo==="Cambio de Letra"&&Xe.nuevaLetra&&l.jsxs("div",{className:"text-blue-400 text-xs mt-2 font-semibold",children:["Nueva letra: ",Xe.nuevaLetra]})]}),l.jsx("button",{onClick:async At=>{if(At.stopPropagation(),confirm("Ests seguro de que quieres eliminar esta excepcin?"))try{await j8(Xe.id),await Pt(),t("Excepcin eliminada correctamente","success")}catch(Yt){sl.handle(Yt,"BreakConfigurationScreen - deleteExcepcion")}},className:"text-red-400 hover:text-red-300 ml-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})},Xe.id))})})}),l.jsx("div",{className:"p-4 bg-zinc-950 border-t border-zinc-800",children:l.jsxs("button",{onClick:()=>{tr(),H(!0)},className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-zinc-900 font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),l.jsx("span",{children:"AADIR EXCEPCIN"})]})})]}),K&&l.jsxs("div",{className:"fixed inset-0 bg-zinc-950 z-[60] flex flex-col",children:[l.jsxs("div",{className:"bg-zinc-900 flex items-center py-3 px-4 border-b border-zinc-700 flex-shrink-0",children:[l.jsx("button",{onClick:()=>{H(!1),tr()},className:"text-white mr-4 hover:text-cyan-400 transition-colors p-2 -ml-2 cursor-pointer z-10","aria-label":"Cerrar",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",pointerEvents:"none",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l.jsx("h1",{className:"text-white text-lg font-semibold flex-1 text-center -ml-8",children:Ct?"Editar Excepcin":"Aadir Excepcin"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-blue-500",children:l.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),l.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Rango de Fechas"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>V(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:Z||l.jsx("span",{className:"text-zinc-500",children:"Desde"})}),l.jsx("button",{onClick:()=>le(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:J||l.jsx("span",{className:"text-zinc-500",children:"Hasta"})})]})]}),l.jsxs("button",{onClick:()=>O(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-red-500",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"white"}),l.jsx("circle",{cx:"12",cy:"12",r:"6",fill:"red"}),l.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"white"})]}),l.jsx("h2",{className:"text-green-400 text-lg font-semibold",children:"Tipo de Excepcin"})]}),l.jsx("div",{className:"text-white text-base",children:se})]}),se==="Cambio de Letra"&&l.jsxs("button",{onClick:()=>Ce(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:me})}),l.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Nueva Letra"})]}),l.jsx("div",{className:"text-white text-2xl font-bold",children:me}),l.jsx("div",{className:"text-zinc-400 text-xs mt-1",children:"Letra que sustituir a la existente en el rango de fechas"})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-400",children:l.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),l.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Descripcin (opcional)"})]}),l.jsx("textarea",{value:q,onChange:Xe=>Q(Xe.target.value),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400 resize-none",placeholder:"Descripcin de la excepcin...",rows:3})]})]}),l.jsx("div",{className:"p-4 bg-zinc-950 border-t border-zinc-800",children:l.jsxs("button",{onClick:async()=>{if(!Z||!J){t("Por favor, selecciona las fechas de inicio y fin","warning");return}try{const[Xe,At,Yt]=Z.split("/"),De=new Date(parseInt(Yt),parseInt(At)-1,parseInt(Xe)),[or,Jt,pr]=J.split("/"),rr=new Date(parseInt(pr),parseInt(Jt)-1,parseInt(or));Ct?(await E8(Ct,{fechaDesde:De,fechaHasta:rr,tipo:se,aplicaPar:N,aplicaImpar:D,descripcion:q,nuevaLetra:se==="Cambio de Letra"?me:void 0}),t("Excepcin actualizada correctamente","success")):(await A8({fechaDesde:De,fechaHasta:rr,tipo:se,aplicaPar:N,aplicaImpar:D,descripcion:q,nuevaLetra:se==="Cambio de Letra"?me:void 0}),t("Excepcin guardada correctamente","success")),tr(),H(!1),await Pt()}catch(Xe){sl.handle(Xe,"BreakConfigurationScreen - saveExcepcion")}},className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}),l.jsx("span",{children:Ct?"ACTUALIZAR EXCEPCIN":"GUARDAR EXCEPCIN"})]})})]}),oe&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>O(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Tipo de Excepcin"}),l.jsx("div",{className:"space-y-3",children:ct.map(Xe=>l.jsx("button",{onClick:()=>{P(Xe),O(!1)},className:`w-full p-4 rounded-lg text-left transition-all ${se===Xe?"bg-green-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},Xe))}),l.jsx("button",{onClick:()=>O(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),ye&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>Ce(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Nueva Letra"}),l.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Selecciona la letra que sustituir a la existente en el rango de fechas"}),l.jsx("div",{className:"grid grid-cols-5 gap-3",children:rt.map(Xe=>l.jsx("button",{onClick:()=>{de(Xe),Ce(!1)},className:`p-4 rounded-lg font-bold text-lg transition-all ${me===Xe?"bg-blue-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Xe},Xe))}),l.jsx("button",{onClick:()=>Ce(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),R&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>V(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha Desde"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>Be(Xe=>{const At=new Date(Xe);return At.setMonth(Xe.getMonth()-1),At}),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l.jsx("h4",{className:"text-white font-semibold",children:Ve.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>Be(Xe=>{const At=new Date(Xe);return At.setMonth(Xe.getMonth()+1),At}),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Xe,At)=>l.jsx("div",{className:`text-center text-xs font-medium ${At>=5?"text-orange-500":"text-cyan-400"}`,children:Xe},At)),(()=>{const Xe=Ve.getFullYear(),At=Ve.getMonth(),Yt=new Date(Xe,At,1),or=new Date(Xe,At+1,0).getDate(),Jt=Yt.getDay()===0?6:Yt.getDay()-1,pr=[];for(let rr=0;rr<Jt;rr++)pr.push(null);for(let rr=1;rr<=or;rr++)pr.push(rr);return pr.map((rr,Tr)=>{if(rr===null)return l.jsx("div",{className:"aspect-square"},Tr);const lr=new Date(Xe,At,rr),ne=Ze&&lr.toDateString()===Ze.toDateString(),we=lr.toDateString()===new Date().toDateString();return l.jsx("button",{onClick:()=>{Oe(lr);const pe=lr.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});ie(pe),V(!1)},className:`aspect-square rounded-lg text-sm font-medium transition-all ${ne?"bg-green-500 text-white":we?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:rr},Tr)})})()]}),l.jsx("button",{onClick:()=>V(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})}),re&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>le(!1),children:l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Xe=>Xe.stopPropagation(),children:[l.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha Hasta"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>he(Xe=>{const At=new Date(Xe);return At.setMonth(Xe.getMonth()-1),At}),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),l.jsx("h4",{className:"text-white font-semibold",children:ae.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>he(Xe=>{const At=new Date(Xe);return At.setMonth(Xe.getMonth()+1),At}),className:"text-cyan-400 hover:text-cyan-300",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Xe,At)=>l.jsx("div",{className:`text-center text-xs font-medium ${At>=5?"text-orange-500":"text-cyan-400"}`,children:Xe},At)),(()=>{const Xe=ae.getFullYear(),At=ae.getMonth(),Yt=new Date(Xe,At,1),or=new Date(Xe,At+1,0).getDate(),Jt=Yt.getDay()===0?6:Yt.getDay()-1,pr=[];for(let rr=0;rr<Jt;rr++)pr.push(null);for(let rr=1;rr<=or;rr++)pr.push(rr);return pr.map((rr,Tr)=>{if(rr===null)return l.jsx("div",{className:"aspect-square"},Tr);const lr=new Date(Xe,At,rr),ne=Qe&&lr.toDateString()===Qe.toDateString(),we=lr.toDateString()===new Date().toDateString();return l.jsx("button",{onClick:()=>{Ue(lr);const pe=lr.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});Y(pe),le(!1)},className:`aspect-square rounded-lg text-sm font-medium transition-all ${ne?"bg-green-500 text-white":we?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:rr},Tr)})})()]}),l.jsx("button",{onClick:()=>le(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})})]})},V2=e=>{if(e instanceof Date)return e;if(!e)return new Date(0);if(typeof e=="string"&&e.includes("/")){const r=e.split("/");if(r.length===3){const n=parseInt(r[0],10),a=parseInt(r[1],10)-1,s=parseInt(r[2],10);return new Date(s,a,n)}}const t=new Date(e);return isNaN(t.getTime())?new Date(0):t},Vm=[{id:"fecha",label:"Fecha",width:14,align:"center",isDefault:!0},{id:"importe",label:"",width:11,align:"right",isDefault:!0},{id:"proveedor",label:"Proveedor",width:34,align:"left",isDefault:!0},{id:"nif",label:"NIF",width:20,align:"left",isDefault:!0},{id:"concepto",label:"Concepto",width:23,align:"left",isDefault:!0},{id:"factura",label:"Factura",width:30,align:"left",isDefault:!0},{id:"formaPago",label:"F. Pago",width:15,align:"left",isDefault:!0},{id:"base",label:"Base",width:10,align:"right",isDefault:!0},{id:"ivaPorcentaje",label:"%",width:9,align:"center",isDefault:!0},{id:"ivaImporte",label:"IVA",width:10,align:"right",isDefault:!0},{id:"kms",label:"Kms.",width:10,align:"center",isDefault:!0},{id:"notas",label:"Notas",width:"auto",align:"left",isDefault:!0}],dh=[{id:"fecha",label:"FECHA",width:20,align:"center",isDefault:!0},{id:"ingresos",label:"INGRESOS",width:20,align:"right",isDefault:!0},{id:"kms",label:"Kms.",width:20,align:"center",isDefault:!0},{id:"horas",label:"HORAS",width:20,align:"center",isDefault:!0},{id:"carreras_total",label:"TOTAL",width:14,align:"center",isDefault:!0},{id:"carreras_tarj",label:"TARJ.",width:15,align:"center",isDefault:!0},{id:"carreras_emis",label:"EMIS.",width:15,align:"center",isDefault:!0},{id:"carreras_vales",label:"VALES",width:14,align:"center",isDefault:!0},{id:"importe_tarj",label:"TARJETAS",width:18,align:"right",isDefault:!0},{id:"importe_emis",label:"EMISORA",width:18,align:"right",isDefault:!0},{id:"importe_vales",label:"VALES",width:18,align:"right",isDefault:!0}],B$=({navigateTo:e})=>{const{showToast:t}=To(),[r,n]=W.useState(""),[a,s]=W.useState(""),[c,u]=W.useState({tipo:"todos",gastosFiltro:"todos"}),[d,h]=W.useState(!1),[m,x]=W.useState(!1),[b,g]=W.useState(!1),[T,w]=W.useState(!1),[_,E]=W.useState(Vm.map(O=>O.id)),[F,C]=W.useState(dh.map(O=>O.id)),[L,X]=W.useState(!1);W.useEffect(()=>{const O=new Date,R=new Date(O.getFullYear(),O.getMonth(),1),V=new Date(O.getFullYear(),O.getMonth()+1,0);n(R.toISOString().split("T")[0]),s(V.toISOString().split("T")[0])},[]);const I=async()=>{if(!r||!a){t("Por favor, selecciona ambas fechas","warning");return}h(!0);try{const O=new Date(r);O.setHours(0,0,0,0);const R=new Date(a);R.setHours(23,59,59,999);const[V,re,le,Z,ie]=await Promise.all([qi(),Cs(),Oc(),h1(),m1()]),J=V.filter(N=>{const k=V2(N.fechaHora);return k>=O&&k<=R}),Y=re.filter(N=>{const k=V2(N.fecha);return k>=O&&k<=R}).map(N=>{if(!N.nif){if(N.proveedor){const k=Z.find(D=>D.nombre&&D.nombre.toLowerCase()===N.proveedor.toLowerCase());if(k)return{...N,nif:k.nif}}else if(N.taller){const k=ie.find(D=>D.nombre&&D.nombre.toLowerCase()===N.taller.toLowerCase());if(k)return{...N,nif:k.nif}}}return N}),se=le.filter(N=>{const k=V2(N.fechaInicio);return k>=O&&k<=R});let P=Y;if(console.log("Filtros aplicados:",c),console.log("Gastos antes de filtrar:",Y.length),c.tipo==="gastos"||c.tipo==="todos")if(c.gastosFiltro==="actividad")P=P.filter(N=>{var D;const k=((D=N.tipo)==null?void 0:D.toLowerCase())||"";return k==="actividad"||!k&&(N.proveedor||N.concepto)&&!N.kilometrosVehiculo});else if(c.gastosFiltro==="vehiculo"){console.log("Aplicando filtro de Vehculo...");const N=P.length;P=P.filter(k=>{const D=String(k.tipo||"").toLowerCase().trim(),M=D==="vehiculo"||D==="vehculo"||D==="vehicle"||D==="vehicul"||D.length>0&&D.includes("vehic"),q=k.taller!=null&&String(k.taller).trim()!=="",Q=k.kilometrosVehiculo!=null&&Number(k.kilometrosVehiculo)>0,me=k.servicios&&Array.isArray(k.servicios)&&k.servicios.length>0,de=k.litros!=null&&Number(k.litros)>0||k.precioPorLitro!=null&&Number(k.precioPorLitro)>0,ye=q||Q||me||de,Ce=M||ye;return console.log("Gasto evaluado:",{id:k.id,tipo:k.tipo,tipoLower:D,taller:k.taller,kilometrosVehiculo:k.kilometrosVehiculo,servicios:k.servicios,esTipoVehiculo:M,tieneCamposVehiculo:ye,resultado:Ce}),Ce}),console.log(`Filtro Vehculo: ${P.length} gastos encontrados de ${N} totales`),console.log("Gastos filtrados:",P.map(k=>({id:k.id,tipo:k.tipo,taller:k.taller})))}else c.gastosFiltro==="conceptos"&&c.concepto?P=P.filter(N=>N.concepto&&N.concepto.toLowerCase().includes(c.concepto.toLowerCase())):c.gastosFiltro==="proveedores"&&c.proveedor?P=P.filter(N=>N.proveedor&&N.proveedor.toLowerCase().includes(c.proveedor.toLowerCase())):c.gastosFiltro==="iva"&&(P=P.filter(N=>N.ivaPorcentaje!=null&&Number(N.ivaPorcentaje)>0));U(J,P,se,O,R,c),t("Informe generado correctamente","success")}catch(O){sl.handle(O,"ReportsScreen - generarInforme")}finally{h(!1)}},U=(O,R,V,re,le,Z)=>{const ie=new sr,J=ie.internal.pageSize.getWidth(),Y=ie.internal.pageSize.getHeight();let se=10;ie.setFontSize(12),ie.setTextColor(0,0,0),ie.text("INFORME FISCAL Y CONTABLE",J/2,se,{align:"center"}),se+=5,ie.setFontSize(8),ie.text(`Perodo: ${re.toLocaleDateString("es-ES")} - ${le.toLocaleDateString("es-ES")}`,J/2,se,{align:"center"}),se+=4;let P="Filtros: ";if(Z.tipo==="todos")P+="Todos";else if(Z.tipo==="ingresos")P+="Solo Ingresos";else if(Z.tipo==="gastos"&&(P+="Solo Gastos",Z.gastosFiltro)){const Be=Z.gastosFiltro.charAt(0).toUpperCase()+Z.gastosFiltro.slice(1);P+=` - ${Be}`,Z.gastosFiltro==="conceptos"&&Z.concepto&&(P+=` (${Z.concepto})`),Z.gastosFiltro==="proveedores"&&Z.proveedor&&(P+=` (${Z.proveedor})`)}ie.setFontSize(8),ie.text(P,J/2,se,{align:"center"}),se+=4,ie.setTextColor(100,100,100),ie.setFontSize(7),ie.text(`Generado: ${new Date().toLocaleDateString("es-ES")} ${new Date().toLocaleTimeString("es-ES")}`,J/2,se,{align:"center"}),ie.setTextColor(0,0,0),se+=6;const N=O.reduce((Be,ae)=>Be+(ae.cobrado||0),0),k=R.reduce((Be,ae)=>Be+(ae.importe||0),0),D=R.reduce((Be,ae)=>Be+(ae.baseImponible||ae.importe||0),0),M=R.reduce((Be,ae)=>Be+(ae.ivaImporte||0),0),q=N-k;ie.setFontSize(10),ie.text("RESUMEN EJECUTIVO",14,se),se+=4;const Q=[],me=[];if(Z.tipo==="ingresos"?(Q.push("Total Ingresos ()"),me.push(N.toFixed(2))):Z.tipo==="gastos"?(Q.push("Total Gastos ()","Base Imponible ()","IVA Gastos ()"),me.push(k.toFixed(2),D.toFixed(2),M.toFixed(2))):(Q.push("Total Ingresos ()","Total Gastos ()","Balance ()","Base Imponible ()","IVA Gastos ()"),me.push(N.toFixed(2),k.toFixed(2),q.toFixed(2),D.toFixed(2),M.toFixed(2))),Sc(ie,{startY:se,head:[Q],body:[me],theme:"grid",styles:{fontSize:9,halign:"center",cellPadding:1.5},headStyles:{fillColor:[245,245,245],textColor:[0,0,0],fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},margin:{left:40,right:40}}),se=ie.lastAutoTable.finalY+8,Z.tipo==="ingresos"||Z.tipo==="todos"){se>Y-60&&(ie.addPage(),se=20),ie.setFontSize(14),ie.text("DETALLE DE INGRESOS",14,se),se+=8;const Be={};V.forEach(it=>{const Ct=it.fechaInicio instanceof Date?it.fechaInicio:new Date(it.fechaInicio),pt=Ct.toISOString().split("T")[0];if(Be[pt]||(Be[pt]={fecha:new Date(Ct.getFullYear(),Ct.getMonth(),Ct.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0}),it.kilometrosFin&&it.kilometrosInicio&&(Be[pt].kilometros+=it.kilometrosFin-it.kilometrosInicio),it.fechaFin&&it.fechaInicio){const vt=it.fechaInicio instanceof Date?it.fechaInicio:new Date(it.fechaInicio),ut=it.fechaFin instanceof Date?it.fechaFin:new Date(it.fechaFin);Be[pt].horasMs+=ut.getTime()-vt.getTime()}}),O.forEach(it=>{const Ct=it.fechaHora instanceof Date?it.fechaHora:new Date(it.fechaHora),pt=Ct.toISOString().split("T")[0];Be[pt]||(Be[pt]={fecha:new Date(Ct.getFullYear(),Ct.getMonth(),Ct.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0});const vt=Be[pt];vt.ingresos+=it.cobrado||0,vt.carrerasTotal++,it.formaPago==="Tarjeta"&&(vt.carrerasTarjeta++,vt.importeTarjeta+=it.cobrado||0),it.formaPago==="Vales"&&(vt.carrerasVales++,vt.importeVales+=it.cobrado||0),it.emisora&&(vt.carrerasEmisora++,vt.importeEmisora+=it.cobrado||0)}),R.forEach(it=>{const Ct=it.fecha instanceof Date?it.fecha:new Date(it.fecha),pt=Ct.toISOString().split("T")[0];Be[pt]||(Be[pt]={fecha:new Date(Ct.getFullYear(),Ct.getMonth(),Ct.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0})});const ae=Object.values(Be).sort((it,Ct)=>it.fecha.getTime()-Ct.fecha.getTime()).filter(it=>it.ingresos>0),he=[];let Ze=-1;const Oe=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"];ae.forEach(it=>{const Ct=it.fecha.getMonth();Ct!==Ze&&(Ze=Ct,he.push([{content:Oe[Ct],colSpan:F.length,styles:{fontStyle:"bold",fillColor:[240,240,240],textColor:[0,0,0],halign:"left"}}]));const pt=it.fecha.toLocaleDateString("es-ES"),vt=Math.floor(it.horasMs/(1e3*60*60)),ut=Math.floor(it.horasMs%(1e3*60*60)/(1e3*60)),Bt=`${vt}h ${ut}m`,Lt=[],xr={fecha:pt,ingresos:it.ingresos.toFixed(2),kms:it.kilometros.toFixed(0),horas:Bt,carreras_total:it.carrerasTotal.toString(),carreras_tarj:it.carrerasTarjeta.toString(),carreras_emis:it.carrerasEmisora.toString(),carreras_vales:it.carrerasVales.toString(),importe_tarj:it.importeTarjeta.toFixed(2),importe_emis:it.importeEmisora.toFixed(2),importe_vales:it.importeVales.toFixed(2)};dh.forEach(Fe=>{F.includes(Fe.id)&&Lt.push(xr[Fe.id])}),he.push(Lt)});const Qe=[],Ue=[],ct={};let rt=0;const Dt=it=>{const Ct=dh.find(pt=>pt.id===it);Ct&&F.includes(it)&&(Qe.push({content:Ct.label,rowSpan:2,styles:{valign:"middle",halign:"center",fillColor:[0,0,255]}}),Ue.push(null),ct[rt]={cellWidth:Ct.width,halign:Ct.align||"center"},it==="horas"&&(ct[rt].fontStyle="bold"),rt++)};Dt("fecha"),Dt("ingresos"),Dt("kms"),Dt("horas");const jt=(it,Ct,pt)=>{const vt=pt.filter(ut=>F.includes(ut));vt.length>0&&(Qe.push({content:it,colSpan:vt.length,styles:{halign:"center",fillColor:Ct,textColor:[0,0,0]}}),vt.forEach(ut=>{const Bt=dh.find(Lt=>Lt.id===ut);Ue.push({content:Bt.label,styles:{fillColor:Ct,textColor:[0,0,0]}}),ct[rt]={cellWidth:Bt.width,halign:Bt.align||"center"},rt++}))};jt("CARRERAS",[205,200,0],["carreras_total","carreras_tarj","carreras_emis","carreras_vales"]),jt("IMPORTE EN ",[255,200,0],["importe_tarj","importe_emis","importe_vales"]);const Ft=Ue.filter(it=>it!==null);typeof Sc=="function"?Sc(ie,{startY:se,head:[Qe,Ft],body:he,theme:"grid",headStyles:{textColor:[255,255,255],fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:8,cellPadding:1,halign:"center",valign:"middle"},columnStyles:ct,margin:{left:10,right:10}}):ie.autoTable({startY:se,head:[Qe,Ft],body:he,theme:"grid",styles:{fontSize:8,halign:"center"}}),se=ie.lastAutoTable.finalY+10}if(Z.tipo==="gastos"||Z.tipo==="todos")if(se>Y-60&&(ie.addPage(),se=20),ie.setFontSize(14),ie.text("DETALLE DE GASTOS",14,se),se+=8,R.length>0){const Be=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],ae={};[...R].sort((pt,vt)=>{const ut=pt.fecha instanceof Date?pt.fecha:new Date(pt.fecha),Bt=vt.fecha instanceof Date?vt.fecha:new Date(vt.fecha);return ut.getTime()-Bt.getTime()}).forEach(pt=>{const ut=(pt.fecha instanceof Date?pt.fecha:new Date(pt.fecha)).getMonth();ae[ut]||(ae[ut]=[]),ae[ut].push(pt)});const Ze=[];Object.keys(ae).sort((pt,vt)=>Number(pt)-Number(vt)).forEach(pt=>{const vt=Number(pt);Ze.push([{content:Be[vt],colSpan:_.length,styles:{fontStyle:"bold",fillColor:[240,240,240],textColor:[0,0,0],halign:"left"}}]),ae[vt].forEach(ut=>{var Fe,ot;const Bt=ut.fecha instanceof Date?ut.fecha:new Date(ut.fecha);((Fe=ut.tipo)==null?void 0:Fe.toLowerCase())==="vehiculo"&&ut.servicios&&Array.isArray(ut.servicios)&&ut.servicios.length>0;const Lt=[],xr={fecha:Bt.toLocaleDateString("es-ES"),importe:((ot=ut.importe)==null?void 0:ot.toFixed(2))||"0.00",proveedor:ut.proveedor||ut.taller||"Sin proveedor",nif:ut.nif||"",concepto:ut.concepto||"Sin concepto",factura:ut.numeroFactura||"Sin factura",formaPago:ut.formaPago||"N/A",base:(ut.baseImponible||ut.importe||0).toFixed(2),ivaPorcentaje:ut.ivaPorcentaje?`${ut.ivaPorcentaje}%`:"0%",ivaImporte:(ut.ivaImporte||0).toFixed(2),kms:ut.kilometros?ut.kilometros.toFixed(0):ut.kilometrosVehiculo?ut.kilometrosVehiculo.toFixed(0):"N/A",notas:ut.notas||""};Vm.forEach(bt=>{_.includes(bt.id)&&Lt.push(xr[bt.id])}),Ze.push(Lt)})});const Oe=[],Qe={};let Ue=0;Vm.forEach(pt=>{_.includes(pt.id)&&(Oe.push(pt.label),Qe[Ue]={cellWidth:pt.width,halign:pt.align||"left"},Ue++)}),typeof Sc=="function"?Sc(ie,{startY:se,head:[Oe],body:Ze,theme:"striped",headStyles:{fillColor:[0,0,200],textColor:255,fontStyle:"bold",fontSize:8,halign:"center"},styles:{fontSize:7,cellPadding:1,overflow:"linebreak",cellWidth:"wrap",halign:"center"},columnStyles:Qe,margin:{left:10,right:10},didParseCell:pt=>{pt.cell.text&&pt.cell.text.length>0&&(pt.cell.text=String(pt.cell.text))}}):ie.autoTable({startY:se,head:[Oe],body:Ze,theme:"striped",headStyles:{fillColor:[0,0,200],textColor:255,fontStyle:"bold",fontSize:8,halign:"center"},styles:{fontSize:7,cellPadding:1,overflow:"linebreak",cellWidth:"wrap",halign:"center"},columnStyles:Qe,margin:{left:10,right:10},didParseCell:pt=>{pt.cell.text&&pt.cell.text.length>0&&(pt.cell.text=String(pt.cell.text))}}),se=ie.lastAutoTable.finalY+10;const ct=Z.gastosFiltro==="vehiculo",rt=ct?"Resumen por Taller:":"Resumen por Proveedor:",Dt={};R.forEach(pt=>{let vt;ct?vt=pt.taller||"Otros Talleres":vt=pt.proveedor||pt.taller||"Otros Proveedores",Dt[vt]=(Dt[vt]||0)+(pt.importe||0)}),ie.setFontSize(12),ie.text(rt,14,se),se+=6,ie.setFontSize(10);const jt=Object.entries(Dt).sort((pt,vt)=>vt[1]-pt[1]),Ft=[];for(let pt=0;pt<jt.length;pt+=2)Ft.push([jt[pt][0],`${jt[pt][1].toFixed(2)} `,jt[pt+1]?jt[pt+1][0]:"",jt[pt+1]?`${jt[pt+1][1].toFixed(2)} `:""]);Sc(ie,{startY:se,head:[["Proveedor / Concepto","Importe","Proveedor / Concepto","Importe"]],body:Ft,theme:"grid",styles:{fontSize:8,cellPadding:1.5},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{1:{halign:"right",cellWidth:25},3:{halign:"right",cellWidth:25}},margin:{left:14,right:14}}),se=ie.lastAutoTable.finalY+10;const it={};R.forEach(pt=>{const vt=pt.ivaPorcentaje||0,ut=`${vt}%`;it[ut]||(it[ut]={porcentaje:vt,base:0,iva:0}),it[ut].base+=pt.baseImponible||pt.importe||0,it[ut].iva+=pt.ivaImporte||0}),ie.setFontSize(12),ie.text("RESUMEN DE IVA",14,se),se+=5;const Ct=Object.entries(it).map(([pt,vt])=>[pt,`${vt.base.toFixed(2)} `,`${vt.iva.toFixed(2)} `]);Sc(ie,{startY:se,head:[["Tipo IVA","Base Imponible","Cuota IVA"]],body:Ct,theme:"grid",styles:{fontSize:8,cellPadding:1.5,halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{1:{halign:"right"},2:{halign:"right"}},margin:{left:14,right:100}}),se=ie.lastAutoTable.finalY+10}else ie.setFontSize(10),ie.text("No hay gastos en el perodo seleccionado",14,se),se+=10;const de=ie.getNumberOfPages();for(let Be=1;Be<=de;Be++)ie.setPage(Be),ie.setFontSize(8),ie.setTextColor(128,128,128),ie.text(`Pgina ${Be} de ${de} - Documento generado para trmites administrativos`,J/2,Y-10,{align:"center"});const ye=typeof re=="string"?re:re.toISOString().split("T")[0],Ce=typeof le=="string"?le:le.toISOString().split("T")[0],Ve=`Informe_${ye}_${Ce}.pdf`;ie.save(Ve)},K=async()=>{try{const[O,R]=await Promise.all([qi(),Cs()]),V=[...new Set(R.map(le=>le.concepto).filter(Boolean))],re=[...new Set(R.map(le=>le.proveedor).filter(Boolean))];return{conceptos:V,proveedores:re}}catch(O){return console.error("Error al obtener valores nicos:",O),{conceptos:[],proveedores:[]}}},[H,oe]=W.useState({conceptos:[],proveedores:[]});return W.useEffect(()=>{K().then(oe)},[]),l.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-24 space-y-4",children:[l.jsx(ia,{title:"Informes",navigateTo:e,backTarget:mt.Home}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800 bg-gradient-to-r from-zinc-900 to-zinc-800/50",children:[l.jsx("h2",{className:"text-cyan-400 text-sm font-bold uppercase tracking-wider mb-3",children:"Resmenes Consolidados"}),l.jsxs("button",{onClick:()=>e(mt.ResumenAnualDetallado),className:"w-full bg-zinc-800 border border-cyan-500/30 hover:border-cyan-500/60 rounded-xl p-4 flex items-center justify-between transition-all group active:scale-[0.98]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-cyan-500/10 p-2 rounded-lg group-hover:bg-cyan-500/20 transition-colors",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-cyan-400",children:[l.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),l.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),l.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),l.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"})]})}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block text-white font-bold",children:"Resumen Anual Detallado"}),l.jsx("span",{className:"text-zinc-500 text-xs",children:"Tabla completa desglosada por meses (Estilo Excel)"})]})]}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-zinc-500 group-hover:text-cyan-400 transform group-hover:translate-x-1 transition-all",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Perodo del Informe"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Fecha Desde"}),l.jsx("input",{type:"date",value:r,onChange:O=>n(O.target.value),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Fecha Hasta"}),l.jsx("input",{type:"date",value:a,onChange:O=>s(O.target.value),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400"})]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Filtros del Informe"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Tipo de Informe"}),l.jsxs("select",{value:c.tipo,onChange:O=>u({...c,tipo:O.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[l.jsx("option",{value:"todos",children:"Todos (Ingresos y Gastos)"}),l.jsx("option",{value:"ingresos",children:"Solo Ingresos"}),l.jsx("option",{value:"gastos",children:"Solo Gastos"})]})]}),(c.tipo==="gastos"||c.tipo==="todos")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Filtro de Gastos"}),l.jsxs("select",{value:c.gastosFiltro,onChange:O=>u({...c,gastosFiltro:O.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[l.jsx("option",{value:"todos",children:"Todos los Gastos"}),l.jsx("option",{value:"actividad",children:"Actividad"}),l.jsx("option",{value:"vehiculo",children:"Vehculo"}),l.jsx("option",{value:"iva",children:"IVA"}),l.jsx("option",{value:"conceptos",children:"Concepto"}),l.jsx("option",{value:"proveedores",children:"Proveedor"})]})]}),c.gastosFiltro==="actividad"&&l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-zinc-400 text-xs",children:"Se mostrarn solo los gastos de actividad (con proveedor o concepto, sin kilometrosVehiculo)"})}),c.gastosFiltro==="vehiculo"&&l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-zinc-400 text-xs",children:"Se mostrarn solo los gastos de vehculo (con kilometrosVehiculo)"})}),c.gastosFiltro==="conceptos"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Concepto"}),l.jsx("input",{type:"text",list:"conceptos-list",value:c.concepto||"",onChange:O=>u({...c,concepto:O.target.value}),placeholder:"Buscar por concepto...",className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white placeholder-zinc-500 focus:outline-none focus:border-green-400"}),l.jsx("datalist",{id:"conceptos-list",children:H.conceptos.map((O,R)=>l.jsx("option",{value:O},R))})]}),c.gastosFiltro==="proveedores"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Proveedor"}),l.jsxs("select",{value:c.proveedor||"",onChange:O=>u({...c,proveedor:O.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[l.jsx("option",{value:"",children:"Todos los proveedores"}),H.proveedores.map(O=>l.jsx("option",{value:O,children:O},O))]})]}),c.gastosFiltro==="iva"&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Filtro de IVA"}),l.jsx("p",{className:"text-zinc-400 text-xs mb-2",children:"El informe mostrar todos los gastos con su desglose de IVA"})]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsxs("button",{onClick:()=>X(!L),className:"flex items-center justify-between w-full text-left",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold",children:"Personalizacin de Columnas"}),l.jsx("span",{className:"text-zinc-400 text-sm",children:L?"Ocultar":"Mostrar"})]}),L&&l.jsxs("div",{className:"mt-4 space-y-6",children:[(c.tipo==="gastos"||c.tipo==="todos")&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-zinc-300 font-bold mb-3 text-sm border-b border-zinc-700 pb-2",children:"Columnas de Gastos"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Vm.map(O=>l.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-400 cursor-pointer hover:text-white",children:[l.jsx("input",{type:"checkbox",checked:_.includes(O.id),onChange:()=>{_.includes(O.id)?E(_.filter(R=>R!==O.id)):E([..._,O.id])},className:"rounded bg-zinc-800 border-zinc-600 text-cyan-500 focus:ring-cyan-500 focus:ring-offset-zinc-900"}),l.jsx("span",{children:O.label})]},O.id))})]}),(c.tipo==="ingresos"||c.tipo==="todos")&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-zinc-300 font-bold mb-3 text-sm border-b border-zinc-700 pb-2",children:"Columnas de Ingresos"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:dh.map(O=>l.jsxs("label",{className:"flex items-center space-x-2 text-sm text-zinc-400 cursor-pointer hover:text-white",children:[l.jsx("input",{type:"checkbox",checked:F.includes(O.id),onChange:()=>{F.includes(O.id)?C(F.filter(R=>R!==O.id)):C([...F,O.id])},className:"rounded bg-zinc-800 border-zinc-600 text-cyan-500 focus:ring-cyan-500 focus:ring-offset-zinc-900"}),l.jsx("span",{children:O.label})]},O.id))})]})]})]}),l.jsx("button",{onClick:I,disabled:d||!r||!a,className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:d?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(sd,{size:"sm"}),l.jsx("span",{children:"Generando informe..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),"Generar Informe PDF"]})}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h3",{className:"text-cyan-400 text-sm font-bold mb-2",children:" Informacin"}),l.jsx("p",{className:"text-zinc-400 text-xs",children:"Los informes generados incluyen toda la informacin necesaria para trmites ante la Administracin: desglose de IVA, bases imponibles, facturas, proveedores y resmenes por categoras."})]})]})]})},U$=({navigateTo:e})=>{const[t,r]=W.useState("horarios"),[n,a]=W.useState(!0),[s,c]=W.useState([]),[u,d]=W.useState([]),[h,m]=W.useState([]),[x,b]=W.useState(100),[g,T]=W.useState({ingresos:0,gastos:0}),[w,_]=W.useState({ingresos:0,gastos:0}),[E,F]=W.useState({ingresos:0,gastos:0}),[C,L]=W.useState({ingresos:0,gastos:0}),[X,I]=W.useState({objetivoMensual:0,objetivoHastaAhora:0,ingresosHastaAhora:0,porcentajeCumplimiento:0,proyeccionMensual:0,diferencia:0,diasTrabajadosHastaAhora:0,totalDiasTrabajadosMes:0}),U=W.useMemo(()=>{const le=new Date;le.setHours(23,59,59,999);const Z=new Date;return Z.setMonth(Z.getMonth()-3),Z.setHours(0,0,0,0),{start:Z,end:le}},[]);W.useEffect(()=>{t==="horarios"&&(async()=>{a(!0);try{const[Z,ie,J]=await Promise.all([H8(U.start,U.end),V8(U.start,U.end),G8(U.start,U.end)]);c(Z),d(ie),m(J)}catch(Z){console.error("Error cargando datos de horarios:",Z)}finally{a(!1)}})()},[t,U]),W.useEffect(()=>{t==="comparativas"&&(async()=>{a(!0);try{const Z=new Date,ie=Z.getMonth(),J=Z.getFullYear(),Y=ie===0?11:ie-1,se=ie===0?J-1:J,P=J-1,[N,k,D,M,q,Q,me,de,ye]=await Promise.all([pv(ie,J),gv(ie,J),pv(Y,se),gv(Y,se),xv(J),vv(J),xv(P),vv(P),pd()]);T({ingresos:N,gastos:k}),_({ingresos:D,gastos:M}),F({ingresos:q,gastos:Q}),L({ingresos:me,gastos:de}),ye&&ye.objetivoDiario&&b(ye.objetivoDiario);const Ce=new Date(Z.getFullYear(),Z.getMonth(),1),Ve=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59,999),Be=await M5(Ce,Ve),ae=Be.filter(Dt=>Dt<=Z).length,he=Be.length,Ze=(ye==null?void 0:ye.objetivoDiario)||100,Oe=Ze*he,Qe=Ze*ae,Ue=N,ct=Qe>0?Ue/Qe*100:0,rt=ae>0?Ue/ae*he:0;I({objetivoMensual:Oe,objetivoHastaAhora:Qe,ingresosHastaAhora:Ue,porcentajeCumplimiento:ct,proyeccionMensual:rt,diferencia:Ue-Qe,diasTrabajadosHastaAhora:ae,totalDiasTrabajadosMes:he})}catch(Z){console.error("Error cargando datos de comparativas:",Z)}finally{a(!1)}})()},[t]);const K=W.useMemo(()=>s.length===0?[]:s.map((Z,ie)=>({hora:ie,ingresos:Z})).filter(Z=>Z.ingresos>0).sort((Z,ie)=>ie.ingresos-Z.ingresos).slice(0,5),[s]),H=W.useMemo(()=>{if(h.length===0)return[];const le=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"];return h.map((ie,J)=>({dia:J,nombre:le[J],ingresos:ie})).filter(ie=>ie.ingresos>0).sort((ie,J)=>J.ingresos-ie.ingresos)},[h]),oe=W.useMemo(()=>{const le=[];if(K.length>0){const P=K[0];le.push(`Mejor hora: ${P.hora}:00 - ${P.hora+1}:00 (${P.ingresos.toFixed(2)} promedio)`)}if(H.length>0){const P=H[0];le.push(`Mejor da: ${P.nombre} (${P.ingresos.toFixed(2)} promedio)`)}const Z=s.slice(6,12).reduce((P,N)=>P+N,0),ie=s.slice(12,18).reduce((P,N)=>P+N,0),J=s.slice(18,24).reduce((P,N)=>P+N,0),Y=s.slice(0,6).reduce((P,N)=>P+N,0),se=[{nombre:"Maana (6-12h)",total:Z},{nombre:"Tarde (12-18h)",total:ie},{nombre:"Noche (18-24h)",total:J},{nombre:"Madrugada (0-6h)",total:Y}].sort((P,N)=>N.total-P.total)[0];return se.total>0&&le.push(`Mejor franja: ${se.nombre} (${se.total.toFixed(2)} total)`),le},[K,H,s]),O=()=>{if(s.length===0)return null;const le=Math.max(...s,1),Z=200,ie=400,J=40,se=(ie-J*2)/24,P=Z-60;return l.jsx("div",{className:"relative",style:{height:`${Z}px`},children:l.jsxs("svg",{width:"100%",height:Z,viewBox:`0 0 ${ie} ${Z}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(N=>{const k=Z-40-N*P,D=(le*N).toFixed(0);return l.jsxs("g",{children:[l.jsx("line",{x1:J,y1:k,x2:ie-J,y2:k,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),l.jsxs("text",{x:J-5,y:k+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[D,""]})]},N)}),s.map((N,k)=>{const D=J+k*se,M=le>0?N/le*P:0,q=Z-40-M,Q=K.some(me=>me.hora===k);return l.jsxs("g",{children:[l.jsx("rect",{x:D,y:q,width:se*.8,height:M,fill:Q?"#00FFB0":"#00CFFF",opacity:"0.8",rx:"2"}),k%4===0&&l.jsxs("text",{x:D+se/2,y:Z-20,className:"text-xs fill-zinc-400",fontSize:"9",textAnchor:"middle",children:[k,"h"]})]},k)})]})})},R=()=>{if(u.length===0)return null;const le=Math.max(...u,1),Z=200,ie=400,J=40,se=(ie-J*2)/7,P=Z-60,N=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"];return l.jsx("div",{className:"relative",style:{height:`${Z}px`},children:l.jsxs("svg",{width:"100%",height:Z,viewBox:`0 0 ${ie} ${Z}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(k=>{const D=Z-40-k*P,M=(le*k).toFixed(0);return l.jsxs("g",{children:[l.jsx("line",{x1:J,y1:D,x2:ie-J,y2:D,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),l.jsxs("text",{x:J-5,y:D+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[M,""]})]},k)}),u.map((k,D)=>{var de;const M=J+D*se,q=le>0?k/le*P:0,Q=Z-40-q,me=((de=H[0])==null?void 0:de.dia)===D;return l.jsxs("g",{children:[l.jsx("rect",{x:M,y:Q,width:se*.8,height:q,fill:me?"#00FFB0":"#00CFFF",opacity:"0.8",rx:"2"}),l.jsx("text",{x:M+se/2,y:Z-20,className:"text-xs fill-zinc-400",fontSize:"9",textAnchor:"middle",children:N[D]})]},D)})]})})},V=W.useMemo(()=>{const le=g.ingresos-w.ingresos,Z=g.gastos-w.gastos,ie=g.ingresos-g.gastos-(w.ingresos-w.gastos),J=w.ingresos>0?le/w.ingresos*100:0;return{diferenciaIngresos:le,diferenciaGastos:Z,diferenciaBalance:ie,porcentajeIngresos:J}},[g,w]),re=W.useMemo(()=>{const le=E.ingresos-C.ingresos,Z=E.gastos-C.gastos,ie=E.ingresos-E.gastos-(C.ingresos-C.gastos),J=C.ingresos>0?le/C.ingresos*100:0;return{diferenciaIngresos:le,diferenciaGastos:Z,diferenciaBalance:ie,porcentajeIngresos:J}},[E,C]);return l.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col px-3 pt-3 pb-6 text-zinc-100",children:[l.jsx(ia,{title:"Anlisis Avanzado",navigateTo:e,backTarget:mt.Home,className:"mb-4"}),l.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-900 border border-zinc-800 rounded-lg mb-4",children:[l.jsx("button",{onClick:()=>r("horarios"),className:`flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all ${t==="horarios"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"Horarios ptimos"}),l.jsx("button",{onClick:()=>r("comparativas"),className:`flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all ${t==="comparativas"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"Comparativas"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"text-zinc-400",children:"Cargando anlisis..."})}):t==="horarios"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Ingresos por Hora del Da"}),O(),l.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Datos basados en los ltimos 3 meses (solo das trabajados)"})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Promedio de Ingresos por Da de la Semana"}),R(),l.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Promedio diario basado en los ltimos 3 meses (solo das trabajados)"})]}),K.length>0&&l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Top 5 Mejores Horarios"}),l.jsx("div",{className:"space-y-2",children:K.map((le,Z)=>l.jsx("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-400 font-bold",children:Z+1}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-white font-semibold",children:[le.hora,":00 - ",le.hora+1,":00"]}),l.jsxs("div",{className:"text-xs text-zinc-400",children:[le.ingresos.toFixed(2)," promedio"]})]})]})},le.hora))})]}),H.length>0&&l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Das Ms Rentables"}),l.jsx("div",{className:"space-y-2",children:H.map((le,Z)=>l.jsx("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 font-bold",children:Z+1}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-semibold",children:le.nombre}),l.jsxs("div",{className:"text-xs text-zinc-400",children:[le.ingresos.toFixed(2)," promedio"]})]})]})},le.dia))})]}),oe.length>0&&l.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 rounded-xl p-4 border border-cyan-500/50",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:" Sugerencias de Horarios"}),l.jsx("div",{className:"space-y-2",children:oe.map((le,Z)=>l.jsxs("div",{className:"text-zinc-200 text-sm flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-400",children:""}),l.jsx("span",{children:le})]},Z))})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Comparativa Mensual"}),l.jsx("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:"Datos calculados solo sobre das trabajados (excluyendo descansos)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Mes Actual"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[g.ingresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",g.gastos.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Mes Anterior"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[w.ingresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",w.gastos.toFixed(2),""]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Diferencia"}),l.jsxs("div",{className:`text-lg font-bold ${V.diferenciaIngresos>=0?"text-green-400":"text-red-400"}`,children:[V.diferenciaIngresos>=0?"+":"",V.diferenciaIngresos.toFixed(2),"",V.porcentajeIngresos!==0&&l.jsxs("span",{className:"text-sm ml-2",children:["(",V.porcentajeIngresos>=0?"+":"",V.porcentajeIngresos.toFixed(1),"%)"]})]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-2",children:["Balance: ",V.diferenciaBalance>=0?"+":"",V.diferenciaBalance.toFixed(2),""]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Comparativa Anual"}),l.jsx("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:"Datos calculados solo sobre das trabajados (excluyendo descansos)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ao Actual"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[E.ingresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",E.gastos.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ao Anterior"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[C.ingresos.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",C.gastos.toFixed(2),""]})]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Diferencia"}),l.jsxs("div",{className:`text-lg font-bold ${re.diferenciaIngresos>=0?"text-green-400":"text-red-400"}`,children:[re.diferenciaIngresos>=0?"+":"",re.diferenciaIngresos.toFixed(2),"",re.porcentajeIngresos!==0&&l.jsxs("span",{className:"text-sm ml-2",children:["(",re.porcentajeIngresos>=0?"+":"",re.porcentajeIngresos.toFixed(1),"%)"]})]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-2",children:["Balance: ",re.diferenciaBalance>=0?"+":"",re.diferenciaBalance.toFixed(2),""]})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[l.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Metas vs Logros"}),l.jsxs("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:["Objetivos calculados sobre ",X.totalDiasTrabajadosMes," das trabajados del mes"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Objetivo Diario"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[x.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Objetivo Mensual"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[X.objetivoMensual.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ingresos Hasta Ahora"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[X.ingresosHastaAhora.toFixed(2),""]}),l.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Objetivo hasta ahora: ",X.objetivoHastaAhora.toFixed(2),""]})]}),l.jsxs("div",{className:`rounded-lg p-3 ${X.porcentajeCumplimiento>=100?"bg-green-900/30 border border-green-500/50":"bg-zinc-800"}`,children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Cumplimiento del Objetivo"}),l.jsxs("div",{className:`text-2xl font-bold ${X.porcentajeCumplimiento>=100?"text-green-400":"text-white"}`,children:[X.porcentajeCumplimiento.toFixed(1),"%"]}),l.jsxs("div",{className:`text-sm mt-2 ${X.diferencia>=0?"text-green-400":"text-red-400"}`,children:[X.diferencia>=0?"+":"",X.diferencia.toFixed(2),""]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[l.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Proyeccin Mensual"}),l.jsxs("div",{className:"text-white text-lg font-bold",children:[X.proyeccionMensual.toFixed(2),""]}),l.jsx("div",{className:"text-zinc-500 text-xs mt-1",children:"Basado en el ritmo actual"})]})]})]})]})})]})},H$=({navigateTo:e})=>{const{isDark:t}=to(),{showToast:r}=To(),[n,a]=W.useState([]),[s,c]=W.useState(!1),[u,d]=W.useState(null),[h,m]=W.useState(""),[x,b]=W.useState(""),[g,T]=W.useState("personalizado"),[w,_]=W.useState(""),[E,F]=W.useState(""),[C,L]=W.useState(""),[X,I]=W.useState(!1),[U,K]=W.useState(""),[H,oe]=W.useState(""),[O,R]=W.useState(!0);W.useEffect(()=>{let N;return(async()=>{try{N=(await ju(()=>Promise.resolve().then(()=>lp),void 0)).subscribeToReminders(M=>{a(M),R(!1)})}catch(D){console.error("Error importing api for reminders:",D)}})(),()=>{N&&N()}},[]);const V=()=>{m(""),b(""),T("personalizado"),_(""),F(""),L(""),I(!1),K(""),oe(""),d(null)},re=async()=>{if(!h.trim()){r("Por favor, ingresa un ttulo para el recordatorio","warning");return}if(g==="mantenimiento"&&!U){r("Por favor, ingresa los kilmetros lmite para mantenimiento","warning");return}if(g!=="mantenimiento"&&!w){r("Por favor, selecciona una fecha lmite","warning");return}try{u?(await j9(u.id,{titulo:h.trim(),descripcion:x.trim()||void 0,tipo:g,fechaLimite:g==="mantenimiento"?new Date().toISOString():w,horaRecordatorio:E||void 0,fechaRecordatorio:C||void 0,sonidoActivo:X,kilometrosLimite:U?parseFloat(U):void 0,kilometrosActuales:H?parseFloat(H):void 0}),r("Recordatorio actualizado correctamente","success")):(await E9({titulo:h.trim(),descripcion:x.trim()||void 0,tipo:g,fechaLimite:g==="mantenimiento"?new Date().toISOString():w,horaRecordatorio:E||void 0,fechaRecordatorio:C||void 0,sonidoActivo:X,kilometrosLimite:U?parseFloat(U):void 0,kilometrosActuales:H?parseFloat(H):void 0}),r("Recordatorio guardado correctamente","success")),V(),c(!1)}catch(N){console.error("Error saving reminder:",N),r("Error al guardar recordatorio","error")}},le=N=>{var k,D;d(N),m(N.titulo),b(N.descripcion||""),T(N.tipo),_(N.fechaLimite.split("T")[0]),F(N.horaRecordatorio||""),L(N.fechaRecordatorio?N.fechaRecordatorio.split("T")[0]:""),I(N.sonidoActivo||!1),K(((k=N.kilometrosLimite)==null?void 0:k.toString())||""),oe(((D=N.kilometrosActuales)==null?void 0:D.toString())||""),c(!0)},Z=async N=>{await C9(N)},ie=async N=>{confirm("Eliminar este recordatorio?")&&await k9(N)},J=N=>new Date(N).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),Y=N=>({mantenimiento:" Mantenimiento",pago:" Pago",documentacion:" Documentacin",personalizado:" Personalizado"})[N]||N,se=n.filter(N=>!N.completado),P=n.filter(N=>N.completado);return l.jsxs("div",{className:`min-h-screen ${t?"bg-zinc-950":"bg-zinc-100"} text-zinc-100 px-3 pt-3 pb-24`,children:[l.jsx(ia,{title:"Recordatorios",navigateTo:e,backTarget:mt.Home}),l.jsxs("div",{className:"max-w-xl mx-auto space-y-4 mt-4",children:[l.jsxs("button",{onClick:()=>{V(),c(!0)},className:`w-full py-3 rounded-xl font-semibold flex items-center justify-center gap-2 ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Recordatorio"]}),se.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:`text-lg font-bold mb-3 ${t?"text-zinc-100":"text-zinc-900"}`,children:["Pendientes (",se.length,")"]}),l.jsx("div",{className:"space-y-2",children:se.map(N=>l.jsx("div",{className:`p-4 rounded-xl border ${t?"bg-zinc-800 border-zinc-700":"bg-white border-zinc-300"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-sm",children:Y(N.tipo)}),N.tipo==="mantenimiento"&&N.kilometrosLimite&&l.jsxs("span",{className:"text-xs text-zinc-400",children:[N.kilometrosLimite," km"]})]}),l.jsx("h3",{className:`font-semibold mb-1 ${t?"text-zinc-100":"text-zinc-900"}`,children:N.titulo}),N.descripcion&&l.jsx("p",{className:`text-sm mb-2 ${t?"text-zinc-400":"text-zinc-600"}`,children:N.descripcion}),N.tipo!=="mantenimiento"&&l.jsxs("div",{className:"space-y-0.5",children:[l.jsxs("p",{className:`text-xs ${t?"text-zinc-400":"text-zinc-600"}`,children:["Fecha lmite: ",J(N.fechaLimite)]}),N.horaRecordatorio&&l.jsxs("p",{className:`text-xs ${t?"text-zinc-400":"text-zinc-600"}`,children:["Hora: ",N.horaRecordatorio,N.sonidoActivo&&l.jsx("span",{className:"ml-1",children:""})]})]})]}),l.jsxs("div",{className:"flex gap-2 ml-2",children:[l.jsx("button",{onClick:()=>Z(N.id),className:"text-green-400 hover:text-green-300 text-sm",title:"Completar",children:""}),l.jsx("button",{onClick:()=>le(N),className:"text-blue-400 hover:text-blue-300 text-sm",title:"Editar",children:""}),l.jsx("button",{onClick:()=>ie(N.id),className:"text-red-400 hover:text-red-300 text-sm",title:"Eliminar",children:""})]})]})},N.id))})]}),P.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:`text-lg font-bold mb-3 ${t?"text-zinc-100":"text-zinc-900"}`,children:["Completados (",P.length,")"]}),l.jsx("div",{className:"space-y-2",children:P.map(N=>l.jsx("div",{className:`p-4 rounded-xl border opacity-60 ${t?"bg-zinc-800 border-zinc-700":"bg-white border-zinc-300"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"text-sm",children:Y(N.tipo)}),l.jsx("h3",{className:`font-semibold line-through ${t?"text-zinc-400":"text-zinc-500"}`,children:N.titulo})]}),l.jsx("button",{onClick:()=>ie(N.id),className:"text-red-400 hover:text-red-300 text-sm",children:""})]})},N.id))})]}),n.length===0&&l.jsxs("div",{className:`text-center py-12 ${t?"text-zinc-400":"text-zinc-600"}`,children:[l.jsx("p",{children:"No hay recordatorios"}),l.jsx("p",{className:"text-sm mt-2",children:"Crea un recordatorio para no olvidar nada importante"})]})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:`rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto ${t?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-300"}`,children:[l.jsx("h3",{className:`text-lg font-bold mb-4 ${t?"text-zinc-100":"text-zinc-900"}`,children:u?"Editar Recordatorio":"Nuevo Recordatorio"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Ttulo *"}),l.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: Cambio de aceite"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Tipo"}),l.jsxs("select",{value:g,onChange:N=>T(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,children:[l.jsx("option",{value:"personalizado",children:" Personalizado"}),l.jsx("option",{value:"mantenimiento",children:" Mantenimiento"}),l.jsx("option",{value:"pago",children:" Pago"}),l.jsx("option",{value:"documentacion",children:" Documentacin"})]})]}),g==="mantenimiento"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Kilmetros Lmite *"}),l.jsx("input",{type:"number",value:U,onChange:N=>K(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: 150000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Kilmetros Actuales (opcional)"}),l.jsx("input",{type:"number",value:H,onChange:N=>oe(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: 145000"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Fecha Lmite *"}),l.jsx("input",{type:"date",value:w,onChange:N=>_(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Hora del Recordatorio (opcional)"}),l.jsx("input",{type:"time",value:E,onChange:N=>F(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`}),l.jsx("p",{className:"text-xs mt-1 text-zinc-500",children:"Se reproducir un sonido a esta hora"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Recordar el (opcional)"}),l.jsx("input",{type:"date",value:C,onChange:N=>L(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"sonidoActivo",checked:X,onChange:N=>I(N.target.checked),className:`h-4 w-4 rounded ${t?"border-zinc-600 bg-zinc-800 text-blue-500":"border-zinc-300 bg-zinc-100 text-blue-500"}`}),l.jsx("label",{htmlFor:"sonidoActivo",className:`text-sm ${t?"text-zinc-300":"text-zinc-700"}`,children:" Activar aviso sonoro"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Descripcin (opcional)"}),l.jsx("textarea",{value:x,onChange:N=>b(N.target.value),rows:3,className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Notas adicionales..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:re,className:`flex-1 py-2 rounded-lg font-semibold ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Guardar"}),l.jsx("button",{onClick:()=>{c(!1),V()},className:`px-4 py-2 rounded-lg ${t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-zinc-200 text-zinc-700 hover:bg-zinc-300"}`,children:"Cancelar"})]})]})]})})]})},V$=({onLoginSuccess:e,onSkip:t})=>{const[r,n]=W.useState(!1),[a,s]=W.useState(null),{isDark:c}=to(),u=async()=>{n(!0),s(null);try{await Hu(),setTimeout(()=>{e()},500)}catch(d){console.error("Error en autenticacin:",d);const h=(d==null?void 0:d.message)||"";h.includes("VITE_GOOGLE")||h.includes("archivo .env")||h.includes("faltante")?s("Configuracin de Google incompleta. Contacta al administrador."):h.includes("popup_closed_by_user")?s("Inicio de sesin cancelado."):s("No se pudo conectar con Google. Intntalo de nuevo o contina sin conexin."),n(!1)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-slate-50 to-blue-50 dark:from-zinc-950 dark:to-zinc-900 transition-colors duration-300",children:l.jsxs("div",{className:"w-full max-w-sm space-y-8 animate-in fade-in zoom-in duration-500",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("div",{className:"mx-auto w-24 h-24 bg-transparent rounded-2xl shadow-xl flex items-center justify-center transform rotate-3 hover:rotate-0 transition-transform duration-300 overflow-hidden",children:l.jsx("img",{src:"/TAppXI-Basic/icon-192.png",alt:"TAppXI Logo",className:"w-full h-full object-cover"})}),l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white mt-6",children:"TAppXI"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Gestiona tu taxi de forma inteligente"})]}),l.jsx("div",{className:"bg-white/80 dark:bg-zinc-900/80 backdrop-blur-xl border border-slate-200 dark:border-zinc-800 rounded-3xl p-8 shadow-2xl shadow-blue-900/5",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"space-y-2 text-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Iniciar Sesin"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Conecta con Google para sincronizar tus copias de seguridad."})]}),a&&l.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-sm text-red-600 dark:text-red-300 font-medium",children:a})]}),l.jsx("button",{onClick:u,disabled:r,className:"w-full group relative overflow-hidden rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 p-4 font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:l.jsx("div",{className:"flex items-center justify-center gap-3 relative z-10",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:"Conectando..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{children:"Continuar con Google"})]})})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200 dark:border-zinc-800"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white dark:bg-zinc-900 text-slate-500 dark:text-slate-400",children:"O"})})]}),l.jsx("button",{onClick:t,className:"w-full py-3 px-4 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-zinc-800 transition-colors duration-200",children:"Continuar sin cuenta"})]})}),l.jsx("p",{className:"text-center text-xs text-slate-400 dark:text-slate-500 max-w-xs mx-auto",children:"Al continuar, aceptas nuestros trminos de servicio y poltica de privacidad."})]})})},G$=({navigateTo:e})=>l.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-10",children:l.jsx("div",{className:"relative h-10 bg-yellow-400 flex items-center justify-center",children:l.jsx("button",{onClick:()=>e(mt.Home),className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl hover:bg-zinc-50 transition-all hover:scale-105 border-4 border-yellow-400","aria-label":"Ir a Home",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-zinc-900",children:l.jsx("path",{d:"M12 3L4 9v12h5v-7h6v7h5V9l-8-6z"})})})})}),q$=({onUnlock:e})=>{const[t,r]=W.useState(""),[n,a]=W.useState(!1),s=Df.getDeviceId(),c=()=>{Df.activate(t)?e():(a(!0),setTimeout(()=>a(!1),2e3))};return l.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center p-6 text-center",children:[l.jsxs("div",{className:"max-w-md w-full bg-zinc-900 border border-zinc-800 rounded-2xl p-8 shadow-2xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-900/50",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"white",children:l.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),l.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Terminal Bloqueado"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Esta aplicacin es de uso privado. Para acceder, solicita el cdigo de activacin al administrador."})]}),l.jsxs("div",{className:"bg-zinc-950 rounded-lg p-4 mb-6 border border-zinc-800",children:[l.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"ID de Terminal"}),l.jsx("p",{className:"text-2xl font-mono text-blue-400 font-bold tracking-widest select-all",children:s})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"tel",value:t,onChange:u=>r(u.target.value),placeholder:"Cdigo de Activacin",maxLength:6,className:`w-full bg-zinc-800 text-center text-xl font-mono text-white py-3 px-4 rounded-lg border-2 focus:outline-none transition-colors
                            ${n?"border-red-500 animate-shake":"border-zinc-700 focus:border-blue-500"}`}),l.jsxs("button",{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-4 rounded-lg shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95",children:[l.jsx("span",{children:"Desbloquear"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"currentColor",children:l.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]}),n&&l.jsx("p",{className:"text-red-400 text-sm font-semibold animate-pulse",children:"Cdigo incorrecto"})]})]}),l.jsx("p",{className:"mt-8 text-zinc-600 text-xs",children:"TAppXI v1.0  Acceso Restringido"})]})},W$=()=>l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-zinc-950 overflow-hidden",children:[l.jsx("video",{src:"/TAppXI-Basic/splash-video.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0,className:"w-full h-full object-cover",onContextMenu:e=>e.preventDefault()}),l.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none"})]}),$$=()=>{const[e,t]=W.useState(localStorage.getItem("tappxi_setup_complete")==="true"),[r,n]=W.useState(mt.Home),[a,s]=W.useState(null),[c,u]=W.useState(void 0),[d,h]=W.useState(null),[m,x]=W.useState(null),[b,g]=W.useState(0),{isDark:T}=to(),[w,_]=W.useState(Df.isActivated()),[E,F]=W.useState(!0),C=()=>{t(!0),localStorage.setItem("tappxi_setup_complete","true")};W.useEffect(()=>{(async()=>{try{await $8()}catch(R){console.error(R)}finally{setTimeout(()=>{F(!1)},3e3)}})()},[]),W.useEffect(()=>(R9(),F9(),()=>{O9()}),[]),W.useEffect(()=>{window.scrollTo(0,0)},[r]);const L=W.useCallback((O,R)=>{O===mt.IntroducirCarrera&&s(null),O!==mt.IntroducirCarrera&&u(void 0),O===mt.EditarTurno&&R&&h(R),O===mt.ResumenGastosMensual&&g(V=>V+1),n(O)},[]),X=W.useCallback(O=>{s(O),n(mt.EditarCarrera)},[]),I=W.useCallback(O=>{x(O),n(mt.EditarGasto)},[]),{showToast:U}=To(),K=W.useCallback(async O=>{if((O==="minima"||O==="aeropuerto")&&!await d1()){U(" Debes iniciar un turno para poder registrar carreras.","warning");return}if(O==="minima"){const{amount:R,tariffName:V}=yO();u({taximetro:R,cobrado:R,formaPago:"Efectivo",tipoCarrera:"Urbana",suplementos:V}),L(mt.IntroducirCarrera)}else if(O==="aeropuerto"){const{amount:R,tariffName:V,isNight:re}=wO();u({taximetro:R,cobrado:R,formaPago:"Tarjeta",aeropuerto:!0,tipoCarrera:"Interurbana"}),L(mt.IntroducirCarrera)}},[L,U]);if(K9([{key:"n",ctrlKey:!0,action:()=>{(r===mt.Home||r===mt.VistaCarreras)&&L(mt.IntroducirCarrera)},description:"Nueva carrera"},{key:"e",ctrlKey:!0,action:()=>{r===mt.Home&&L(mt.Gastos)},description:"Nuevo gasto"},{key:"h",ctrlKey:!0,action:()=>{r!==mt.Home&&L(mt.Home)},description:"Ir a inicio"},{key:"Escape",action:()=>{r!==mt.Home&&L(mt.Home)},description:"Volver atrs"}]),E)return l.jsx(W$,{});if(!e)return l.jsx(V$,{onLoginSuccess:C,onSkip:C});if(!w)return l.jsx(q$,{onUnlock:()=>_(!0)});const H=()=>{switch(r){case mt.Home:return l.jsx(h3,{navigateTo:L,onQuickAction:K});case mt.VistaCarreras:return l.jsx(Dz,{navigateTo:L,navigateToEditRace:X});case mt.IntroducirCarrera:return l.jsx(b3,{navigateTo:L,raceId:null,initialData:c});case mt.EditarCarrera:return l.jsx(b3,{navigateTo:L,raceId:a});case mt.Gastos:return l.jsx(U3,{navigateTo:L});case mt.EditarGasto:return l.jsx(U3,{navigateTo:L,gastoId:m});case mt.Turnos:return l.jsx(V3,{navigateTo:L});case mt.EditarTurno:return d?l.jsx(NO,{navigateTo:L,turnoId:d}):l.jsx(V3,{navigateTo:L});case mt.CerrarTurno:return l.jsx(SO,{navigateTo:L});case mt.Historico:return l.jsx(TO,{navigateTo:L});case mt.Resumen:return l.jsx(CO,{navigateTo:L});case mt.ResumenDiario:return l.jsx(zO,{navigateTo:L});case mt.ResumenMensual:return l.jsx(AI,{navigateTo:L});case mt.ResumenMensualDetallado:return l.jsx(kI,{navigateTo:L});case mt.ResumenGastosMensual:return l.jsx(FI,{navigateTo:L,navigateToEditGasto:I},`gastos-${b}`);case mt.ResumenMensualIngresos:return l.jsx(II,{navigateTo:L});case mt.ResumenAnualDetallado:return l.jsx(BI,{navigateTo:L});case mt.AjustesGenerales:return l.jsx(_$,{navigateTo:L});case mt.GestionDatos:return l.jsx(a6,{navigateTo:L,initialTab:"proveedores"});case mt.Vales:return l.jsx(a6,{navigateTo:L,initialTab:"vales"});case mt.OtrosIngresos:return l.jsx(E$,{navigateTo:L});case mt.Varios:return l.jsx(z$,{navigateTo:L});case mt.Estadisticas:return l.jsx(M$,{navigateTo:L});case mt.Calendario:return l.jsx(I$,{navigateTo:L});case mt.ConfiguracionDescansos:return l.jsx(P$,{navigateTo:L});case mt.Informes:return l.jsx(B$,{navigateTo:L});case mt.AnalisisAvanzado:return l.jsx(U$,{navigateTo:L});case mt.Recordatorios:return l.jsx(H$,{navigateTo:L});default:return l.jsx(h3,{navigateTo:L})}},oe=T?"bg-zinc-950 text-zinc-50":"bg-zinc-50 text-zinc-900";return l.jsx(X9,{children:l.jsxs("div",{className:`${oe} min-h-screen font-sans overflow-hidden`,children:[l.jsx("main",{className:"w-full pb-24 h-full relative",children:l.jsx(Sk,{mode:"wait",children:l.jsx(t9,{children:H()},r)})}),r!==mt.Home&&l.jsx(G$,{navigateTo:L})]})})};class Y$ extends W.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.getIsDark=()=>{if(typeof window<"u"){const r=localStorage.getItem("temaOscuro");return r!==null?r==="true":document.documentElement.classList.contains("dark")}return!1},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r),this.setState({errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx(X$,{error:this.state.error,errorInfo:this.state.errorInfo,onReset:this.handleReset,isDark:this.getIsDark()}):this.props.children}}const X$=({error:e,errorInfo:t,onReset:r,isDark:n})=>l.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${n?"bg-zinc-950":"bg-zinc-50"}`,children:l.jsx("div",{className:`max-w-md w-full p-6 rounded-xl ${n?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-200"} shadow-xl`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h2",{className:`text-2xl font-bold mb-2 ${n?"text-red-400":"text-red-600"}`,children:"Algo sali mal"}),l.jsx("p",{className:`mb-4 ${n?"text-zinc-300":"text-zinc-700"}`,children:"Ha ocurrido un error inesperado. Por favor, recarga la pgina o intenta de nuevo."}),e&&l.jsxs("details",{className:`text-left mb-4 p-3 rounded ${n?"bg-zinc-800":"bg-zinc-100"}`,children:[l.jsx("summary",{className:`cursor-pointer font-semibold ${n?"text-zinc-400":"text-zinc-600"}`,children:"Detalles del error"}),l.jsxs("pre",{className:`mt-2 text-xs overflow-auto ${n?"text-zinc-500":"text-zinc-600"}`,children:[e.message,t&&l.jsxs(l.Fragment,{children:[`

`,t.componentStack]})]})]}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg font-semibold ${n?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Intentar de nuevo"}),l.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 rounded-lg font-semibold ${n?"bg-zinc-700 hover:bg-zinc-600 text-white":"bg-zinc-200 hover:bg-zinc-300 text-zinc-900"}`,children:"Recargar pgina"})]})]})})}),K$=e=>l.jsx(Y$,{...e}),QE=document.getElementById("root");if(!QE)throw new Error("Could not find root element to mount to");const Z$=bC.createRoot(QE);Z$.render(l.jsx(Vi.StrictMode,{children:l.jsx(K$,{children:l.jsx(r9,{children:l.jsx(UI,{children:l.jsx($9,{children:l.jsx($$,{})})})})})}));export{An as _,Q$ as c,Hv as g};
